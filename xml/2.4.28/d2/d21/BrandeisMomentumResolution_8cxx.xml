<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.6.1">
  <compounddef id="d2/d21/BrandeisMomentumResolution_8cxx" kind="file">
    <compoundname>BrandeisMomentumResolution.cxx</compoundname>
    <includes refid="d7/dcb/BrandeisMomentumResolution_8h" local="yes">MuonMomentumCorrections/BrandeisMomentumResolution.h</includes>
    <includes local="no">cmath</includes>
    <incdepgraph>
      <node id="215900">
        <label>MuonMomentumCorrections/BrandeisMomentumResolution.h</label>
        <link refid="d7/dcb/BrandeisMomentumResolution_8h_source"/>
      </node>
      <node id="215901">
        <label>cmath</label>
      </node>
      <node id="215899">
        <label>/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/MuonMomentumCorrections/Root/BrandeisMomentumResolution.cxx</label>
        <link refid="BrandeisMomentumResolution.cxx"/>
        <childnode refid="215900" relation="include">
        </childnode>
        <childnode refid="215901" relation="include">
        </childnode>
      </node>
    </incdepgraph>
    <innernamespace refid="de/d98/namespaceBrandeis">Brandeis</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#include<sp/>&quot;MuonMomentumCorrections/BrandeisMomentumResolution.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;cmath&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="keyword">using<sp/>namespace<sp/></highlight><highlight class="normal">std;</highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal">Brandeis<sp/>{</highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>function<sp/>below<sp/>returns<sp/>the<sp/>ID<sp/>momentum<sp/>resolution,<sp/>in<sp/>percent<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>muon<sp/>trasverse<sp/>momentum<sp/>is<sp/>taken<sp/>as<sp/>argument<sp/>and<sp/>must<sp/>be<sp/>in<sp/>**GeV**<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//--------------------------------------------------------------------<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>GetMomentumResolutionID(<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>mu_pt,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>mu_eta,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>isMC<sp/>)</highlight></codeline>
<codeline lineno="12"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="13"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>par1_ID<sp/>=<sp/>(<sp/>isMC<sp/>?<sp/>1.78254<sp/>:<sp/>1.93223<sp/>);</highlight></codeline>
<codeline lineno="14"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>par2_ID<sp/>=<sp/>(<sp/>isMC<sp/>?<sp/>0.26479<sp/>:<sp/>0.29712<sp/>);</highlight></codeline>
<codeline lineno="15"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>PEAK<sp/>=<sp/>0.75;</highlight></codeline>
<codeline lineno="16"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>WIDTH1<sp/>=<sp/>0.10;</highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>WIDTH2<sp/>=<sp/>0.15;</highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>protections</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(fabs(mu_eta)&gt;2.5)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>999.;<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="21"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>&quot;canonical&quot;<sp/>term,<sp/>describing<sp/>multiple<sp/>scattering<sp/>and<sp/>alignment<sp/>constributions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>sigmaID<sp/>=<sp/>100*sqrt((par1_ID/100)*(par1_ID/100)<sp/>+<sp/>(par2_ID/1000)*(par2_ID/1000)*(mu_pt*mu_pt-1600));</highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>ID<sp/>peculiar<sp/>features</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>sigmaPtEta<sp/>=<sp/>0.;</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(fabs(mu_eta)<sp/>&lt;<sp/>Brandeis::etaID<sp/>)</highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/>sigmaPtEta<sp/>=<sp/>sigmaID<sp/>*<sp/>(1.0<sp/>+<sp/>(Brandeis::p2ID<sp/>+<sp/>mu_pt*Brandeis::p3ID<sp/>+<sp/>mu_pt*mu_pt*Brandeis::p4ID<sp/>+<sp/>mu_pt*mu_pt*mu_pt*Brandeis::p5ID)*pow(fabs(mu_eta),2)</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/>(Brandeis::p6ID<sp/><sp/>+<sp/>mu_pt*Brandeis::p7ID<sp/><sp/>+<sp/>mu_pt*mu_pt*Brandeis::p8ID<sp/><sp/>+<sp/>mu_pt*mu_pt*mu_pt*Brandeis::p9ID)<sp/>*pow(fabs(mu_eta),4)</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/>(Brandeis::p10ID<sp/>+<sp/>mu_pt*Brandeis::p11ID<sp/>+<sp/>mu_pt*mu_pt*Brandeis::p12ID<sp/>+<sp/>mu_pt*mu_pt*mu_pt*Brandeis::p13ID)*pow(fabs(mu_eta),6)</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/>(Brandeis::p14ID<sp/>+<sp/>mu_pt*Brandeis::p15ID<sp/>+<sp/>mu_pt*mu_pt*Brandeis::p16ID<sp/>+<sp/>mu_pt*mu_pt*mu_pt*Brandeis::p17ID)*pow(fabs(mu_eta),8));</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/>sigmaPtEta<sp/>=<sp/>sigmaID<sp/>*<sp/>(1.0<sp/>+<sp/>(Brandeis::p2ID<sp/>+<sp/>mu_pt*Brandeis::p3ID<sp/>+<sp/>mu_pt*mu_pt*Brandeis::p4ID<sp/>+<sp/>mu_pt*mu_pt*mu_pt*Brandeis::p5ID)*pow(Brandeis::etaID,2)</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/>(Brandeis::p6ID<sp/><sp/>+<sp/>mu_pt*Brandeis::p7ID<sp/><sp/>+<sp/>mu_pt*mu_pt*Brandeis::p8ID<sp/><sp/>+<sp/>mu_pt*mu_pt*mu_pt*Brandeis::p9ID)<sp/>*pow(Brandeis::etaID,4)</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/>(Brandeis::p10ID<sp/>+<sp/>mu_pt*Brandeis::p11ID<sp/>+<sp/>mu_pt*mu_pt*Brandeis::p12ID<sp/>+<sp/>mu_pt*mu_pt*mu_pt*Brandeis::p13ID)*pow(Brandeis::etaID,6)</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/>(Brandeis::p14ID<sp/>+<sp/>mu_pt*Brandeis::p15ID<sp/>+<sp/>mu_pt*mu_pt*Brandeis::p16ID<sp/>+<sp/>mu_pt*mu_pt*mu_pt*Brandeis::p17ID)*pow(Brandeis::etaID,8)</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/>(Brandeis::p18ID<sp/>+<sp/>mu_pt*Brandeis::p19ID<sp/>+<sp/>mu_pt*mu_pt*Brandeis::p20ID<sp/>+<sp/>mu_pt*mu_pt*mu_pt*Brandeis::p21ID)*pow(fabs(mu_eta)<sp/>-<sp/>Brandeis::etaID,1)</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/>(Brandeis::p22ID<sp/>+<sp/>mu_pt*Brandeis::p23ID<sp/>+<sp/>mu_pt*mu_pt*Brandeis::p24ID<sp/>+<sp/>mu_pt*mu_pt*mu_pt*Brandeis::p25ID)*pow(fabs(mu_eta)<sp/>-<sp/>Brandeis::etaID,2)<sp/>);</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>peak<sp/>near<sp/>eta<sp/>~<sp/>0.75</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>sigmaPeak<sp/>=<sp/>(Brandeis::p26ID<sp/>+<sp/>mu_pt*Brandeis::p27ID)*exp(-0.5*pow((fabs(mu_eta)-PEAK)/WIDTH1,2));</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>peak<sp/>at<sp/>eta<sp/>~<sp/>0<sp/>-&gt;<sp/>WILL<sp/>BE<sp/>IMPROVED</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>sigmaZero<sp/>=<sp/>((Brandeis::p28ID)*exp(-fabs(mu_eta)/WIDTH2));</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>merge<sp/>various<sp/>terms<sp/>-&gt;<sp/>return<sp/>%<sp/>resolution</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>sqrt(<sp/>pow(sigmaPtEta*(1.0<sp/>+<sp/>sigmaZero),2)<sp/>+<sp/>pow(sigmaPeak,2)<sp/>);</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal">}<sp/></highlight><highlight class="comment">//<sp/>namespace</highlight><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/MuonMomentumCorrections/Root/BrandeisMomentumResolution.cxx"/>
  </compounddef>
</doxygen>
