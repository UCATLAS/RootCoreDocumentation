<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.6.1">
  <compounddef id="d2/dc4/JERSmearingTool_8cxx" kind="file">
    <compoundname>JERSmearingTool.cxx</compoundname>
    <includes local="no">cmath</includes>
    <includes local="no">stdexcept</includes>
    <includes refid="d7/d0b/JERSmearingTool_8h" local="yes">JetResolution/JERSmearingTool.h</includes>
    <includes refid="de/d22/SystematicRegistry_8h" local="yes">PATInterfaces/SystematicRegistry.h</includes>
    <incdepgraph>
      <node id="174075">
        <label>list</label>
      </node>
      <node id="174084">
        <label>AthContainers/tools/DVL_algorithms.icc</label>
        <link refid="df/daa/DVL__algorithms_8icc"/>
        <childnode refid="174069" relation="include">
        </childnode>
        <childnode refid="174076" relation="include">
        </childnode>
        <childnode refid="173999" relation="include">
        </childnode>
        <childnode refid="174065" relation="include">
        </childnode>
        <childnode refid="174006" relation="include">
        </childnode>
      </node>
      <node id="174069">
        <label>AthContainers/tools/DVLNoBase.h</label>
        <link refid="d7/d92/DVLNoBase_8h"/>
      </node>
      <node id="174043">
        <label>boost/thread/mutex.hpp</label>
      </node>
      <node id="174091">
        <label>AthContainers/tools/DVLDataBucket.h</label>
        <link refid="d4/d16/DVLDataBucket_8h"/>
        <childnode refid="174092" relation="include">
        </childnode>
        <childnode refid="174070" relation="include">
        </childnode>
        <childnode refid="174012" relation="include">
        </childnode>
        <childnode refid="174093" relation="include">
        </childnode>
      </node>
      <node id="174045">
        <label>CxxUtils/unordered_map.h</label>
        <link refid="db/daa/unordered__map_8h"/>
        <childnode refid="174005" relation="include">
        </childnode>
        <childnode refid="174007" relation="include">
        </childnode>
        <childnode refid="174012" relation="include">
        </childnode>
        <childnode refid="174013" relation="include">
        </childnode>
      </node>
      <node id="173975">
        <label>AsgTools/IAsgTool.h</label>
        <link refid="df/dd4/IAsgTool_8h_source"/>
        <childnode refid="173976" relation="include">
        </childnode>
        <childnode refid="173974" relation="include">
        </childnode>
        <childnode refid="173977" relation="include">
        </childnode>
        <childnode refid="173978" relation="include">
        </childnode>
      </node>
      <node id="174046">
        <label>AthContainers/AuxTypeRegistry.icc</label>
        <link refid="d8/df3/AuxTypeRegistry_8icc"/>
      </node>
      <node id="174015">
        <label>AthContainersInterfaces/IAuxStore.h</label>
        <link refid="d6/d3e/IAuxStore_8h"/>
        <childnode refid="174001" relation="include">
        </childnode>
        <childnode refid="174003" relation="include">
        </childnode>
        <childnode refid="174016" relation="include">
        </childnode>
        <childnode refid="174014" relation="include">
        </childnode>
      </node>
      <node id="174108">
        <label>EventPrimitives/EventPrimitives.h</label>
        <link refid="d1/d54/EventPrimitives_8h_source"/>
        <childnode refid="174109" relation="include">
        </childnode>
        <childnode refid="174110" relation="include">
        </childnode>
        <childnode refid="174111" relation="include">
        </childnode>
      </node>
      <node id="174011">
        <label>boost/type_traits/remove_const.hpp</label>
      </node>
      <node id="174013">
        <label>functional</label>
      </node>
      <node id="174147">
        <label>PATInterfaces/ISystematicsTool.h</label>
        <link refid="d6/db3/ISystematicsTool_8h_source"/>
        <childnode refid="173975" relation="include">
        </childnode>
        <childnode refid="174148" relation="include">
        </childnode>
        <childnode refid="174149" relation="include">
        </childnode>
        <childnode refid="174152" relation="include">
        </childnode>
      </node>
      <node id="174066">
        <label>boost/version.hpp</label>
      </node>
      <node id="174010">
        <label>limits</label>
      </node>
      <node id="174016">
        <label>SGTools/BaseInfo.h</label>
      </node>
      <node id="174139">
        <label>xAODBTagging/versions/BTaggingContainer_v1.h</label>
        <link refid="d9/d93/BTaggingContainer__v1_8h_source"/>
        <childnode refid="174060" relation="include">
        </childnode>
        <childnode refid="174101" relation="include">
        </childnode>
      </node>
      <node id="174041">
        <label>boost/thread/tss.hpp</label>
      </node>
      <node id="173978">
        <label>GaudiKernel/IAlgTool.h</label>
      </node>
      <node id="174008">
        <label>iterator</label>
      </node>
      <node id="174029">
        <label>AthContainersInterfaces/AuxDataOption.h</label>
        <link refid="d1/dc5/AuxDataOption_8h"/>
        <childnode refid="173976" relation="include">
        </childnode>
        <childnode refid="174030" relation="include">
        </childnode>
      </node>
      <node id="173987">
        <label>xAODJet/Jet.h</label>
        <link refid="da/db7/Jet_8h_source"/>
        <childnode refid="173988" relation="include">
        </childnode>
        <childnode refid="174116" relation="include">
        </childnode>
      </node>
      <node id="174137">
        <label>xAODBTagging/versions/BTagVertex_v1.h</label>
        <link refid="d6/df4/BTagVertex__v1_8h_source"/>
        <childnode refid="173999" relation="include">
        </childnode>
        <childnode refid="173990" relation="include">
        </childnode>
        <childnode refid="173997" relation="include">
        </childnode>
        <childnode refid="174059" relation="include">
        </childnode>
        <childnode refid="174103" relation="include">
        </childnode>
        <childnode refid="174121" relation="include">
        </childnode>
        <childnode refid="174120" relation="include">
        </childnode>
        <childnode refid="173989" relation="include">
        </childnode>
        <childnode refid="174026" relation="include">
        </childnode>
        <childnode refid="173976" relation="include">
        </childnode>
        <childnode refid="174014" relation="include">
        </childnode>
      </node>
      <node id="174145">
        <label>xAODJet/versions/JetContainer_v1.h</label>
        <link refid="df/d28/JetContainer__v1_8h_source"/>
        <childnode refid="174060" relation="include">
        </childnode>
        <childnode refid="173988" relation="include">
        </childnode>
      </node>
      <node id="174090">
        <label>SGTools/ClassName.h</label>
      </node>
      <node id="173984">
        <label>PATInterfaces/CorrectionTool.h</label>
        <link refid="d5/d57/CorrectionTool_8h_source"/>
        <childnode refid="173985" relation="include">
        </childnode>
      </node>
      <node id="174096">
        <label>AthContainers/DataVector.icc</label>
        <link refid="da/de6/DataVector_8icc"/>
        <childnode refid="174097" relation="include">
        </childnode>
        <childnode refid="174064" relation="include">
        </childnode>
        <childnode refid="174010" relation="include">
        </childnode>
        <childnode refid="174013" relation="include">
        </childnode>
        <childnode refid="174098" relation="include">
        </childnode>
      </node>
      <node id="174053">
        <label>AthContainers/exceptions.h</label>
        <link refid="d4/d03/exceptions_8h"/>
        <childnode refid="174002" relation="include">
        </childnode>
        <childnode refid="174054" relation="include">
        </childnode>
        <childnode refid="173971" relation="include">
        </childnode>
        <childnode refid="174021" relation="include">
        </childnode>
        <childnode refid="173976" relation="include">
        </childnode>
      </node>
      <node id="174025">
        <label>AthContainers/tools/AuxDataTraits.h</label>
        <link refid="d3/d5a/AuxDataTraits_8h"/>
        <childnode refid="174026" relation="include">
        </childnode>
        <childnode refid="174009" relation="include">
        </childnode>
      </node>
      <node id="173991">
        <label>stdint.h</label>
      </node>
      <node id="174076">
        <label>AthContainers/tools/DVLCast.h</label>
        <link refid="df/d5c/DVLCast_8h"/>
        <childnode refid="174010" relation="include">
        </childnode>
        <childnode refid="174077" relation="include">
        </childnode>
        <childnode refid="174021" relation="include">
        </childnode>
        <childnode refid="174009" relation="include">
        </childnode>
        <childnode refid="174003" relation="include">
        </childnode>
      </node>
      <node id="174062">
        <label>AthContainers/IndexTrackingPolicy.h</label>
        <link refid="d0/da5/IndexTrackingPolicy_8h"/>
      </node>
      <node id="174022">
        <label>AthContainersInterfaces/IAuxTypeVectorFactory.h</label>
        <link refid="d4/d2c/IAuxTypeVectorFactory_8h"/>
        <childnode refid="174003" relation="include">
        </childnode>
        <childnode refid="174021" relation="include">
        </childnode>
      </node>
      <node id="174124">
        <label>Eigen/Geometry</label>
      </node>
      <node id="173994">
        <label>RVersion.h</label>
      </node>
      <node id="174146">
        <label>JetResolution/IJERSmearingTool.h</label>
        <link refid="db/dcc/IJERSmearingTool_8h_source"/>
        <childnode refid="173987" relation="include">
        </childnode>
        <childnode refid="173985" relation="include">
        </childnode>
        <childnode refid="174147" relation="include">
        </childnode>
      </node>
      <node id="174004">
        <label>CxxUtils/unordered_set.h</label>
        <link refid="df/d26/unordered__set_8h"/>
        <childnode refid="174005" relation="include">
        </childnode>
        <childnode refid="174012" relation="include">
        </childnode>
        <childnode refid="174013" relation="include">
        </childnode>
      </node>
      <node id="173970">
        <label>cmath</label>
      </node>
      <node id="174056">
        <label>cassert</label>
      </node>
      <node id="174067">
        <label>boost/mpl/if.hpp</label>
      </node>
      <node id="174086">
        <label>boost/static_assert.hpp</label>
      </node>
      <node id="173971">
        <label>stdexcept</label>
      </node>
      <node id="173979">
        <label>AsgTools/MsgLevel.h</label>
        <link refid="de/d80/MsgLevel_8h"/>
        <childnode refid="173976" relation="include">
        </childnode>
        <childnode refid="173974" relation="include">
        </childnode>
        <childnode refid="173980" relation="include">
        </childnode>
      </node>
      <node id="174044">
        <label>boost/thread/thread.hpp</label>
      </node>
      <node id="174110">
        <label>Eigen/Core</label>
      </node>
      <node id="174073">
        <label>boost/type_traits/is_pointer.hpp</label>
      </node>
      <node id="174112">
        <label>xAODTracking/VertexContainerFwd.h</label>
        <link refid="d0/dc4/VertexContainerFwd_8h_source"/>
        <childnode refid="174060" relation="include">
        </childnode>
        <childnode refid="174113" relation="include">
        </childnode>
      </node>
      <node id="174118">
        <label>xAODTracking/TrackParticleContainerFwd.h</label>
        <link refid="de/dea/TrackParticleContainerFwd_8h_source"/>
        <childnode refid="174060" relation="include">
        </childnode>
        <childnode refid="174059" relation="include">
        </childnode>
        <childnode refid="174119" relation="include">
        </childnode>
      </node>
      <node id="174081">
        <label>boost/iterator/iterator_adaptor.hpp</label>
      </node>
      <node id="173998">
        <label>TLorentzVector.h</label>
      </node>
      <node id="173974">
        <label>AsgTools/AsgToolsConf.h</label>
        <link refid="df/db7/AsgToolsConf_8h_source"/>
      </node>
      <node id="173976">
        <label>string</label>
      </node>
      <node id="174047">
        <label>AthContainers/AuxVectorData.h</label>
        <link refid="d9/df2/AuxVectorData_8h"/>
        <childnode refid="174002" relation="include">
        </childnode>
        <childnode refid="174001" relation="include">
        </childnode>
        <childnode refid="174029" relation="include">
        </childnode>
        <childnode refid="174025" relation="include">
        </childnode>
        <childnode refid="174017" relation="include">
        </childnode>
        <childnode refid="174048" relation="include">
        </childnode>
        <childnode refid="174049" relation="include">
        </childnode>
        <childnode refid="174032" relation="include">
        </childnode>
        <childnode refid="174026" relation="include">
        </childnode>
        <childnode refid="174007" relation="include">
        </childnode>
        <childnode refid="174009" relation="include">
        </childnode>
        <childnode refid="174050" relation="include">
        </childnode>
        <childnode refid="174051" relation="include">
        </childnode>
        <childnode refid="174039" relation="include">
        </childnode>
        <childnode refid="174052" relation="include">
        </childnode>
      </node>
      <node id="174020">
        <label>AthContainersInterfaces/IAuxTypeVector.h</label>
        <link refid="d8/d0e/IAuxTypeVector_8h"/>
        <childnode refid="174003" relation="include">
        </childnode>
        <childnode refid="174021" relation="include">
        </childnode>
      </node>
      <node id="174105">
        <label>versions/TrackParticle_v1.h</label>
        <link refid="d2/d7f/TrackParticle__v1_8h_source"/>
        <childnode refid="174106" relation="include">
        </childnode>
        <childnode refid="173991" relation="include">
        </childnode>
        <childnode refid="173990" relation="include">
        </childnode>
        <childnode refid="174060" relation="include">
        </childnode>
        <childnode refid="173997" relation="include">
        </childnode>
        <childnode refid="174107" relation="include">
        </childnode>
        <childnode refid="174112" relation="include">
        </childnode>
        <childnode refid="174114" relation="include">
        </childnode>
        <childnode refid="174115" relation="include">
        </childnode>
      </node>
      <node id="174050">
        <label>AthContainers/tools/likely.h</label>
        <link refid="d6/dd6/likely_8h"/>
      </node>
      <node id="174101">
        <label>xAODBTagging/versions/BTagging_v1.h</label>
        <link refid="dc/da1/BTagging__v1_8h_source"/>
        <childnode refid="173999" relation="include">
        </childnode>
        <childnode refid="173990" relation="include">
        </childnode>
        <childnode refid="174102" relation="include">
        </childnode>
        <childnode refid="174103" relation="include">
        </childnode>
        <childnode refid="174120" relation="include">
        </childnode>
        <childnode refid="174135" relation="include">
        </childnode>
        <childnode refid="173989" relation="include">
        </childnode>
        <childnode refid="174026" relation="include">
        </childnode>
        <childnode refid="173976" relation="include">
        </childnode>
        <childnode refid="174088" relation="include">
        </childnode>
        <childnode refid="174014" relation="include">
        </childnode>
      </node>
      <node id="173988">
        <label>xAODJet/versions/Jet_v1.h</label>
        <link refid="df/d71/Jet__v1_8h_source"/>
        <childnode refid="173989" relation="include">
        </childnode>
        <childnode refid="173990" relation="include">
        </childnode>
        <childnode refid="173997" relation="include">
        </childnode>
        <childnode refid="174059" relation="include">
        </childnode>
        <childnode refid="174099" relation="include">
        </childnode>
        <childnode refid="174140" relation="include">
        </childnode>
        <childnode refid="174143" relation="include">
        </childnode>
        <childnode refid="174141" relation="include">
        </childnode>
        <childnode refid="174144" relation="include">
        </childnode>
      </node>
      <node id="174078">
        <label>AthContainers/tools/DVLIterator.h</label>
        <link refid="d3/dc7/DVLIterator_8h_source"/>
        <childnode refid="174061" relation="include">
        </childnode>
        <childnode refid="174076" relation="include">
        </childnode>
        <childnode refid="174079" relation="include">
        </childnode>
        <childnode refid="174081" relation="include">
        </childnode>
        <childnode refid="174066" relation="include">
        </childnode>
        <childnode refid="174008" relation="include">
        </childnode>
        <childnode refid="174009" relation="include">
        </childnode>
      </node>
      <node id="174092">
        <label>SGTools/DataBucket.h</label>
      </node>
      <node id="173989">
        <label>map</label>
      </node>
      <node id="174093">
        <label>AthContainers/tools/DVLDataBucket.icc</label>
        <link refid="d3/d21/DVLDataBucket_8icc"/>
        <childnode refid="174094" relation="include">
        </childnode>
      </node>
      <node id="174094">
        <label>SGTools/IRegisterTransient.h</label>
      </node>
      <node id="173995">
        <label>RootMetaSelection.h</label>
      </node>
      <node id="174036">
        <label>AthContainers/tools/AuxTypeVector.icc</label>
        <link refid="d5/d84/AuxTypeVector_8icc"/>
      </node>
      <node id="174125">
        <label>VxVertex/VxTrackAtVertex.h</label>
      </node>
      <node id="174083">
        <label>AthContainers/tools/DVL_algorithms.h</label>
        <link refid="d0/d7a/DVL__algorithms_8h"/>
        <childnode refid="174078" relation="include">
        </childnode>
        <childnode refid="174008" relation="include">
        </childnode>
        <childnode refid="174006" relation="include">
        </childnode>
        <childnode refid="174084" relation="include">
        </childnode>
      </node>
      <node id="174051">
        <label>AthContainers/tools/assume.h</label>
        <link refid="d2/d20/assume_8h"/>
      </node>
      <node id="174154">
        <label>JetResolution/JERDefs.h</label>
        <link refid="d5/d9c/JERDefs_8h_source"/>
      </node>
      <node id="174142">
        <label>Math/Vector4D.h</label>
      </node>
      <node id="174033">
        <label>AthContainers/PackedContainer.icc</label>
        <link refid="d1/d0c/PackedContainer_8icc"/>
      </node>
      <node id="174120">
        <label>xAODTracking/VertexContainer.h</label>
        <link refid="d6/dd8/VertexContainer_8h_source"/>
        <childnode refid="174121" relation="include">
        </childnode>
        <childnode refid="174134" relation="include">
        </childnode>
        <childnode refid="174116" relation="include">
        </childnode>
      </node>
      <node id="174079">
        <label>AthContainers/tools/ElementProxy.h</label>
        <link refid="db/d26/ElementProxy_8h"/>
        <childnode refid="174061" relation="include">
        </childnode>
        <childnode refid="173993" relation="include">
        </childnode>
        <childnode refid="174012" relation="include">
        </childnode>
        <childnode refid="174080" relation="include">
        </childnode>
      </node>
      <node id="174000">
        <label>AthContainersInterfaces/IAuxElement.h</label>
        <link refid="dd/d7a/IAuxElement_8h"/>
      </node>
      <node id="173980">
        <label>GaudiKernel/IMessageSvc.h</label>
      </node>
      <node id="173993">
        <label>AthLinks/tools/selection_ns.h</label>
        <link refid="d3/dec/selection__ns_8h"/>
        <childnode refid="173994" relation="include">
        </childnode>
        <childnode refid="173995" relation="include">
        </childnode>
      </node>
      <node id="174049">
        <label>AthenaKernel/IThinningSvc.h</label>
      </node>
      <node id="174042">
        <label>boost/atomic.hpp</label>
      </node>
      <node id="174119">
        <label>xAODTracking/TrackParticleFwd.h</label>
        <link refid="d1/dc4/TrackParticleFwd_8h_source"/>
      </node>
      <node id="174102">
        <label>xAODBTagging/BTaggingEnums.h</label>
        <link refid="dd/de5/BTaggingEnums_8h_source"/>
      </node>
      <node id="174077">
        <label>limits.h</label>
      </node>
      <node id="173972">
        <label>JetResolution/JERSmearingTool.h</label>
        <link refid="d7/d0b/JERSmearingTool_8h_source"/>
        <childnode refid="173973" relation="include">
        </childnode>
        <childnode refid="173982" relation="include">
        </childnode>
        <childnode refid="173984" relation="include">
        </childnode>
        <childnode refid="173986" relation="include">
        </childnode>
        <childnode refid="174146" relation="include">
        </childnode>
        <childnode refid="174153" relation="include">
        </childnode>
        <childnode refid="174155" relation="include">
        </childnode>
      </node>
      <node id="174071">
        <label>AthContainers/tools/ClassID.h</label>
        <link refid="de/de2/ClassID_8h"/>
        <childnode refid="174072" relation="include">
        </childnode>
      </node>
      <node id="174134">
        <label>xAODTracking/versions/VertexContainer_v1.h</label>
        <link refid="d2/dda/VertexContainer__v1_8h_source"/>
        <childnode refid="174060" relation="include">
        </childnode>
        <childnode refid="174122" relation="include">
        </childnode>
      </node>
      <node id="174028">
        <label>AthContainers/PackedParameters.h</label>
        <link refid="d4/d43/PackedParameters_8h"/>
        <childnode refid="174029" relation="include">
        </childnode>
        <childnode refid="174010" relation="include">
        </childnode>
        <childnode refid="173991" relation="include">
        </childnode>
        <childnode refid="174031" relation="include">
        </childnode>
      </node>
      <node id="174152">
        <label>PATInterfaces/SystematicSet.h</label>
        <link refid="d4/db8/SystematicSet_8h_source"/>
        <childnode refid="174150" relation="include">
        </childnode>
        <childnode refid="174151" relation="include">
        </childnode>
        <childnode refid="174026" relation="include">
        </childnode>
        <childnode refid="173976" relation="include">
        </childnode>
        <childnode refid="174013" relation="include">
        </childnode>
        <childnode refid="174148" relation="include">
        </childnode>
        <childnode refid="174149" relation="include">
        </childnode>
      </node>
      <node id="173983">
        <label>GaudiKernel/ToolHandle.h</label>
      </node>
      <node id="174002">
        <label>AthContainersInterfaces/AuxTypes.h</label>
        <link refid="d1/dea/AuxTypes_8h"/>
        <childnode refid="174003" relation="include">
        </childnode>
        <childnode refid="174004" relation="include">
        </childnode>
      </node>
      <node id="173992">
        <label>AthLinks/ElementLinkBase.h</label>
        <link refid="d0/d16/ElementLinkBase_8h_source"/>
        <childnode refid="173991" relation="include">
        </childnode>
      </node>
      <node id="174149">
        <label>PATInterfaces/SystematicVariation.h</label>
        <link refid="d1/def/SystematicVariation_8h_source"/>
        <childnode refid="174150" relation="include">
        </childnode>
        <childnode refid="174058" relation="include">
        </childnode>
        <childnode refid="174151" relation="include">
        </childnode>
        <childnode refid="173976" relation="include">
        </childnode>
      </node>
      <node id="174111">
        <label>Eigen/Dense</label>
      </node>
      <node id="174005">
        <label>CxxUtils/hashtable.h</label>
        <link refid="dd/d16/hashtable_8h"/>
        <childnode refid="174006" relation="include">
        </childnode>
        <childnode refid="174007" relation="include">
        </childnode>
        <childnode refid="174008" relation="include">
        </childnode>
        <childnode refid="174003" relation="include">
        </childnode>
        <childnode refid="174009" relation="include">
        </childnode>
        <childnode refid="173970" relation="include">
        </childnode>
        <childnode refid="174010" relation="include">
        </childnode>
        <childnode refid="173976" relation="include">
        </childnode>
        <childnode refid="174011" relation="include">
        </childnode>
      </node>
      <node id="174064">
        <label>AthContainers/tools/ATHCONTAINERS_ASSERT.h</label>
        <link refid="de/d6b/ATHCONTAINERS__ASSERT_8h"/>
        <childnode refid="174056" relation="include">
        </childnode>
      </node>
      <node id="173997">
        <label>xAODBase/IParticle.h</label>
        <link refid="d5/dac/IParticle_8h_source"/>
        <childnode refid="173998" relation="include">
        </childnode>
        <childnode refid="173999" relation="include">
        </childnode>
        <childnode refid="174057" relation="include">
        </childnode>
        <childnode refid="174016" relation="include">
        </childnode>
      </node>
      <node id="174057">
        <label>ObjectType.h</label>
        <link refid="d8/d04/ObjectType_8h_source"/>
        <childnode refid="174058" relation="include">
        </childnode>
      </node>
      <node id="174143">
        <label>xAODJet/JetAttributes.h</label>
        <link refid="d3/df8/JetAttributes_8h"/>
      </node>
      <node id="173985">
        <label>PATInterfaces/CorrectionCode.h</label>
        <link refid="d8/dab/CorrectionCode_8h_source"/>
      </node>
      <node id="174080">
        <label>AthContainers/tools/ElementProxy.icc</label>
        <link refid="d6/d70/ElementProxy_8icc"/>
        <childnode refid="174076" relation="include">
        </childnode>
        <childnode refid="174064" relation="include">
        </childnode>
      </node>
      <node id="174021">
        <label>typeinfo</label>
      </node>
      <node id="174107">
        <label>xAODTracking/TrackingPrimitives.h</label>
        <link refid="d2/d4c/TrackingPrimitives_8h_source"/>
        <childnode refid="174108" relation="include">
        </childnode>
      </node>
      <node id="174055">
        <label>AthContainers/AuxElement.icc</label>
        <link refid="d2/d37/AuxElement_8icc"/>
        <childnode refid="174050" relation="include">
        </childnode>
        <childnode refid="174056" relation="include">
        </childnode>
      </node>
      <node id="174060">
        <label>AthContainers/DataVector.h</label>
        <link refid="d7/dd6/DataVector_8h"/>
        <childnode refid="174053" relation="include">
        </childnode>
        <childnode refid="174061" relation="include">
        </childnode>
        <childnode refid="174062" relation="include">
        </childnode>
        <childnode refid="174063" relation="include">
        </childnode>
        <childnode refid="174069" relation="include">
        </childnode>
        <childnode refid="174070" relation="include">
        </childnode>
        <childnode refid="174076" relation="include">
        </childnode>
        <childnode refid="174078" relation="include">
        </childnode>
        <childnode refid="174082" relation="include">
        </childnode>
        <childnode refid="174083" relation="include">
        </childnode>
        <childnode refid="174079" relation="include">
        </childnode>
        <childnode refid="174085" relation="include">
        </childnode>
        <childnode refid="173993" relation="include">
        </childnode>
        <childnode refid="174086" relation="include">
        </childnode>
        <childnode refid="174087" relation="include">
        </childnode>
        <childnode refid="174081" relation="include">
        </childnode>
        <childnode refid="174026" relation="include">
        </childnode>
        <childnode refid="174021" relation="include">
        </childnode>
        <childnode refid="174013" relation="include">
        </childnode>
        <childnode refid="174088" relation="include">
        </childnode>
        <childnode refid="174006" relation="include">
        </childnode>
        <childnode refid="173971" relation="include">
        </childnode>
        <childnode refid="174008" relation="include">
        </childnode>
        <childnode refid="174016" relation="include">
        </childnode>
        <childnode refid="174089" relation="include">
        </childnode>
        <childnode refid="174091" relation="include">
        </childnode>
        <childnode refid="174095" relation="include">
        </childnode>
        <childnode refid="174096" relation="include">
        </childnode>
      </node>
      <node id="174150">
        <label>PATInterfaces/Global.h</label>
        <link refid="dd/d0c/PATInterfaces_2PATInterfaces_2Global_8h_source"/>
      </node>
      <node id="174127">
        <label>xAODTracking/NeutralParticle.h</label>
        <link refid="d4/daa/NeutralParticle_8h_source"/>
        <childnode refid="174128" relation="include">
        </childnode>
        <childnode refid="174116" relation="include">
        </childnode>
      </node>
      <node id="174106">
        <label>bitset</label>
      </node>
      <node id="174031">
        <label>AthContainers/PackedParameters.icc</label>
        <link refid="db/d30/PackedParameters_8icc"/>
      </node>
      <node id="173996">
        <label>AthLinks/tools/TypeTools.h</label>
        <link refid="dd/db1/TypeTools_8h_source"/>
      </node>
      <node id="174048">
        <label>AthenaKernel/ILockable.h</label>
      </node>
      <node id="173969">
        <label>/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/JetResolution/Root/JERSmearingTool.cxx</label>
        <link refid="JERSmearingTool.cxx"/>
        <childnode refid="173970" relation="include">
        </childnode>
        <childnode refid="173971" relation="include">
        </childnode>
        <childnode refid="173972" relation="include">
        </childnode>
        <childnode refid="174156" relation="include">
        </childnode>
      </node>
      <node id="174018">
        <label>AthLinks/DataLinkBase.h</label>
        <link refid="db/da8/DataLinkBase_8h_source"/>
        <childnode refid="173991" relation="include">
        </childnode>
      </node>
      <node id="174122">
        <label>xAODTracking/versions/Vertex_v1.h</label>
        <link refid="d7/dcc/Vertex__v1_8h_source"/>
        <childnode refid="174026" relation="include">
        </childnode>
        <childnode refid="173999" relation="include">
        </childnode>
        <childnode refid="173990" relation="include">
        </childnode>
        <childnode refid="174108" relation="include">
        </childnode>
        <childnode refid="174123" relation="include">
        </childnode>
        <childnode refid="174125" relation="include">
        </childnode>
        <childnode refid="174107" relation="include">
        </childnode>
        <childnode refid="174118" relation="include">
        </childnode>
        <childnode refid="174126" relation="include">
        </childnode>
        <childnode refid="174057" relation="include">
        </childnode>
        <childnode refid="174133" relation="include">
        </childnode>
      </node>
      <node id="174030">
        <label>AthContainersInterfaces/AuxDataOption.icc</label>
        <link refid="db/d68/AuxDataOption_8icc"/>
      </node>
      <node id="174035">
        <label>boost/type_traits/is_arithmetic.hpp</label>
      </node>
      <node id="174070">
        <label>AthContainers/tools/DVLInfo.h</label>
        <link refid="d3/d2e/DVLInfo_8h"/>
        <childnode refid="174071" relation="include">
        </childnode>
        <childnode refid="174063" relation="include">
        </childnode>
        <childnode refid="174021" relation="include">
        </childnode>
        <childnode refid="174003" relation="include">
        </childnode>
        <childnode refid="174011" relation="include">
        </childnode>
        <childnode refid="174073" relation="include">
        </childnode>
        <childnode refid="174034" relation="include">
        </childnode>
        <childnode refid="174074" relation="include">
        </childnode>
      </node>
      <node id="174014">
        <label>SGTools/CLASS_DEF.h</label>
      </node>
      <node id="174109">
        <label>unistd.h</label>
      </node>
      <node id="174089">
        <label>AthContainers/ClassName.h</label>
        <link refid="dd/d6b/AthContainers_2AthContainers_2ClassName_8h_source"/>
        <childnode refid="174090" relation="include">
        </childnode>
      </node>
      <node id="174019">
        <label>AthContainers/AuxTypeRegistry.h</label>
        <link refid="db/d7f/AuxTypeRegistry_8h"/>
        <childnode refid="174002" relation="include">
        </childnode>
        <childnode refid="174020" relation="include">
        </childnode>
        <childnode refid="174022" relation="include">
        </childnode>
        <childnode refid="174023" relation="include">
        </childnode>
        <childnode refid="174037" relation="include">
        </childnode>
        <childnode refid="174039" relation="include">
        </childnode>
        <childnode refid="174003" relation="include">
        </childnode>
        <childnode refid="174021" relation="include">
        </childnode>
        <childnode refid="174026" relation="include">
        </childnode>
        <childnode refid="174045" relation="include">
        </childnode>
        <childnode refid="174046" relation="include">
        </childnode>
      </node>
      <node id="174026">
        <label>vector</label>
      </node>
      <node id="174059">
        <label>xAODBase/IParticleContainer.h</label>
        <link refid="dd/d2d/IParticleContainer_8h_source"/>
        <childnode refid="174060" relation="include">
        </childnode>
        <childnode refid="173997" relation="include">
        </childnode>
        <childnode refid="174014" relation="include">
        </childnode>
      </node>
      <node id="174097">
        <label>AthContainers/tools/CompareAndPrint.h</label>
        <link refid="d5/da8/CompareAndPrint_8h_source"/>
        <childnode refid="174006" relation="include">
        </childnode>
        <childnode refid="174021" relation="include">
        </childnode>
      </node>
      <node id="174156">
        <label>PATInterfaces/SystematicRegistry.h</label>
        <link refid="de/d22/SystematicRegistry_8h_source"/>
        <childnode refid="174150" relation="include">
        </childnode>
        <childnode refid="174152" relation="include">
        </childnode>
      </node>
      <node id="174153">
        <label>JetResolution/IJERTool.h</label>
        <link refid="db/de9/IJERTool_8h_source"/>
        <childnode refid="173975" relation="include">
        </childnode>
        <childnode refid="173985" relation="include">
        </childnode>
        <childnode refid="173987" relation="include">
        </childnode>
        <childnode refid="174154" relation="include">
        </childnode>
      </node>
      <node id="174121">
        <label>xAODTracking/Vertex.h</label>
        <link refid="d9/d2d/Vertex_8h_source"/>
        <childnode refid="174122" relation="include">
        </childnode>
      </node>
      <node id="174130">
        <label>xAODTracking/versions/NeutralParticleContainer_v1.h</label>
        <link refid="d6/d5f/NeutralParticleContainer__v1_8h_source"/>
        <childnode refid="173991" relation="include">
        </childnode>
        <childnode refid="174060" relation="include">
        </childnode>
        <childnode refid="174128" relation="include">
        </childnode>
        <childnode refid="174131" relation="include">
        </childnode>
      </node>
      <node id="174144">
        <label>xAODJet/JetContainerInfo.h</label>
        <link refid="d8/d2a/JetContainerInfo_8h_source"/>
        <childnode refid="173976" relation="include">
        </childnode>
      </node>
      <node id="174098">
        <label>AthContainers/tools/DVLEltBaseInfo.icc</label>
        <link refid="dd/d5e/DVLEltBaseInfo_8icc"/>
      </node>
      <node id="174099">
        <label>xAODBTagging/BTaggingContainer.h</label>
        <link refid="d8/d3b/BTaggingContainer_8h_source"/>
        <childnode refid="174100" relation="include">
        </childnode>
        <childnode refid="174139" relation="include">
        </childnode>
        <childnode refid="174116" relation="include">
        </childnode>
      </node>
      <node id="174007">
        <label>utility</label>
      </node>
      <node id="174095">
        <label>SGTools/DataBucketTraitFwd.h</label>
      </node>
      <node id="174032">
        <label>CxxUtils/override.h</label>
        <link refid="de/d0e/override_8h"/>
      </node>
      <node id="174123">
        <label>GeoPrimitives/GeoPrimitives.h</label>
        <link refid="d7/d87/GeoPrimitives_8h_source"/>
        <childnode refid="174109" relation="include">
        </childnode>
        <childnode refid="174124" relation="include">
        </childnode>
      </node>
      <node id="174113">
        <label>xAODTracking/VertexFwd.h</label>
        <link refid="d9/ddd/VertexFwd_8h_source"/>
      </node>
      <node id="174068">
        <label>AthContainers/AuxVectorBase.icc</label>
        <link refid="d4/d50/AuxVectorBase_8icc"/>
      </node>
      <node id="174040">
        <label>boost/thread/shared_mutex.hpp</label>
      </node>
      <node id="174136">
        <label>xAODBTagging/BTagVertex.h</label>
        <link refid="d4/d51/BTagVertex_8h_source"/>
        <childnode refid="174137" relation="include">
        </childnode>
      </node>
      <node id="174024">
        <label>AthContainersInterfaces/IAuxSetOption.h</label>
        <link refid="d7/d7e/IAuxSetOption_8h"/>
      </node>
      <node id="174039">
        <label>AthContainers/tools/threading.h</label>
        <link refid="d7/d22/threading_8h"/>
        <childnode refid="174040" relation="include">
        </childnode>
        <childnode refid="174041" relation="include">
        </childnode>
        <childnode refid="174042" relation="include">
        </childnode>
        <childnode refid="174043" relation="include">
        </childnode>
        <childnode refid="174044" relation="include">
        </childnode>
      </node>
      <node id="174058">
        <label>iosfwd</label>
      </node>
      <node id="174009">
        <label>cstdlib</label>
      </node>
      <node id="174104">
        <label>xAODTracking/TrackParticle.h</label>
        <link refid="d2/d15/TrackParticle_8h_source"/>
        <childnode refid="174105" relation="include">
        </childnode>
        <childnode refid="174116" relation="include">
        </childnode>
      </node>
      <node id="174088">
        <label>iostream</label>
      </node>
      <node id="174054">
        <label>CxxUtils/noreturn.h</label>
        <link refid="de/d6f/noreturn_8h"/>
      </node>
      <node id="173982">
        <label>AsgTools/ToolHandle.h</label>
        <link refid="de/d2d/ToolHandle_8h_source"/>
        <childnode refid="173974" relation="include">
        </childnode>
        <childnode refid="173983" relation="include">
        </childnode>
      </node>
      <node id="174117">
        <label>xAODTracking/versions/TrackParticleContainer_v1.h</label>
        <link refid="d7/d3b/TrackParticleContainer__v1_8h_source"/>
        <childnode refid="173991" relation="include">
        </childnode>
        <childnode refid="174060" relation="include">
        </childnode>
        <childnode refid="174105" relation="include">
        </childnode>
        <childnode refid="174118" relation="include">
        </childnode>
      </node>
      <node id="174001">
        <label>AthContainersInterfaces/IConstAuxStore.h</label>
        <link refid="d7/d3a/IConstAuxStore_8h"/>
        <childnode refid="174002" relation="include">
        </childnode>
        <childnode refid="174003" relation="include">
        </childnode>
        <childnode refid="174014" relation="include">
        </childnode>
      </node>
      <node id="174003">
        <label>cstddef</label>
      </node>
      <node id="174052">
        <label>AthContainers/AuxVectorData.icc</label>
        <link refid="da/de7/AuxVectorData_8icc"/>
        <childnode refid="174019" relation="include">
        </childnode>
        <childnode refid="174015" relation="include">
        </childnode>
        <childnode refid="174001" relation="include">
        </childnode>
        <childnode refid="174050" relation="include">
        </childnode>
        <childnode refid="174051" relation="include">
        </childnode>
      </node>
      <node id="173977">
        <label>AsgTools/AsgToolMacros.h</label>
        <link refid="d1/d68/AsgToolMacros_8h_source"/>
      </node>
      <node id="174133">
        <label>xAODCore/BaseInfo.h</label>
        <link refid="d3/d17/BaseInfo_8h_source"/>
        <childnode refid="174016" relation="include">
        </childnode>
      </node>
      <node id="174100">
        <label>xAODBTagging/BTagging.h</label>
        <link refid="d2/d81/BTagging_8h_source"/>
        <childnode refid="174101" relation="include">
        </childnode>
      </node>
      <node id="174141">
        <label>xAODJet/JetTypes.h</label>
        <link refid="d6/d2a/JetTypes_8h_source"/>
        <childnode refid="174142" relation="include">
        </childnode>
      </node>
      <node id="174140">
        <label>xAODJet/JetConstituentVector.h</label>
        <link refid="de/dd4/JetConstituentVector_8h_source"/>
        <childnode refid="173990" relation="include">
        </childnode>
        <childnode refid="173997" relation="include">
        </childnode>
        <childnode refid="174059" relation="include">
        </childnode>
        <childnode refid="174141" relation="include">
        </childnode>
      </node>
      <node id="174129">
        <label>TrkNeutralParameters/NeutralParameters.h</label>
      </node>
      <node id="174074">
        <label>AthContainers/tools/DVLInfo.icc</label>
        <link refid="da/d83/DVLInfo_8icc"/>
        <childnode refid="174061" relation="include">
        </childnode>
        <childnode refid="174026" relation="include">
        </childnode>
        <childnode refid="174075" relation="include">
        </childnode>
        <childnode refid="174056" relation="include">
        </childnode>
        <childnode refid="174009" relation="include">
        </childnode>
        <childnode refid="174016" relation="include">
        </childnode>
      </node>
      <node id="174023">
        <label>AthContainers/tools/AuxTypeVector.h</label>
        <link refid="d6/dd2/AuxTypeVector_8h"/>
        <childnode refid="174020" relation="include">
        </childnode>
        <childnode refid="174024" relation="include">
        </childnode>
        <childnode refid="174025" relation="include">
        </childnode>
        <childnode refid="174027" relation="include">
        </childnode>
        <childnode refid="174032" relation="include">
        </childnode>
        <childnode refid="174021" relation="include">
        </childnode>
        <childnode refid="174026" relation="include">
        </childnode>
        <childnode refid="174006" relation="include">
        </childnode>
        <childnode refid="173991" relation="include">
        </childnode>
        <childnode refid="174034" relation="include">
        </childnode>
        <childnode refid="174035" relation="include">
        </childnode>
        <childnode refid="174036" relation="include">
        </childnode>
      </node>
      <node id="174114">
        <label>TrkParameters/TrackParameters.h</label>
      </node>
      <node id="173986">
        <label>xAODJet/JetContainer.h</label>
        <link refid="d5/d55/JetContainer_8h_source"/>
        <childnode refid="173987" relation="include">
        </childnode>
        <childnode refid="174145" relation="include">
        </childnode>
        <childnode refid="174116" relation="include">
        </childnode>
      </node>
      <node id="174128">
        <label>versions/NeutralParticle_v1.h</label>
        <link refid="da/d85/NeutralParticle__v1_8h_source"/>
        <childnode refid="173990" relation="include">
        </childnode>
        <childnode refid="174060" relation="include">
        </childnode>
        <childnode refid="173997" relation="include">
        </childnode>
        <childnode refid="174107" relation="include">
        </childnode>
        <childnode refid="174112" relation="include">
        </childnode>
        <childnode refid="174106" relation="include">
        </childnode>
        <childnode refid="173991" relation="include">
        </childnode>
        <childnode refid="174129" relation="include">
        </childnode>
      </node>
      <node id="174132">
        <label>xAODTracking/NeutralParticleFwd.h</label>
        <link refid="d4/d90/NeutralParticleFwd_8h_source"/>
      </node>
      <node id="174034">
        <label>boost/type_traits/is_base_of.hpp</label>
      </node>
      <node id="174126">
        <label>xAODTracking/NeutralParticleContainer.h</label>
        <link refid="da/d7f/NeutralParticleContainer_8h_source"/>
        <childnode refid="174127" relation="include">
        </childnode>
        <childnode refid="174130" relation="include">
        </childnode>
        <childnode refid="174116" relation="include">
        </childnode>
      </node>
      <node id="174063">
        <label>AthContainers/AuxVectorBase.h</label>
        <link refid="d7/d18/AuxVectorBase_8h"/>
        <childnode refid="174047" relation="include">
        </childnode>
        <childnode refid="174061" relation="include">
        </childnode>
        <childnode refid="174062" relation="include">
        </childnode>
        <childnode refid="173999" relation="include">
        </childnode>
        <childnode refid="174019" relation="include">
        </childnode>
        <childnode refid="174053" relation="include">
        </childnode>
        <childnode refid="174064" relation="include">
        </childnode>
        <childnode refid="174015" relation="include">
        </childnode>
        <childnode refid="174065" relation="include">
        </childnode>
        <childnode refid="174026" relation="include">
        </childnode>
        <childnode refid="174068" relation="include">
        </childnode>
      </node>
      <node id="174151">
        <label>set</label>
      </node>
      <node id="174116">
        <label>xAODCore/CLASS_DEF.h</label>
        <link refid="d6/d20/xAODCore_2xAODCore_2CLASS__DEF_8h"/>
        <childnode refid="174014" relation="include">
        </childnode>
      </node>
      <node id="174038">
        <label>AthContainers/tools/AuxTypeVectorFactory.icc</label>
        <link refid="dc/d02/AuxTypeVectorFactory_8icc"/>
      </node>
      <node id="174027">
        <label>AthContainers/PackedContainer.h</label>
        <link refid="d6/dda/PackedContainer_8h"/>
        <childnode refid="174024" relation="include">
        </childnode>
        <childnode refid="174028" relation="include">
        </childnode>
        <childnode refid="174032" relation="include">
        </childnode>
        <childnode refid="174026" relation="include">
        </childnode>
        <childnode refid="174033" relation="include">
        </childnode>
      </node>
      <node id="174006">
        <label>algorithm</label>
      </node>
      <node id="174085">
        <label>AthContainers/tools/IsMostDerivedFlag.h</label>
        <link refid="d5/dfa/IsMostDerivedFlag_8h"/>
      </node>
      <node id="174115">
        <label>TrkTrack/TrackCollection.h</label>
      </node>
      <node id="173999">
        <label>AthContainers/AuxElement.h</label>
        <link refid="d1/d6f/AuxElement_8h"/>
        <childnode refid="174000" relation="include">
        </childnode>
        <childnode refid="174001" relation="include">
        </childnode>
        <childnode refid="174015" relation="include">
        </childnode>
        <childnode refid="174017" relation="include">
        </childnode>
        <childnode refid="174019" relation="include">
        </childnode>
        <childnode refid="174047" relation="include">
        </childnode>
        <childnode refid="174025" relation="include">
        </childnode>
        <childnode refid="174053" relation="include">
        </childnode>
        <childnode refid="174050" relation="include">
        </childnode>
        <childnode refid="174003" relation="include">
        </childnode>
        <childnode refid="174055" relation="include">
        </childnode>
      </node>
      <node id="173973">
        <label>AsgTools/AsgTool.h</label>
        <link refid="d4/d29/AsgTool_8h_source"/>
        <childnode refid="173974" relation="include">
        </childnode>
        <childnode refid="173975" relation="include">
        </childnode>
        <childnode refid="173979" relation="include">
        </childnode>
        <childnode refid="173981" relation="include">
        </childnode>
      </node>
      <node id="174017">
        <label>AthLinks/DataLink.h</label>
        <link refid="da/de8/DataLink_8h_source"/>
        <childnode refid="173991" relation="include">
        </childnode>
        <childnode refid="173976" relation="include">
        </childnode>
        <childnode refid="174018" relation="include">
        </childnode>
        <childnode refid="173993" relation="include">
        </childnode>
      </node>
      <node id="174082">
        <label>AthContainers/tools/DVL_iter_swap.h</label>
        <link refid="d6/ddb/DVL__iter__swap_8h"/>
        <childnode refid="174078" relation="include">
        </childnode>
        <childnode refid="174064" relation="include">
        </childnode>
        <childnode refid="174008" relation="include">
        </childnode>
      </node>
      <node id="174061">
        <label>AthContainers/OwnershipPolicy.h</label>
        <link refid="d3/da4/OwnershipPolicy_8h_source"/>
      </node>
      <node id="173990">
        <label>AthLinks/ElementLink.h</label>
        <link refid="dc/d24/ElementLink_8h_source"/>
        <childnode refid="173991" relation="include">
        </childnode>
        <childnode refid="173976" relation="include">
        </childnode>
        <childnode refid="173992" relation="include">
        </childnode>
        <childnode refid="173993" relation="include">
        </childnode>
        <childnode refid="173996" relation="include">
        </childnode>
      </node>
      <node id="174138">
        <label>xAODBTagging/versions/BTagVertexContainer_v1.h</label>
        <link refid="d1/d37/BTagVertexContainer__v1_8h_source"/>
        <childnode refid="174060" relation="include">
        </childnode>
        <childnode refid="174137" relation="include">
        </childnode>
      </node>
      <node id="173981">
        <label>AsgTools/SetProperty.h</label>
        <link refid="df/db0/SetProperty_8h_source"/>
      </node>
      <node id="174155">
        <label>TRandom3.h</label>
      </node>
      <node id="174103">
        <label>xAODTracking/TrackParticleContainer.h</label>
        <link refid="da/d31/TrackParticleContainer_8h_source"/>
        <childnode refid="174104" relation="include">
        </childnode>
        <childnode refid="174117" relation="include">
        </childnode>
        <childnode refid="174116" relation="include">
        </childnode>
      </node>
      <node id="174148">
        <label>PATInterfaces/SystematicCode.h</label>
        <link refid="df/df5/SystematicCode_8h_source"/>
      </node>
      <node id="174072">
        <label>GaudiKernel/ClassID.h</label>
      </node>
      <node id="174087">
        <label>boost/type_traits.hpp</label>
      </node>
      <node id="174012">
        <label>memory</label>
      </node>
      <node id="174131">
        <label>xAODTracking/NeutralParticleContainerFwd.h</label>
        <link refid="d2/db4/NeutralParticleContainerFwd_8h_source"/>
        <childnode refid="174060" relation="include">
        </childnode>
        <childnode refid="174059" relation="include">
        </childnode>
        <childnode refid="174132" relation="include">
        </childnode>
      </node>
      <node id="174037">
        <label>AthContainers/tools/AuxTypeVectorFactory.h</label>
        <link refid="dc/d69/AuxTypeVectorFactory_8h"/>
        <childnode refid="174022" relation="include">
        </childnode>
        <childnode refid="174023" relation="include">
        </childnode>
        <childnode refid="174038" relation="include">
        </childnode>
      </node>
      <node id="174065">
        <label>AthContainersInterfaces/AuxStore_traits.h</label>
        <link refid="dd/d70/AuxStore__traits_8h"/>
        <childnode refid="174000" relation="include">
        </childnode>
        <childnode refid="174015" relation="include">
        </childnode>
        <childnode refid="174001" relation="include">
        </childnode>
        <childnode refid="174034" relation="include">
        </childnode>
        <childnode refid="174066" relation="include">
        </childnode>
        <childnode refid="174067" relation="include">
        </childnode>
        <childnode refid="173976" relation="include">
        </childnode>
      </node>
      <node id="174135">
        <label>xAODBTagging/BTagVertexContainer.h</label>
        <link refid="d5/da2/BTagVertexContainer_8h_source"/>
        <childnode refid="174136" relation="include">
        </childnode>
        <childnode refid="174138" relation="include">
        </childnode>
        <childnode refid="174116" relation="include">
        </childnode>
      </node>
    </incdepgraph>
      <sectiondef kind="var">
      <memberdef kind="variable" id="d2/dc4/JERSmearingTool_8cxx_1aa3825ebaa1fb7e96de3ee2e081563a88" prot="public" static="yes" mutable="no">
        <type>const <ref refid="d4/d52/classCP_1_1SystematicSet" kindref="compound">CP::SystematicSet</ref></type>
        <definition>const CP::SystematicSet simpleSysts</definition>
        <argsstring></argsstring>
        <name>simpleSysts</name>
        <initializer> {
  <ref refid="dd/d2d/classCP_1_1SystematicVariation" kindref="compound">CP::SystematicVariation</ref>(&quot;JET_JER_SINGLE_NP&quot;, 1)
}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/JetResolution/Root/JERSmearingTool.cxx" line="14" bodyfile="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/JetResolution/Root/JERSmearingTool.cxx" bodystart="12" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="d2/dc4/JERSmearingTool_8cxx_1a89cc5a96f91e553dfa6864b814ca28ed" prot="public" static="yes" mutable="no">
        <type>const <ref refid="d4/d52/classCP_1_1SystematicSet" kindref="compound">CP::SystematicSet</ref></type>
        <definition>const CP::SystematicSet fullSysts</definition>
        <argsstring></argsstring>
        <name>fullSysts</name>
        <initializer> {
  <ref refid="dd/d2d/classCP_1_1SystematicVariation" kindref="compound">CP::SystematicVariation</ref>(&quot;JET_JER_NP0&quot;, 1),
  CP::SystematicVariation(&quot;JET_JER_NP0&quot;, -1),
  CP::SystematicVariation(&quot;JET_JER_NP1&quot;, 1),
  CP::SystematicVariation(&quot;JET_JER_NP1&quot;, -1),
  CP::SystematicVariation(&quot;JET_JER_NP2&quot;, 1),
  CP::SystematicVariation(&quot;JET_JER_NP2&quot;, -1),
  CP::SystematicVariation(&quot;JET_JER_NP3&quot;, 1),
  CP::SystematicVariation(&quot;JET_JER_NP3&quot;, -1),
  CP::SystematicVariation(&quot;JET_JER_NP4&quot;, 1),
  CP::SystematicVariation(&quot;JET_JER_NP4&quot;, -1),
  CP::SystematicVariation(&quot;JET_JER_NP5&quot;, 1),
  CP::SystematicVariation(&quot;JET_JER_NP5&quot;, -1),
  CP::SystematicVariation(&quot;JET_JER_NP6&quot;, 1),
  CP::SystematicVariation(&quot;JET_JER_NP6&quot;, -1),
  CP::SystematicVariation(&quot;JET_JER_NP7&quot;, 1),
  CP::SystematicVariation(&quot;JET_JER_NP7&quot;, -1),
  CP::SystematicVariation(&quot;JET_JER_NP8&quot;, 1),
  CP::SystematicVariation(&quot;JET_JER_NP8&quot;, -1),
  CP::SystematicVariation(&quot;JET_JER_NOISE_FORWARD&quot;, 1),
  CP::SystematicVariation(&quot;JET_JER_CROSS_CALIB_FORWARD&quot;, 1)
}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/JetResolution/Root/JERSmearingTool.cxx" line="38" bodyfile="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/JetResolution/Root/JERSmearingTool.cxx" bodystart="17" bodyend="-1"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">//<sp/>System<sp/>includes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;cmath&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;stdexcept&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Local<sp/>includes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;JetResolution/JERSmearingTool.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Other<sp/>includes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;PATInterfaces/SystematicRegistry.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Simple<sp/>configuration</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d4/d52/classCP_1_1SystematicSet" kindref="compound" tooltip="Class to wrap a set of SystematicVariations.">CP::SystematicSet</ref><sp/>simpleSysts<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="13"><highlight class="normal"><sp/><sp/><ref refid="dd/d2d/classCP_1_1SystematicVariation" kindref="compound">CP::SystematicVariation</ref>(</highlight><highlight class="stringliteral">&quot;JET_JER_SINGLE_NP&quot;</highlight><highlight class="normal">,<sp/>1)</highlight></codeline>
<codeline lineno="14"><highlight class="normal">};</highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Full<sp/>configuration</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d4/d52/classCP_1_1SystematicSet" kindref="compound" tooltip="Class to wrap a set of SystematicVariations.">CP::SystematicSet</ref><sp/>fullSysts<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><ref refid="dd/d2d/classCP_1_1SystematicVariation" kindref="compound">CP::SystematicVariation</ref>(</highlight><highlight class="stringliteral">&quot;JET_JER_NP0&quot;</highlight><highlight class="normal">,<sp/>1),</highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><ref refid="dd/d2d/classCP_1_1SystematicVariation" kindref="compound">CP::SystematicVariation</ref>(</highlight><highlight class="stringliteral">&quot;JET_JER_NP0&quot;</highlight><highlight class="normal">,<sp/>-1),</highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><ref refid="dd/d2d/classCP_1_1SystematicVariation" kindref="compound">CP::SystematicVariation</ref>(</highlight><highlight class="stringliteral">&quot;JET_JER_NP1&quot;</highlight><highlight class="normal">,<sp/>1),</highlight></codeline>
<codeline lineno="21"><highlight class="normal"><sp/><sp/><ref refid="dd/d2d/classCP_1_1SystematicVariation" kindref="compound">CP::SystematicVariation</ref>(</highlight><highlight class="stringliteral">&quot;JET_JER_NP1&quot;</highlight><highlight class="normal">,<sp/>-1),</highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><ref refid="dd/d2d/classCP_1_1SystematicVariation" kindref="compound">CP::SystematicVariation</ref>(</highlight><highlight class="stringliteral">&quot;JET_JER_NP2&quot;</highlight><highlight class="normal">,<sp/>1),</highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/><ref refid="dd/d2d/classCP_1_1SystematicVariation" kindref="compound">CP::SystematicVariation</ref>(</highlight><highlight class="stringliteral">&quot;JET_JER_NP2&quot;</highlight><highlight class="normal">,<sp/>-1),</highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><ref refid="dd/d2d/classCP_1_1SystematicVariation" kindref="compound">CP::SystematicVariation</ref>(</highlight><highlight class="stringliteral">&quot;JET_JER_NP3&quot;</highlight><highlight class="normal">,<sp/>1),</highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><ref refid="dd/d2d/classCP_1_1SystematicVariation" kindref="compound">CP::SystematicVariation</ref>(</highlight><highlight class="stringliteral">&quot;JET_JER_NP3&quot;</highlight><highlight class="normal">,<sp/>-1),</highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><ref refid="dd/d2d/classCP_1_1SystematicVariation" kindref="compound">CP::SystematicVariation</ref>(</highlight><highlight class="stringliteral">&quot;JET_JER_NP4&quot;</highlight><highlight class="normal">,<sp/>1),</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><ref refid="dd/d2d/classCP_1_1SystematicVariation" kindref="compound">CP::SystematicVariation</ref>(</highlight><highlight class="stringliteral">&quot;JET_JER_NP4&quot;</highlight><highlight class="normal">,<sp/>-1),</highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><ref refid="dd/d2d/classCP_1_1SystematicVariation" kindref="compound">CP::SystematicVariation</ref>(</highlight><highlight class="stringliteral">&quot;JET_JER_NP5&quot;</highlight><highlight class="normal">,<sp/>1),</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><ref refid="dd/d2d/classCP_1_1SystematicVariation" kindref="compound">CP::SystematicVariation</ref>(</highlight><highlight class="stringliteral">&quot;JET_JER_NP5&quot;</highlight><highlight class="normal">,<sp/>-1),</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><ref refid="dd/d2d/classCP_1_1SystematicVariation" kindref="compound">CP::SystematicVariation</ref>(</highlight><highlight class="stringliteral">&quot;JET_JER_NP6&quot;</highlight><highlight class="normal">,<sp/>1),</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><ref refid="dd/d2d/classCP_1_1SystematicVariation" kindref="compound">CP::SystematicVariation</ref>(</highlight><highlight class="stringliteral">&quot;JET_JER_NP6&quot;</highlight><highlight class="normal">,<sp/>-1),</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><ref refid="dd/d2d/classCP_1_1SystematicVariation" kindref="compound">CP::SystematicVariation</ref>(</highlight><highlight class="stringliteral">&quot;JET_JER_NP7&quot;</highlight><highlight class="normal">,<sp/>1),</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><ref refid="dd/d2d/classCP_1_1SystematicVariation" kindref="compound">CP::SystematicVariation</ref>(</highlight><highlight class="stringliteral">&quot;JET_JER_NP7&quot;</highlight><highlight class="normal">,<sp/>-1),</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><ref refid="dd/d2d/classCP_1_1SystematicVariation" kindref="compound">CP::SystematicVariation</ref>(</highlight><highlight class="stringliteral">&quot;JET_JER_NP8&quot;</highlight><highlight class="normal">,<sp/>1),</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><ref refid="dd/d2d/classCP_1_1SystematicVariation" kindref="compound">CP::SystematicVariation</ref>(</highlight><highlight class="stringliteral">&quot;JET_JER_NP8&quot;</highlight><highlight class="normal">,<sp/>-1),</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><ref refid="dd/d2d/classCP_1_1SystematicVariation" kindref="compound">CP::SystematicVariation</ref>(</highlight><highlight class="stringliteral">&quot;JET_JER_NOISE_FORWARD&quot;</highlight><highlight class="normal">,<sp/>1),</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><ref refid="dd/d2d/classCP_1_1SystematicVariation" kindref="compound">CP::SystematicVariation</ref>(</highlight><highlight class="stringliteral">&quot;JET_JER_CROSS_CALIB_FORWARD&quot;</highlight><highlight class="normal">,<sp/>1)</highlight></codeline>
<codeline lineno="38"><highlight class="normal">};</highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight><highlight class="comment">//-----------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Standard<sp/>ASG<sp/>tool<sp/>constructor</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight><highlight class="comment">//-----------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"><ref refid="d5/dfc/classJERSmearingTool_1ae12aa4b52488767447747b5d09dd0915" kindref="member" tooltip="Proper constructor for Athena.">JERSmearingTool::JERSmearingTool</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>name)</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/>:<sp/>asg::AsgTool(name),</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/>m_jerTool(</highlight><highlight class="stringliteral">&quot;JERTool/JERTool&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/>m_userSeed(0),</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/>m_sysConfig(nullptr)</highlight></codeline>
<codeline lineno="48"><highlight class="normal">{</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Property<sp/>for<sp/>setting<sp/>the<sp/>tool<sp/>handle<sp/>directly</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/>declareProperty(</highlight><highlight class="stringliteral">&quot;JERTool&quot;</highlight><highlight class="normal">,<sp/>m_jerTool);</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Temporary<sp/>workaround<sp/>for<sp/>setting<sp/>the<sp/>JERTool<sp/>in<sp/>PyROOT</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/>declareProperty(</highlight><highlight class="stringliteral">&quot;JERToolName&quot;</highlight><highlight class="normal">,<sp/>m_jerToolName=</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Keeping<sp/>this<sp/>here<sp/>for<sp/>backwards<sp/>compatibility,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>but<sp/>nominal<sp/>smearing<sp/>is<sp/>actually<sp/>disabled<sp/>for<sp/>now.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/>declareProperty(</highlight><highlight class="stringliteral">&quot;ApplyNominalSmearing&quot;</highlight><highlight class="normal">,<sp/>m_applyNominalSmearing<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;If<sp/>set<sp/>to<sp/>false,<sp/>smearing<sp/>only<sp/>applied<sp/>for<sp/>JER<sp/>sys&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/>declareProperty(</highlight><highlight class="stringliteral">&quot;isMC&quot;</highlight><highlight class="normal">,<sp/>m_isMC<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;set<sp/>to<sp/>true<sp/>if<sp/>you<sp/>run<sp/>on<sp/>MC,<sp/>set<sp/>to<sp/>false<sp/>if<sp/>you<sp/>run<sp/>on<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;data<sp/>or<sp/>pseudo-data&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Could<sp/>use<sp/>an<sp/>enum<sp/>for<sp/>this<sp/>setting<sp/>if<sp/>preferred</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/>declareProperty(</highlight><highlight class="stringliteral">&quot;SystematicMode&quot;</highlight><highlight class="normal">,<sp/>m_sysMode<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Simple&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Combined<sp/>NP<sp/>(Simple)<sp/>or<sp/>full<sp/>sys<sp/>breakdown<sp/>(Full)&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Apply<sp/>nominal<sp/>sys<sp/>config</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/>applySystematicVariation(<ref refid="d4/d52/classCP_1_1SystematicSet" kindref="compound" tooltip="Class to wrap a set of SystematicVariations.">CP::SystematicSet</ref>()).ignore();</highlight></codeline>
<codeline lineno="65"><highlight class="normal">}</highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight><highlight class="comment">//-----------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Copy<sp/>constructor<sp/>for<sp/>reflex<sp/>in<sp/>Athena.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Implement<sp/>a<sp/>shallow<sp/>copy<sp/>for<sp/>now.<sp/>Come<sp/>back<sp/>to<sp/>this<sp/>later.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight><highlight class="comment">//<sp/>TODO:<sp/>update<sp/>this<sp/>with<sp/>the<sp/>new<sp/>data<sp/>members.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight><highlight class="comment">//-----------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"><ref refid="d5/dfc/classJERSmearingTool_1ae12aa4b52488767447747b5d09dd0915" kindref="member" tooltip="Proper constructor for Athena.">JERSmearingTool::JERSmearingTool</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d5/dfc/classJERSmearingTool" kindref="compound">JERSmearingTool</ref>&amp;<sp/>other)</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/>:<sp/>asg::AsgTool(other.name()<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;_copy&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/>m_jerTool(other.m_jerTool),</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/>m_jerToolName(other.m_jerToolName),</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/>m_applyNominalSmearing(other.m_applyNominalSmearing),</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/>m_rand(other.m_rand),</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/>m_userSeed(other.m_userSeed),</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/>m_sysConfig(nullptr)</highlight></codeline>
<codeline lineno="80"><highlight class="normal">{}</highlight></codeline>
<codeline lineno="81"><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"></highlight><highlight class="comment">//-----------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="83"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Initialize<sp/>the<sp/>tool</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="84"><highlight class="normal"></highlight><highlight class="comment">//-----------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal">StatusCode<sp/><ref refid="d5/dfc/classJERSmearingTool_1a99941e6e344942eeb470422a4db80c45" kindref="member" tooltip="Initialize the tool.">JERSmearingTool::initialize</ref>()</highlight></codeline>
<codeline lineno="86"><highlight class="normal">{</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Greet<sp/>the<sp/>user</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/>ATH_MSG_INFO(</highlight><highlight class="stringliteral">&quot;Initializing<sp/>JER<sp/>smearing<sp/>tool&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Workaround<sp/>for<sp/>configuring<sp/>ToolHandle<sp/>in<sp/>PyROOT</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!m_jerToolName.empty())</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/>m_jerTool<sp/>=<sp/>ToolHandle&lt;IJERTool&gt;(m_jerToolName);</highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Try<sp/>to<sp/>retrieve<sp/>the<sp/>JERTool</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(m_jerTool.retrieve()<sp/>!=<sp/>StatusCode::SUCCESS){</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_ERROR(</highlight><highlight class="stringliteral">&quot;Cannot<sp/>retrieve<sp/>the<sp/>JER<sp/>tool!&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Nominal<sp/>smearing<sp/>is<sp/>disabled<sp/>for<sp/>now</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(m_applyNominalSmearing){</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_WARNING(</highlight><highlight class="stringliteral">&quot;Nominal<sp/>smearing<sp/>is<sp/>currently<sp/>unsupported.<sp/>Disabling&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/>m_applyNominalSmearing<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Make<sp/>sure<sp/>we<sp/>have<sp/>a<sp/>valid<sp/>systematic<sp/>mode</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(m_sysMode<sp/>!=<sp/></highlight><highlight class="stringliteral">&quot;Simple&quot;</highlight><highlight class="normal"><sp/>&amp;&amp;<sp/>m_sysMode<sp/>!=<sp/></highlight><highlight class="stringliteral">&quot;Full&quot;</highlight><highlight class="normal">){</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_ERROR(</highlight><highlight class="stringliteral">&quot;Unsupported<sp/>SystematicMode:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>m_sysMode);</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_ERROR(</highlight><highlight class="stringliteral">&quot;Should<sp/>be<sp/>&apos;Simple&apos;<sp/>or<sp/>&apos;Full&apos;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="112"><highlight class="normal"></highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Add<sp/>the<sp/>affecting<sp/>systematics<sp/>to<sp/>the<sp/>global<sp/>registry</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><ref refid="d4/d6e/classCP_1_1SystematicRegistry" kindref="compound">CP::SystematicRegistry</ref>&amp;<sp/>registry<sp/>=<sp/><ref refid="d4/d6e/classCP_1_1SystematicRegistry_1a6bfc41e5ad75c56240e635dba9423ad1" kindref="member" tooltip="Get the singleton instance of the registry.">CP::SystematicRegistry::getInstance</ref>();</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(registry.<ref refid="d4/d6e/classCP_1_1SystematicRegistry_1adafd09d699d5cfb10943d4926ec340af" kindref="member" tooltip="effects: register all the systematics from the tool">registerSystematics</ref>(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">)<sp/>!=<sp/><ref refid="d1/d38/classCP_1_1SystematicCode_1a07da906f4dfdca0598ec3a4ac9bfb686ae0356fe67c0b21740893766ab2f334aa" kindref="member" tooltip="The requested systematic will be applied.">CP::SystematicCode::Ok</ref>){</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_ERROR(</highlight><highlight class="stringliteral">&quot;Unable<sp/>to<sp/>register<sp/>systematics!&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="119"><highlight class="normal"></highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::SUCCESS;</highlight></codeline>
<codeline lineno="121"><highlight class="normal">}</highlight></codeline>
<codeline lineno="122"><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"></highlight><highlight class="comment">//-----------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="124"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Apply<sp/>the<sp/>JER<sp/>correction<sp/>on<sp/>a<sp/>modifiable<sp/>jet</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="125"><highlight class="normal"></highlight><highlight class="comment">//-----------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="126"><highlight class="normal"><ref refid="db/d8a/classCP_1_1CorrectionCode" kindref="compound">CP::CorrectionCode</ref><sp/><ref refid="d5/dfc/classJERSmearingTool_1ab7881cf04d6737e504f28c874d9c23a8" kindref="member" tooltip="Apply the JER correction on a modifiable jet.">JERSmearingTool::applyCorrection</ref>(<ref refid="db/d9c/classxAOD_1_1Jet__v1" kindref="compound">xAOD::Jet</ref>&amp;<sp/>jet)</highlight></codeline>
<codeline lineno="127"><highlight class="normal">{</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>applySys<sp/>=<sp/>!m_sysConfig-&gt;<ref refid="d4/d52/classCP_1_1SystematicSet_1a9db65d75f868cf48378420497132a83c" kindref="member" tooltip="returns: whether the set is empty">empty</ref>();</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(applySys<sp/>||<sp/>m_applyNominalSmearing){</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO:<sp/>change<sp/>these<sp/>methods<sp/>to<sp/>return<sp/>a<sp/>StatusCode<sp/>instead?</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>I<sp/>don&apos;t<sp/>know,<sp/>exceptions<sp/>are<sp/>pretty<sp/>nice<sp/>to<sp/>use<sp/>(internally<sp/>only).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>smear<sp/>=<sp/>0.;</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>smear<sp/>=<sp/>applySys<sp/>?<sp/><ref refid="d5/dfc/classJERSmearingTool_1a1dcc109ee3762d9d019c2a5493a31bde" kindref="member" tooltip="Get the systematic uncert smearing factor.">getSmearingFactorSys</ref>(&amp;jet)</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/><ref refid="d5/dfc/classJERSmearingTool_1ad0e17e3e81679940fef70e961b7d1802" kindref="member" tooltip="Get nominal smearing factor.">getSmearingFactorNom</ref>(&amp;jet);</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">catch</highlight><highlight class="normal">(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::logic_error&amp;<sp/>err){</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_FATAL(</highlight><highlight class="stringliteral">&quot;Logic<sp/>error<sp/>in<sp/>smearing<sp/>factor:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>err.what());</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="db/d8a/classCP_1_1CorrectionCode_1a0a040c70626c77bad65a0fbf757d7b83a9faf702fadfcc1135b182dd78ec9d718" kindref="member" tooltip="Some error happened during the object correction.">CP::CorrectionCode::Error</ref>;</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="141"><highlight class="normal"></highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Sanity<sp/>check</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_DEBUG(</highlight><highlight class="stringliteral">&quot;Applying<sp/>smearing<sp/>factor:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>smear);</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(smear<sp/>&lt;<sp/>0)<sp/>ATH_MSG_WARNING(</highlight><highlight class="stringliteral">&quot;Negative<sp/>smear<sp/>factor:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>smear);</highlight></codeline>
<codeline lineno="145"><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>No<sp/>non-const<sp/>accessor,<sp/>so<sp/>I<sp/>need<sp/>to<sp/>copy<sp/>the<sp/>p4<sp/>to<sp/>modify<sp/>it.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Maybe<sp/>we<sp/>can<sp/>set<sp/>pt<sp/>and<sp/>E<sp/>only.<sp/>It<sp/>would<sp/>reduce<sp/>the<sp/>number<sp/>of</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>branches<sp/>in<sp/>shallow<sp/>copies.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="dd/d44/namespacexAOD_1afd4eec03bc44b101a3c8b2b1429f3072" kindref="member" tooltip="Base 4 Momentum type for Jet.">xAOD::JetFourMom_t</ref><sp/>p4<sp/>=<sp/>jet.<ref refid="db/d9c/classxAOD_1_1Jet__v1_1a166db7944b9111045c827ad664fc7883" kindref="member" tooltip="The full 4-momentum of the particle : internal jet type.">jetP4</ref>();</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/>jet.setJetP4(p4*smear);</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="152"><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="db/d8a/classCP_1_1CorrectionCode_1a0a040c70626c77bad65a0fbf757d7b83aea8e3d31915633d7faef8f6a6c0bbd9f" kindref="member" tooltip="The correction was done successfully.">CP::CorrectionCode::Ok</ref>;</highlight></codeline>
<codeline lineno="154"><highlight class="normal">}</highlight></codeline>
<codeline lineno="155"><highlight class="normal"></highlight></codeline>
<codeline lineno="156"><highlight class="normal"></highlight><highlight class="comment">//-----------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="157"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Declare<sp/>affecting<sp/>systematics</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="158"><highlight class="normal"></highlight><highlight class="comment">//-----------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="159"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="d5/dfc/classJERSmearingTool_1aa5041a02fe17f698c93b26c8181b38ac" kindref="member" tooltip="Specify whether tool is affected by provided systematic.">JERSmearingTool::isAffectedBySystematic</ref></highlight></codeline>
<codeline lineno="160"><highlight class="normal">(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="dd/d2d/classCP_1_1SystematicVariation" kindref="compound">CP::SystematicVariation</ref>&amp;<sp/>systematic)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="161"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Using<sp/>&apos;find&apos;<sp/>is<sp/>sufficient<sp/>until<sp/>this<sp/>tool<sp/>supports<sp/>continuous</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>variations,<sp/>at<sp/>which<sp/>point<sp/>I&apos;ll<sp/>need<sp/>to<sp/>use<sp/>the<sp/>&apos;match&apos;<sp/>method.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="d4/d52/classCP_1_1SystematicSet" kindref="compound" tooltip="Class to wrap a set of SystematicVariations.">CP::SystematicSet</ref><sp/>sys<sp/>=<sp/><ref refid="d5/dfc/classJERSmearingTool_1adc69a92d42d9f728b8fef686c5323a8a" kindref="member" tooltip="List of all systematics affecting this tool.">affectingSystematics</ref>();</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>sys.<ref refid="d4/d52/classCP_1_1SystematicSet_1ad2ade5846d7bf837c2679fa2e7628895" kindref="member" tooltip="description: find an element in the set">find</ref>(systematic)<sp/>!=<sp/>sys.<ref refid="d4/d52/classCP_1_1SystematicSet_1aa89eea0473b865d52295c272c7b5b944" kindref="member" tooltip="description: const iterator to the end of the set">end</ref>();</highlight></codeline>
<codeline lineno="166"><highlight class="normal">}</highlight></codeline>
<codeline lineno="167"><highlight class="normal"></highlight><highlight class="comment">//-----------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"><ref refid="d4/d52/classCP_1_1SystematicSet" kindref="compound" tooltip="Class to wrap a set of SystematicVariations.">CP::SystematicSet</ref><sp/><ref refid="d5/dfc/classJERSmearingTool_1adc69a92d42d9f728b8fef686c5323a8a" kindref="member" tooltip="List of all systematics affecting this tool.">JERSmearingTool::affectingSystematics</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="169"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><ref refid="d4/d52/classCP_1_1SystematicSet" kindref="compound" tooltip="Class to wrap a set of SystematicVariations.">CP::SystematicSet</ref><sp/>result;</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/>result.<ref refid="d4/d52/classCP_1_1SystematicSet_1a5c0754cb8a3ab4d64b316ba2ea4497a3" kindref="member" tooltip="description: insert a systematic into the set">insert</ref>(simpleSysts);</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/>result.<ref refid="d4/d52/classCP_1_1SystematicSet_1a5c0754cb8a3ab4d64b316ba2ea4497a3" kindref="member" tooltip="description: insert a systematic into the set">insert</ref>(fullSysts);</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="174"><highlight class="normal">}</highlight></codeline>
<codeline lineno="175"><highlight class="normal"></highlight><highlight class="comment">//-----------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"><ref refid="d4/d52/classCP_1_1SystematicSet" kindref="compound" tooltip="Class to wrap a set of SystematicVariations.">CP::SystematicSet</ref><sp/><ref refid="d5/dfc/classJERSmearingTool_1aeea5f55469cf726c31dcca714c2ddca8" kindref="member" tooltip="List of all systematics recommended for this tool.">JERSmearingTool::recommendedSystematics</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="177"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Currently<sp/>two<sp/>possible<sp/>recommendations:<sp/>Simple<sp/>and<sp/>Full</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(m_sysMode<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;Simple&quot;</highlight><highlight class="normal">)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>simpleSysts;</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(m_sysMode<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;Full&quot;</highlight><highlight class="normal">)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>fullSysts;</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_WARNING(</highlight><highlight class="stringliteral">&quot;Unsupported<sp/>SystematicMode:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>m_sysMode);</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_WARNING(</highlight><highlight class="stringliteral">&quot;Should<sp/>be<sp/>&apos;Simple&apos;<sp/>or<sp/>&apos;Full&apos;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_WARNING(</highlight><highlight class="stringliteral">&quot;Returning<sp/>an<sp/>empty<sp/>set&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="d4/d52/classCP_1_1SystematicSet" kindref="compound" tooltip="Class to wrap a set of SystematicVariations.">CP::SystematicSet</ref>();</highlight></codeline>
<codeline lineno="187"><highlight class="normal">}</highlight></codeline>
<codeline lineno="188"><highlight class="normal"></highlight></codeline>
<codeline lineno="189"><highlight class="normal"></highlight><highlight class="comment">//-----------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="190"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Apply<sp/>systematic<sp/>configuration</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="191"><highlight class="normal"></highlight><highlight class="comment">//-----------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="192"><highlight class="normal"><ref refid="d1/d38/classCP_1_1SystematicCode" kindref="compound">CP::SystematicCode</ref><sp/><ref refid="d5/dfc/classJERSmearingTool_1af8ed72ac8db01addc69960eadc024703" kindref="member" tooltip="Configure tool to apply systematic variation.">JERSmearingTool::applySystematicVariation</ref></highlight></codeline>
<codeline lineno="193"><highlight class="normal">(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d4/d52/classCP_1_1SystematicSet" kindref="compound" tooltip="Class to wrap a set of SystematicVariations.">CP::SystematicSet</ref>&amp;<sp/>systematics)</highlight></codeline>
<codeline lineno="194"><highlight class="normal">{</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>First<sp/>check<sp/>if<sp/>we<sp/>already<sp/>know<sp/>this<sp/>systematic<sp/>configuration.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Look<sp/>for<sp/>it<sp/>in<sp/>our<sp/>filter<sp/>map.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>sysMapItr<sp/>=<sp/>m_sysFilterMap.find(systematics);</highlight></codeline>
<codeline lineno="198"><highlight class="normal"></highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>this<sp/>is<sp/>a<sp/>new<sp/>input<sp/>set,<sp/>we<sp/>need<sp/>to<sp/>filter<sp/>it.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(sysMapItr<sp/>==<sp/>m_sysFilterMap.end()){</highlight></codeline>
<codeline lineno="201"><highlight class="normal"></highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Filter<sp/>the<sp/>input<sp/>systematics<sp/>with<sp/>my<sp/>affecting<sp/>systematics.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Should<sp/>be<sp/>ok<sp/>to<sp/>use<sp/>static<sp/>here,<sp/>as<sp/>the<sp/>affecting<sp/>systematics<sp/>should<sp/>be</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>same<sp/>across<sp/>any<sp/>instance<sp/>of<sp/>this<sp/>tool.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d4/d52/classCP_1_1SystematicSet" kindref="compound" tooltip="Class to wrap a set of SystematicVariations.">CP::SystematicSet</ref><sp/>affectingSysts<sp/>=<sp/><ref refid="d5/dfc/classJERSmearingTool_1adc69a92d42d9f728b8fef686c5323a8a" kindref="member" tooltip="List of all systematics affecting this tool.">affectingSystematics</ref>();</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d4/d52/classCP_1_1SystematicSet" kindref="compound" tooltip="Class to wrap a set of SystematicVariations.">CP::SystematicSet</ref><sp/>filteredSysts;</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/><ref refid="d4/d52/classCP_1_1SystematicSet" kindref="compound" tooltip="Class to wrap a set of SystematicVariations.">CP::SystematicSet</ref>::</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filterForAffectingSystematics(systematics,<sp/>affectingSysts,<sp/>filteredSysts)<sp/>!=</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d1/d38/classCP_1_1SystematicCode_1a07da906f4dfdca0598ec3a4ac9bfb686ae0356fe67c0b21740893766ab2f334aa" kindref="member" tooltip="The requested systematic will be applied.">CP::SystematicCode::Ok</ref><sp/>)<sp/>{</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_ERROR(</highlight><highlight class="stringliteral">&quot;Received<sp/>unsupported<sp/>systematics:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>systematics.<ref refid="d4/d52/classCP_1_1SystematicSet_1af01661875334428bad90eb29174a5ae8" kindref="member">name</ref>());</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="d1/d38/classCP_1_1SystematicCode_1a07da906f4dfdca0598ec3a4ac9bfb686a3bf0b760b0d2dc3b22292c97a3f16a03" kindref="member" tooltip="The requested systematic is not supported.">CP::SystematicCode::Unsupported</ref>;</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="213"><highlight class="normal"></highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>At<sp/>this<sp/>point,<sp/>we<sp/>can<sp/>do<sp/>some<sp/>additional<sp/>checks<sp/>for<sp/>consistency</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>with<sp/>the<sp/>JER<sp/>functionality.<sp/>For<sp/>example,<sp/>if<sp/>the<sp/>tool<sp/>can<sp/>only<sp/>handle</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>one<sp/>type<sp/>of<sp/>systematic<sp/>at<sp/>a<sp/>time,<sp/>we<sp/>return<sp/>an<sp/>error<sp/>if<sp/>the<sp/>filtered</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>set<sp/>has<sp/>more<sp/>than<sp/>one<sp/>item:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(filteredSysts.<ref refid="d4/d52/classCP_1_1SystematicSet_1af9b23731f388242287c0102a00fb4456" kindref="member" tooltip="returns: size of the set">size</ref>()<sp/>&gt;<sp/>1){</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_ERROR(</highlight><highlight class="stringliteral">&quot;No<sp/>support<sp/>for<sp/>more<sp/>than<sp/>one<sp/>JER<sp/>sys<sp/>at<sp/>a<sp/>time:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filteredSysts.<ref refid="d4/d52/classCP_1_1SystematicSet_1af01661875334428bad90eb29174a5ae8" kindref="member">name</ref>());</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="d1/d38/classCP_1_1SystematicCode_1a07da906f4dfdca0598ec3a4ac9bfb686a3bf0b760b0d2dc3b22292c97a3f16a03" kindref="member" tooltip="The requested systematic is not supported.">CP::SystematicCode::Unsupported</ref>;</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="223"><highlight class="normal"></highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Insert<sp/>the<sp/>new<sp/>filtered<sp/>set<sp/>onto<sp/>our<sp/>filter<sp/>map</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/>sysMapItr<sp/>=<sp/>m_sysFilterMap.insert</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>(std::make_pair(systematics,<sp/>filteredSysts)).first;</highlight></codeline>
<codeline lineno="227"><highlight class="normal"></highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="229"><highlight class="normal"></highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Apply<sp/>the<sp/>filtered<sp/>systematics</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/>m_sysConfig<sp/>=<sp/>&amp;sysMapItr-&gt;second;</highlight></codeline>
<codeline lineno="232"><highlight class="normal"></highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="d1/d38/classCP_1_1SystematicCode_1a07da906f4dfdca0598ec3a4ac9bfb686ae0356fe67c0b21740893766ab2f334aa" kindref="member" tooltip="The requested systematic will be applied.">CP::SystematicCode::Ok</ref>;</highlight></codeline>
<codeline lineno="234"><highlight class="normal">}</highlight></codeline>
<codeline lineno="235"><highlight class="normal"></highlight></codeline>
<codeline lineno="236"><highlight class="normal"></highlight><highlight class="comment">//-----------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="237"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Get<sp/>random<sp/>nominal<sp/>smearing<sp/>factor<sp/>to<sp/>match<sp/>the<sp/>jet<sp/>energy<sp/>resolution</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="238"><highlight class="normal"></highlight><highlight class="comment">//<sp/>in<sp/>MC<sp/>to<sp/>the<sp/>resolution<sp/>in<sp/>data</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="239"><highlight class="normal"></highlight><highlight class="comment">//-----------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="240"><highlight class="normal"></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="d5/dfc/classJERSmearingTool_1ad0e17e3e81679940fef70e961b7d1802" kindref="member" tooltip="Get nominal smearing factor.">JERSmearingTool::getSmearingFactorNom</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="db/d9c/classxAOD_1_1Jet__v1" kindref="compound">xAOD::Jet</ref>*<sp/>jet)</highlight></codeline>
<codeline lineno="241"><highlight class="normal">{</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>resMC<sp/>=<sp/>m_jerTool-&gt;getRelResolutionMC(jet);</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>resData<sp/>=<sp/>m_jerTool-&gt;getRelResolutionData(jet);</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>sigma<sp/>=<sp/>resData<sp/>&gt;<sp/>resMC<sp/>?<sp/>sqrt(resData*resData<sp/>-<sp/>resMC*resMC)<sp/>:<sp/>0.0;</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/>ATH_MSG_DEBUG(</highlight><highlight class="stringliteral">&quot;Retrieved<sp/>nominal<sp/>jet<sp/>resolution<sp/>values:<sp/>MC<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>resMC<sp/>&lt;&lt;</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>Data<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>resData<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/>SmearSigma<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>sigma);</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="d5/dfc/classJERSmearingTool_1a051ac11d73327043dea2a29225989e70" kindref="member" tooltip="Calculate the random gaussian smear factor for a requested sigma.">getSmearingFactor</ref>(jet,<sp/>sigma);</highlight></codeline>
<codeline lineno="248"><highlight class="normal">}</highlight></codeline>
<codeline lineno="249"><highlight class="normal"></highlight></codeline>
<codeline lineno="250"><highlight class="normal"></highlight><highlight class="comment">//-----------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="251"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Get<sp/>random<sp/>smearing<sp/>factor<sp/>for<sp/>evaluating<sp/>jet<sp/>energy<sp/>resolution</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="252"><highlight class="normal"></highlight><highlight class="comment">//<sp/>systematic<sp/>uncertainty</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="253"><highlight class="normal"></highlight><highlight class="comment">//-----------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="254"><highlight class="normal"></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="d5/dfc/classJERSmearingTool_1a1dcc109ee3762d9d019c2a5493a31bde" kindref="member" tooltip="Get the systematic uncert smearing factor.">JERSmearingTool::getSmearingFactorSys</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="db/d9c/classxAOD_1_1Jet__v1" kindref="compound">xAOD::Jet</ref>*<sp/>jet)</highlight></codeline>
<codeline lineno="255"><highlight class="normal">{</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>For<sp/>now,<sp/>assuming<sp/>there<sp/>is<sp/>only<sp/>one<sp/>(affecting)<sp/>systematic<sp/>at<sp/>a<sp/>time.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>we<sp/>want<sp/>to<sp/>allow<sp/>simultaneous<sp/>variations,<sp/>then<sp/>the<sp/>code<sp/>will<sp/>need</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>to<sp/>be<sp/>updated<sp/>to<sp/>apply<sp/>multiple<sp/>variations<sp/>on<sp/>top<sp/>of<sp/>each<sp/>other.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(m_sysConfig-&gt;<ref refid="d4/d52/classCP_1_1SystematicSet_1af9b23731f388242287c0102a00fb4456" kindref="member" tooltip="returns: size of the set">size</ref>()<sp/>!=<sp/>1)</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/>std::logic_error(</highlight><highlight class="stringliteral">&quot;More<sp/>than<sp/>one<sp/>affecting<sp/>systematic<sp/>received&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="dd/d2d/classCP_1_1SystematicVariation" kindref="compound">CP::SystematicVariation</ref>&amp;<sp/>sys<sp/>=<sp/>*m_sysConfig-&gt;<ref refid="d4/d52/classCP_1_1SystematicSet_1a2bb1825a4d51bbced328ff42ffda8316" kindref="member" tooltip="description: const iterator to the beginning of the set">begin</ref>();</highlight></codeline>
<codeline lineno="262"><highlight class="normal"></highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>MC<sp/>resolution</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>resMC<sp/>=<sp/>m_jerTool-&gt;getRelResolutionMC(jet);</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Data<sp/>resolution</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>resData<sp/>=<sp/>m_jerTool-&gt;getRelResolutionData(jet);</highlight></codeline>
<codeline lineno="267"><highlight class="normal"></highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>smearing<sp/>parameter</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>smearingSigma<sp/>=<sp/>0.;<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>resSys<sp/>=<sp/>0.;<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>sigmaNP<sp/>=<sp/>0.;</highlight></codeline>
<codeline lineno="270"><highlight class="normal"></highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>All<sp/>NPs<sp/>combined<sp/>in<sp/>quadrature</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(sys.<ref refid="dd/d2d/classCP_1_1SystematicVariation_1a29a6c407ced8513717e0855bede8f20d" kindref="member">basename</ref>()<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;JET_JER_SINGLE_NP&quot;</highlight><highlight class="normal">){</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Systematic-shifted<sp/>resolution</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/>resSys<sp/>=<sp/>resMC<sp/>+<sp/>m_jerTool-&gt;getUncertainty(jet,<sp/>JER::JER_NP_ALL);</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/>smearingSigma<sp/>=<sp/><sp/>m_isMC<sp/>?<sp/>sqrt(resSys*resSys<sp/>-<sp/>resMC*resMC)<sp/>:<sp/>0.<sp/>;</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="277"><highlight class="normal"></highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>NP<sp/>0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(sys.<ref refid="dd/d2d/classCP_1_1SystematicVariation_1a29a6c407ced8513717e0855bede8f20d" kindref="member">basename</ref>()<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;JET_JER_NP0&quot;</highlight><highlight class="normal">){</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Size<sp/>and<sp/>sign<sp/>of<sp/>the<sp/>requested<sp/>variation.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>sysVar<sp/>=<sp/>sys.<ref refid="dd/d2d/classCP_1_1SystematicVariation_1a2b6754480c75e0649348930bf7f84d85" kindref="member">parameter</ref>();</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/>sigmaNP<sp/>=<sp/>sysVar<sp/>*<sp/>m_jerTool-&gt;getUncertainty(jet,<sp/>JER::JER_NP0);</highlight></codeline>
<codeline lineno="283"><highlight class="normal"></highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(sigmaNP<sp/>&gt;<sp/>0.){</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>resSys<sp/>=<sp/>resData<sp/>+<sp/>sigmaNP;</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>smearingSigma<sp/>=<sp/>m_isMC<sp/>?<sp/>0.<sp/>:<sp/>sqrt(resSys*resSys<sp/>-<sp/>resData*resData);</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>resSys<sp/>=<sp/>resMC<sp/>+<sp/>fabs(sigmaNP);</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>smearingSigma<sp/>=<sp/>m_isMC<sp/>?<sp/>sqrt(resSys*resSys<sp/>-<sp/>resMC*resMC)<sp/>:<sp/>0.<sp/>;</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="293"><highlight class="normal"></highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>NP<sp/>1</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(sys.<ref refid="dd/d2d/classCP_1_1SystematicVariation_1a29a6c407ced8513717e0855bede8f20d" kindref="member">basename</ref>()<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;JET_JER_NP1&quot;</highlight><highlight class="normal">){</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>sysVar<sp/>=<sp/>sys.<ref refid="dd/d2d/classCP_1_1SystematicVariation_1a2b6754480c75e0649348930bf7f84d85" kindref="member">parameter</ref>();</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/>sigmaNP<sp/>=<sp/>sysVar<sp/>*<sp/>m_jerTool-&gt;getUncertainty(jet,<sp/>JER::JER_NP1);</highlight></codeline>
<codeline lineno="298"><highlight class="normal"></highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(sigmaNP<sp/>&gt;<sp/>0.){</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>resSys<sp/>=<sp/>resData<sp/>+<sp/>sigmaNP;</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>smearingSigma<sp/>=<sp/>m_isMC<sp/>?<sp/>0.<sp/>:<sp/>sqrt(resSys*resSys<sp/>-<sp/>resData*resData);</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>resSys<sp/>=<sp/>resMC<sp/>+<sp/>fabs(sigmaNP);</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>smearingSigma<sp/>=<sp/>m_isMC<sp/>?<sp/>sqrt(resSys*resSys<sp/>-<sp/>resMC*resMC)<sp/>:<sp/>0.<sp/>;</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="308"><highlight class="normal"></highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>NP<sp/>2</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(sys.<ref refid="dd/d2d/classCP_1_1SystematicVariation_1a29a6c407ced8513717e0855bede8f20d" kindref="member">basename</ref>()<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;JET_JER_NP2&quot;</highlight><highlight class="normal">){</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>sysVar<sp/>=<sp/>sys.<ref refid="dd/d2d/classCP_1_1SystematicVariation_1a2b6754480c75e0649348930bf7f84d85" kindref="member">parameter</ref>();</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/>sigmaNP<sp/>=<sp/>sysVar<sp/>*<sp/>m_jerTool-&gt;getUncertainty(jet,<sp/>JER::JER_NP2);</highlight></codeline>
<codeline lineno="313"><highlight class="normal"></highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(sigmaNP<sp/>&gt;<sp/>0.){</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>resSys<sp/>=<sp/>resData<sp/>+<sp/>sigmaNP;</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>smearingSigma<sp/>=<sp/>m_isMC<sp/>?<sp/>0.<sp/>:<sp/>sqrt(resSys*resSys<sp/>-<sp/>resData*resData);</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>resSys<sp/>=<sp/>resMC<sp/>+<sp/>fabs(sigmaNP);</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>smearingSigma<sp/>=<sp/>m_isMC<sp/>?<sp/>sqrt(resSys*resSys<sp/>-<sp/>resMC*resMC)<sp/>:<sp/>0.<sp/>;</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="323"><highlight class="normal"></highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>NP<sp/>3</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(sys.<ref refid="dd/d2d/classCP_1_1SystematicVariation_1a29a6c407ced8513717e0855bede8f20d" kindref="member">basename</ref>()<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;JET_JER_NP3&quot;</highlight><highlight class="normal">){</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>sysVar<sp/>=<sp/>sys.<ref refid="dd/d2d/classCP_1_1SystematicVariation_1a2b6754480c75e0649348930bf7f84d85" kindref="member">parameter</ref>();</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/>sigmaNP<sp/>=<sp/>sysVar<sp/>*<sp/>m_jerTool-&gt;getUncertainty(jet,<sp/>JER::JER_NP3);</highlight></codeline>
<codeline lineno="328"><highlight class="normal"></highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(sigmaNP<sp/>&gt;<sp/>0.){</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>resSys<sp/>=<sp/>resData<sp/>+<sp/>sigmaNP;</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>smearingSigma<sp/>=<sp/>m_isMC<sp/>?<sp/>0.<sp/>:<sp/>sqrt(resSys*resSys<sp/>-<sp/>resData*resData);</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>resSys<sp/>=<sp/>resMC<sp/>+<sp/>fabs(sigmaNP);</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>smearingSigma<sp/>=<sp/>m_isMC<sp/>?<sp/>sqrt(resSys*resSys<sp/>-<sp/>resMC*resMC)<sp/>:<sp/>0.<sp/>;</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="338"><highlight class="normal"></highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>NP<sp/>4</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(sys.<ref refid="dd/d2d/classCP_1_1SystematicVariation_1a29a6c407ced8513717e0855bede8f20d" kindref="member">basename</ref>()<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;JET_JER_NP4&quot;</highlight><highlight class="normal">){</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>sysVar<sp/>=<sp/>sys.<ref refid="dd/d2d/classCP_1_1SystematicVariation_1a2b6754480c75e0649348930bf7f84d85" kindref="member">parameter</ref>();</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/>sigmaNP<sp/>=<sp/>sysVar<sp/>*<sp/>m_jerTool-&gt;getUncertainty(jet,<sp/>JER::JER_NP4);</highlight></codeline>
<codeline lineno="343"><highlight class="normal"></highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(sigmaNP<sp/>&gt;<sp/>0.){</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>resSys<sp/>=<sp/>resData<sp/>+<sp/>sigmaNP;</highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>smearingSigma<sp/>=<sp/>m_isMC<sp/>?<sp/>0.<sp/>:<sp/>sqrt(resSys*resSys<sp/>-<sp/>resData*resData);</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>resSys<sp/>=<sp/>resMC<sp/>+<sp/>fabs(sigmaNP);</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>smearingSigma<sp/>=<sp/>m_isMC<sp/>?<sp/>sqrt(resSys*resSys<sp/>-<sp/>resMC*resMC)<sp/>:<sp/>0.<sp/>;</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="353"><highlight class="normal"></highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>NP<sp/>5</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(sys.<ref refid="dd/d2d/classCP_1_1SystematicVariation_1a29a6c407ced8513717e0855bede8f20d" kindref="member">basename</ref>()<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;JET_JER_NP5&quot;</highlight><highlight class="normal">){</highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>sysVar<sp/>=<sp/>sys.<ref refid="dd/d2d/classCP_1_1SystematicVariation_1a2b6754480c75e0649348930bf7f84d85" kindref="member">parameter</ref>();</highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/>sigmaNP<sp/>=<sp/>sysVar<sp/>*<sp/>m_jerTool-&gt;getUncertainty(jet,<sp/>JER::JER_NP5);</highlight></codeline>
<codeline lineno="358"><highlight class="normal"></highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(sigmaNP<sp/>&gt;<sp/>0.){</highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>resSys<sp/>=<sp/>resData<sp/>+<sp/>sigmaNP;</highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>smearingSigma<sp/>=<sp/>m_isMC<sp/>?<sp/>0.<sp/>:<sp/>sqrt(resSys*resSys<sp/>-<sp/>resData*resData);</highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>resSys<sp/>=<sp/>resMC<sp/>+<sp/>fabs(sigmaNP);</highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>smearingSigma<sp/>=<sp/>m_isMC<sp/>?<sp/>sqrt(resSys*resSys<sp/>-<sp/>resMC*resMC)<sp/>:<sp/>0.<sp/>;</highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="368"><highlight class="normal"></highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>NP<sp/>6</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(sys.<ref refid="dd/d2d/classCP_1_1SystematicVariation_1a29a6c407ced8513717e0855bede8f20d" kindref="member">basename</ref>()<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;JET_JER_NP6&quot;</highlight><highlight class="normal">){</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>sysVar<sp/>=<sp/>sys.<ref refid="dd/d2d/classCP_1_1SystematicVariation_1a2b6754480c75e0649348930bf7f84d85" kindref="member">parameter</ref>();</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/>sigmaNP<sp/>=<sp/>sysVar<sp/>*<sp/>m_jerTool-&gt;getUncertainty(jet,<sp/>JER::JER_NP6);</highlight></codeline>
<codeline lineno="373"><highlight class="normal"></highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(sigmaNP<sp/>&gt;<sp/>0.){</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>resSys<sp/>=<sp/>resData<sp/>+<sp/>sigmaNP;</highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>smearingSigma<sp/>=<sp/>m_isMC<sp/>?<sp/>0.<sp/>:<sp/>sqrt(resSys*resSys<sp/>-<sp/>resData*resData);</highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>resSys<sp/>=<sp/>resMC<sp/>+<sp/>fabs(sigmaNP);</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>smearingSigma<sp/>=<sp/>m_isMC<sp/>?<sp/>sqrt(resSys*resSys<sp/>-<sp/>resMC*resMC)<sp/>:<sp/>0.<sp/>;</highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="383"><highlight class="normal"></highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>NP<sp/>7</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(sys.<ref refid="dd/d2d/classCP_1_1SystematicVariation_1a29a6c407ced8513717e0855bede8f20d" kindref="member">basename</ref>()<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;JET_JER_NP7&quot;</highlight><highlight class="normal">){</highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>sysVar<sp/>=<sp/>sys.<ref refid="dd/d2d/classCP_1_1SystematicVariation_1a2b6754480c75e0649348930bf7f84d85" kindref="member">parameter</ref>();</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/>sigmaNP<sp/>=<sp/>sysVar<sp/>*<sp/>m_jerTool-&gt;getUncertainty(jet,<sp/>JER::JER_NP7);</highlight></codeline>
<codeline lineno="388"><highlight class="normal"></highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(sigmaNP<sp/>&gt;<sp/>0.){</highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>resSys<sp/>=<sp/>resData<sp/>+<sp/>sigmaNP;</highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>smearingSigma<sp/>=<sp/>m_isMC<sp/>?<sp/>0.<sp/>:<sp/>sqrt(resSys*resSys<sp/>-<sp/>resData*resData);</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>resSys<sp/>=<sp/>resMC<sp/>+<sp/>fabs(sigmaNP);</highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>smearingSigma<sp/>=<sp/>m_isMC<sp/>?<sp/>sqrt(resSys*resSys<sp/>-<sp/>resMC*resMC)<sp/>:<sp/>0.<sp/>;</highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="398"><highlight class="normal"></highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>NP<sp/>8</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(sys.<ref refid="dd/d2d/classCP_1_1SystematicVariation_1a29a6c407ced8513717e0855bede8f20d" kindref="member">basename</ref>()<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;JET_JER_NP8&quot;</highlight><highlight class="normal">){</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>sysVar<sp/>=<sp/>sys.<ref refid="dd/d2d/classCP_1_1SystematicVariation_1a2b6754480c75e0649348930bf7f84d85" kindref="member">parameter</ref>();</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/>sigmaNP<sp/>=<sp/>sysVar<sp/>*<sp/>m_jerTool-&gt;getUncertainty(jet,<sp/>JER::JER_NP8);</highlight></codeline>
<codeline lineno="403"><highlight class="normal"></highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(sigmaNP<sp/>&gt;<sp/>0.){</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>resSys<sp/>=<sp/>resData<sp/>+<sp/>sigmaNP;</highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>smearingSigma<sp/>=<sp/>m_isMC<sp/>?<sp/>0.<sp/>:<sp/>sqrt(resSys*resSys<sp/>-<sp/>resData*resData);</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>resSys<sp/>=<sp/>resMC<sp/>+<sp/>fabs(sigmaNP);</highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>smearingSigma<sp/>=<sp/>m_isMC<sp/>?<sp/>sqrt(resSys*resSys<sp/>-<sp/>resMC*resMC)<sp/>:<sp/>0.<sp/>;</highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="413"><highlight class="normal"></highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>JER_NOISE_FORWARD,<sp/>Be<sp/>careful:<sp/>Noise<sp/>forward<sp/>unc<sp/>is<sp/>stored<sp/>as<sp/>relative;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>need<sp/>to<sp/>use<sp/>absolute<sp/>(jerMC*unc)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(sys.<ref refid="dd/d2d/classCP_1_1SystematicVariation_1a29a6c407ced8513717e0855bede8f20d" kindref="member">basename</ref>()<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;JET_JER_NOISE_FORWARD&quot;</highlight><highlight class="normal">){</highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Systematic-shifted<sp/>resolution</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/>resSys<sp/>=<sp/>resMC<sp/>+<sp/>resMC*m_jerTool-&gt;getUncertainty(jet,<sp/>JER::JER_NOISE_FORWARD);</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/>smearingSigma<sp/>=<sp/>m_isMC<sp/>?<sp/>sqrt(resSys*resSys<sp/>-<sp/>resMC*resMC)<sp/>:<sp/>0.;</highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="421"><highlight class="normal"></highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>JER<sp/>from<sp/>cross<sp/>calibration</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(sys.<ref refid="dd/d2d/classCP_1_1SystematicVariation_1a29a6c407ced8513717e0855bede8f20d" kindref="member">basename</ref>()<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;JET_JER_CROSS_CALIB_FORWARD&quot;</highlight><highlight class="normal">){</highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Systematic-shifted<sp/>resolution</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/>resSys<sp/>=<sp/>resMC<sp/>+<sp/>m_jerTool-&gt;getUncertainty(jet,<sp/>JER::JER_CROSS_CALIB_ALL);</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/>smearingSigma<sp/>=<sp/>m_isMC<sp/>?<sp/>sqrt(resSys*resSys<sp/>-<sp/>resMC*resMC)<sp/>:<sp/>0.;</highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="428"><highlight class="normal"></highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Whatever<sp/>else<sp/>will<sp/>be<sp/>expected</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//else<sp/>if(...)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="432"><highlight class="normal"></highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>We<sp/>should<sp/>only<sp/>get<sp/>to<sp/>unknown<sp/>systematic<sp/>if<sp/>there&apos;s<sp/>some</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>kind<sp/>of<sp/>logic<sp/>error<sp/>in<sp/>the<sp/>code.<sp/>E.g.,<sp/>maybe<sp/>we<sp/>were<sp/>supposed</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>to<sp/>be<sp/>applying<sp/>nominal<sp/>settings<sp/>in<sp/>this<sp/>case.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/>std::logic_error(</highlight><highlight class="stringliteral">&quot;Bad<sp/>syst<sp/>config&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="437"><highlight class="normal"></highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/>ATH_MSG_DEBUG(</highlight><highlight class="stringliteral">&quot;sigmaNP:<sp/><sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>sigmaNP<sp/>);</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/>ATH_MSG_DEBUG(</highlight><highlight class="stringliteral">&quot;Retrieved<sp/>systematic<sp/>jet<sp/>resolution<sp/>values:<sp/>MC<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>resMC<sp/>&lt;&lt;</highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>Systematic<sp/>Name<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>sys.<ref refid="dd/d2d/classCP_1_1SystematicVariation_1a29a6c407ced8513717e0855bede8f20d" kindref="member">basename</ref>()<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/>SysUp<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>resSys<sp/>&lt;&lt;</highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>SmearSigma<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>smearingSigma);</highlight></codeline>
<codeline lineno="442"><highlight class="normal"></highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="d5/dfc/classJERSmearingTool_1a051ac11d73327043dea2a29225989e70" kindref="member" tooltip="Calculate the random gaussian smear factor for a requested sigma.">getSmearingFactor</ref>(jet,<sp/>smearingSigma);</highlight></codeline>
<codeline lineno="444"><highlight class="normal">}</highlight></codeline>
<codeline lineno="445"><highlight class="normal"></highlight></codeline>
<codeline lineno="446"><highlight class="normal"></highlight><highlight class="comment">//-----------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="447"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Get<sp/>the<sp/>random<sp/>smearing<sp/>factor<sp/>for<sp/>a<sp/>given<sp/>sigma</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="448"><highlight class="normal"></highlight><highlight class="comment">//-----------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="449"><highlight class="normal"></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="d5/dfc/classJERSmearingTool_1a051ac11d73327043dea2a29225989e70" kindref="member" tooltip="Calculate the random gaussian smear factor for a requested sigma.">JERSmearingTool::getSmearingFactor</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="db/d9c/classxAOD_1_1Jet__v1" kindref="compound">xAOD::Jet</ref>*<sp/>jet,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>sigma)</highlight></codeline>
<codeline lineno="450"><highlight class="normal">{</highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>the<sp/>seed</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>seed<sp/>=<sp/>m_userSeed;</highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(seed<sp/>==<sp/>0)<sp/>seed<sp/>=<sp/>1.e+5*std::abs(jet-&gt;<ref refid="db/d9c/classxAOD_1_1Jet__v1_1ad0165d15a7cce38e232917a8cdd08603" kindref="member" tooltip="The azimuthal angle () of the particle.">phi</ref>());</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/>m_rand.SetSeed(seed);</highlight></codeline>
<codeline lineno="455"><highlight class="normal"></highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Calculate<sp/>the<sp/>smearing<sp/>factor</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>smear<sp/>=<sp/>m_rand.Gaus(1.0,<sp/>sigma);</highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(smear<sp/>&gt;<sp/>0)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>smear;</highlight></codeline>
<codeline lineno="459"><highlight class="normal"></highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>smear<sp/>factor<sp/>is<sp/>negative,<sp/>then<sp/>retry<sp/>the<sp/>calculation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>tries<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>maxTries<sp/>=<sp/>20;</highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(smear<sp/>&lt;=<sp/>0<sp/>&amp;&amp;<sp/>tries<sp/>&lt;=<sp/>maxTries){</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_DEBUG(</highlight><highlight class="stringliteral">&quot;Negative<sp/>smear<sp/>factor,<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>smear<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>after<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;</highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tries<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/>tries.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/>smear<sp/>=<sp/>m_rand.Gaus(1.0,<sp/>sigma);</highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/><sp/><sp/>tries++;</highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="469"><highlight class="normal"></highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>smear<sp/>factor<sp/>is<sp/>still<sp/>negative,<sp/>something<sp/>is<sp/>wrong.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(smear<sp/>&lt;=<sp/>0){</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_WARNING(</highlight><highlight class="stringliteral">&quot;Negative<sp/>smear<sp/>factor,<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>smear<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>after<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tries<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/>tries.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_WARNING(</highlight><highlight class="stringliteral">&quot;Please<sp/>contact<sp/>the<sp/>JER<sp/>tool<sp/>developers&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="476"><highlight class="normal"></highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>smear;</highlight></codeline>
<codeline lineno="478"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/JetResolution/Root/JERSmearingTool.cxx"/>
  </compounddef>
</doxygen>
