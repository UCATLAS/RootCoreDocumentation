<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.6.1">
  <compounddef id="dd/d4f/JetCalibrationTool_8cxx" kind="file">
    <compoundname>JetCalibrationTool.cxx</compoundname>
    <includes refid="db/def/JetCalibrationTool_8h" local="yes">JetCalibTools/JetCalibrationTool.h</includes>
    <includes refid="d3/d32/PathResolver_8h" local="yes">PathResolver/PathResolver.h</includes>
    <incdepgraph>
      <node id="148553">
        <label>list</label>
      </node>
      <node id="148562">
        <label>AthContainers/tools/DVL_algorithms.icc</label>
        <link refid="df/daa/DVL__algorithms_8icc"/>
        <childnode refid="148547" relation="include">
        </childnode>
        <childnode refid="148554" relation="include">
        </childnode>
        <childnode refid="148476" relation="include">
        </childnode>
        <childnode refid="148543" relation="include">
        </childnode>
        <childnode refid="148483" relation="include">
        </childnode>
      </node>
      <node id="148547">
        <label>AthContainers/tools/DVLNoBase.h</label>
        <link refid="d7/d92/DVLNoBase_8h"/>
      </node>
      <node id="148523">
        <label>boost/thread/mutex.hpp</label>
      </node>
      <node id="148569">
        <label>AthContainers/tools/DVLDataBucket.h</label>
        <link refid="d4/d16/DVLDataBucket_8h"/>
        <childnode refid="148570" relation="include">
        </childnode>
        <childnode refid="148548" relation="include">
        </childnode>
        <childnode refid="148490" relation="include">
        </childnode>
        <childnode refid="148571" relation="include">
        </childnode>
      </node>
      <node id="148525">
        <label>CxxUtils/unordered_map.h</label>
        <link refid="db/daa/unordered__map_8h"/>
        <childnode refid="148482" relation="include">
        </childnode>
        <childnode refid="148484" relation="include">
        </childnode>
        <childnode refid="148490" relation="include">
        </childnode>
        <childnode refid="148491" relation="include">
        </childnode>
      </node>
      <node id="148666">
        <label>JetCalibTools/CalibrationMethods/JMSCorrection.h</label>
        <link refid="df/d58/JMSCorrection_8h_source"/>
        <childnode refid="148460" relation="include">
        </childnode>
        <childnode refid="148656" relation="include">
        </childnode>
        <childnode refid="148664" relation="include">
        </childnode>
        <childnode refid="148653" relation="include">
        </childnode>
        <childnode refid="148612" relation="include">
        </childnode>
        <childnode refid="148643" relation="include">
        </childnode>
      </node>
      <node id="148463">
        <label>AsgTools/IAsgTool.h</label>
        <link refid="df/dd4/IAsgTool_8h_source"/>
        <childnode refid="148464" relation="include">
        </childnode>
        <childnode refid="148462" relation="include">
        </childnode>
        <childnode refid="148465" relation="include">
        </childnode>
        <childnode refid="148466" relation="include">
        </childnode>
      </node>
      <node id="148470">
        <label>xAODEventInfo/EventInfo.h</label>
        <link refid="d9/d60/EventInfo_8h_source"/>
        <childnode refid="148471" relation="include">
        </childnode>
        <childnode refid="148581" relation="include">
        </childnode>
      </node>
      <node id="148526">
        <label>AthContainers/AuxTypeRegistry.icc</label>
        <link refid="d8/df3/AuxTypeRegistry_8icc"/>
      </node>
      <node id="148493">
        <label>AthContainersInterfaces/IAuxStore.h</label>
        <link refid="d6/d3e/IAuxStore_8h"/>
        <childnode refid="148478" relation="include">
        </childnode>
        <childnode refid="148480" relation="include">
        </childnode>
        <childnode refid="148494" relation="include">
        </childnode>
        <childnode refid="148492" relation="include">
        </childnode>
      </node>
      <node id="148585">
        <label>EventPrimitives/EventPrimitives.h</label>
        <link refid="d1/d54/EventPrimitives_8h_source"/>
        <childnode refid="148586" relation="include">
        </childnode>
        <childnode refid="148587" relation="include">
        </childnode>
        <childnode refid="148588" relation="include">
        </childnode>
      </node>
      <node id="148489">
        <label>boost/type_traits/remove_const.hpp</label>
      </node>
      <node id="148491">
        <label>functional</label>
      </node>
      <node id="148544">
        <label>boost/version.hpp</label>
      </node>
      <node id="148488">
        <label>limits</label>
      </node>
      <node id="148642">
        <label>JetCalibTools/JetEventInfo.h</label>
        <link refid="de/d2d/JetEventInfo_8h_source"/>
      </node>
      <node id="148494">
        <label>SGTools/BaseInfo.h</label>
      </node>
      <node id="148633">
        <label>xAODBTagging/versions/BTaggingContainer_v1.h</label>
        <link refid="d9/d93/BTaggingContainer__v1_8h_source"/>
        <childnode refid="148538" relation="include">
        </childnode>
        <childnode refid="148621" relation="include">
        </childnode>
      </node>
      <node id="148521">
        <label>boost/thread/tss.hpp</label>
      </node>
      <node id="148466">
        <label>GaudiKernel/IAlgTool.h</label>
      </node>
      <node id="148485">
        <label>iterator</label>
      </node>
      <node id="148509">
        <label>AthContainersInterfaces/AuxDataOption.h</label>
        <link refid="d1/dc5/AuxDataOption_8h"/>
        <childnode refid="148464" relation="include">
        </childnode>
        <childnode refid="148510" relation="include">
        </childnode>
      </node>
      <node id="148665">
        <label>JetCalibTools/CalibrationMethods/InsituDataCorrection.h</label>
        <link refid="d4/d6b/InsituDataCorrection_8h_source"/>
        <childnode refid="148659" relation="include">
        </childnode>
        <childnode refid="148460" relation="include">
        </childnode>
        <childnode refid="148656" relation="include">
        </childnode>
        <childnode refid="148652" relation="include">
        </childnode>
        <childnode refid="148653" relation="include">
        </childnode>
        <childnode refid="148612" relation="include">
        </childnode>
        <childnode refid="148643" relation="include">
        </childnode>
      </node>
      <node id="148616">
        <label>xAODJet/Jet.h</label>
        <link refid="da/db7/Jet_8h_source"/>
        <childnode refid="148617" relation="include">
        </childnode>
        <childnode refid="148581" relation="include">
        </childnode>
      </node>
      <node id="148631">
        <label>xAODBTagging/versions/BTagVertex_v1.h</label>
        <link refid="d6/df4/BTagVertex__v1_8h_source"/>
        <childnode refid="148476" relation="include">
        </childnode>
        <childnode refid="148577" relation="include">
        </childnode>
        <childnode refid="148595" relation="include">
        </childnode>
        <childnode refid="148594" relation="include">
        </childnode>
        <childnode refid="148623" relation="include">
        </childnode>
        <childnode refid="148583" relation="include">
        </childnode>
        <childnode refid="148582" relation="include">
        </childnode>
        <childnode refid="148618" relation="include">
        </childnode>
        <childnode refid="148474" relation="include">
        </childnode>
        <childnode refid="148464" relation="include">
        </childnode>
        <childnode refid="148492" relation="include">
        </childnode>
      </node>
      <node id="148639">
        <label>xAODJet/versions/JetContainer_v1.h</label>
        <link refid="df/d28/JetContainer__v1_8h_source"/>
        <childnode refid="148538" relation="include">
        </childnode>
        <childnode refid="148617" relation="include">
        </childnode>
      </node>
      <node id="148568">
        <label>SGTools/ClassName.h</label>
      </node>
      <node id="148646">
        <label>PATInterfaces/CorrectionTool.h</label>
        <link refid="d5/d57/CorrectionTool_8h_source"/>
        <childnode refid="148613" relation="include">
        </childnode>
      </node>
      <node id="148574">
        <label>AthContainers/DataVector.icc</label>
        <link refid="da/de6/DataVector_8icc"/>
        <childnode refid="148575" relation="include">
        </childnode>
        <childnode refid="148542" relation="include">
        </childnode>
        <childnode refid="148488" relation="include">
        </childnode>
        <childnode refid="148491" relation="include">
        </childnode>
        <childnode refid="148576" relation="include">
        </childnode>
      </node>
      <node id="148533">
        <label>AthContainers/exceptions.h</label>
        <link refid="d4/d03/exceptions_8h"/>
        <childnode refid="148479" relation="include">
        </childnode>
        <childnode refid="148534" relation="include">
        </childnode>
        <childnode refid="148535" relation="include">
        </childnode>
        <childnode refid="148502" relation="include">
        </childnode>
        <childnode refid="148464" relation="include">
        </childnode>
      </node>
      <node id="148656">
        <label>TAxis.h</label>
      </node>
      <node id="148506">
        <label>AthContainers/tools/AuxDataTraits.h</label>
        <link refid="d3/d5a/AuxDataTraits_8h"/>
        <childnode refid="148474" relation="include">
        </childnode>
        <childnode refid="148486" relation="include">
        </childnode>
      </node>
      <node id="148472">
        <label>stdint.h</label>
      </node>
      <node id="148640">
        <label>JetInterface/IJetPseudojetRetriever.h</label>
        <link refid="db/dbd/IJetPseudojetRetriever_8h_source"/>
        <childnode refid="148464" relation="include">
        </childnode>
        <childnode refid="148474" relation="include">
        </childnode>
        <childnode refid="148463" relation="include">
        </childnode>
        <childnode refid="148615" relation="include">
        </childnode>
      </node>
      <node id="148554">
        <label>AthContainers/tools/DVLCast.h</label>
        <link refid="df/d5c/DVLCast_8h"/>
        <childnode refid="148488" relation="include">
        </childnode>
        <childnode refid="148555" relation="include">
        </childnode>
        <childnode refid="148502" relation="include">
        </childnode>
        <childnode refid="148486" relation="include">
        </childnode>
        <childnode refid="148480" relation="include">
        </childnode>
      </node>
      <node id="148540">
        <label>AthContainers/IndexTrackingPolicy.h</label>
        <link refid="d0/da5/IndexTrackingPolicy_8h"/>
      </node>
      <node id="148503">
        <label>AthContainersInterfaces/IAuxTypeVectorFactory.h</label>
        <link refid="d4/d2c/IAuxTypeVectorFactory_8h"/>
        <childnode refid="148480" relation="include">
        </childnode>
        <childnode refid="148502" relation="include">
        </childnode>
      </node>
      <node id="148590">
        <label>Eigen/Geometry</label>
      </node>
      <node id="148498">
        <label>RVersion.h</label>
      </node>
      <node id="148481">
        <label>CxxUtils/unordered_set.h</label>
        <link refid="df/d26/unordered__set_8h"/>
        <childnode refid="148482" relation="include">
        </childnode>
        <childnode refid="148490" relation="include">
        </childnode>
        <childnode refid="148491" relation="include">
        </childnode>
      </node>
      <node id="148673">
        <label>AthenaBaseComps/AthMsgStreamMacros.h</label>
      </node>
      <node id="148456">
        <label>/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/JetCalibTools/Root/JetCalibrationTool.cxx</label>
        <link refid="JetCalibrationTool.cxx"/>
        <childnode refid="148457" relation="include">
        </childnode>
        <childnode refid="148667" relation="include">
        </childnode>
      </node>
      <node id="148641">
        <label>JetInterface/ISingleJetModifier.h</label>
        <link refid="d9/d5c/ISingleJetModifier_8h_source"/>
        <childnode refid="148463" relation="include">
        </childnode>
        <childnode refid="148616" relation="include">
        </childnode>
      </node>
      <node id="148487">
        <label>cmath</label>
      </node>
      <node id="148537">
        <label>cassert</label>
      </node>
      <node id="148652">
        <label>TH1D.h</label>
      </node>
      <node id="148545">
        <label>boost/mpl/if.hpp</label>
      </node>
      <node id="148564">
        <label>boost/static_assert.hpp</label>
      </node>
      <node id="148535">
        <label>stdexcept</label>
      </node>
      <node id="148467">
        <label>AsgTools/MsgLevel.h</label>
        <link refid="de/d80/MsgLevel_8h"/>
        <childnode refid="148464" relation="include">
        </childnode>
        <childnode refid="148462" relation="include">
        </childnode>
        <childnode refid="148468" relation="include">
        </childnode>
      </node>
      <node id="148524">
        <label>boost/thread/thread.hpp</label>
      </node>
      <node id="148587">
        <label>Eigen/Core</label>
      </node>
      <node id="148551">
        <label>boost/type_traits/is_pointer.hpp</label>
      </node>
      <node id="148602">
        <label>xAODTracking/VertexContainerFwd.h</label>
        <link refid="d0/dc4/VertexContainerFwd_8h_source"/>
        <childnode refid="148538" relation="include">
        </childnode>
        <childnode refid="148603" relation="include">
        </childnode>
      </node>
      <node id="148593">
        <label>xAODTracking/TrackParticleContainerFwd.h</label>
        <link refid="de/dea/TrackParticleContainerFwd_8h_source"/>
        <childnode refid="148538" relation="include">
        </childnode>
        <childnode refid="148594" relation="include">
        </childnode>
        <childnode refid="148598" relation="include">
        </childnode>
      </node>
      <node id="148559">
        <label>boost/iterator/iterator_adaptor.hpp</label>
      </node>
      <node id="148596">
        <label>TLorentzVector.h</label>
      </node>
      <node id="148462">
        <label>AsgTools/AsgToolsConf.h</label>
        <link refid="df/db7/AsgToolsConf_8h_source"/>
      </node>
      <node id="148464">
        <label>string</label>
      </node>
      <node id="148527">
        <label>AthContainers/AuxVectorData.h</label>
        <link refid="d9/df2/AuxVectorData_8h"/>
        <childnode refid="148479" relation="include">
        </childnode>
        <childnode refid="148478" relation="include">
        </childnode>
        <childnode refid="148509" relation="include">
        </childnode>
        <childnode refid="148506" relation="include">
        </childnode>
        <childnode refid="148495" relation="include">
        </childnode>
        <childnode refid="148528" relation="include">
        </childnode>
        <childnode refid="148529" relation="include">
        </childnode>
        <childnode refid="148512" relation="include">
        </childnode>
        <childnode refid="148474" relation="include">
        </childnode>
        <childnode refid="148484" relation="include">
        </childnode>
        <childnode refid="148486" relation="include">
        </childnode>
        <childnode refid="148530" relation="include">
        </childnode>
        <childnode refid="148531" relation="include">
        </childnode>
        <childnode refid="148519" relation="include">
        </childnode>
        <childnode refid="148532" relation="include">
        </childnode>
      </node>
      <node id="148501">
        <label>AthContainersInterfaces/IAuxTypeVector.h</label>
        <link refid="d8/d0e/IAuxTypeVector_8h"/>
        <childnode refid="148480" relation="include">
        </childnode>
        <childnode refid="148502" relation="include">
        </childnode>
      </node>
      <node id="148625">
        <label>versions/TrackParticle_v1.h</label>
        <link refid="d2/d7f/TrackParticle__v1_8h_source"/>
        <childnode refid="148604" relation="include">
        </childnode>
        <childnode refid="148472" relation="include">
        </childnode>
        <childnode refid="148577" relation="include">
        </childnode>
        <childnode refid="148538" relation="include">
        </childnode>
        <childnode refid="148595" relation="include">
        </childnode>
        <childnode refid="148592" relation="include">
        </childnode>
        <childnode refid="148602" relation="include">
        </childnode>
        <childnode refid="148626" relation="include">
        </childnode>
        <childnode refid="148627" relation="include">
        </childnode>
      </node>
      <node id="148530">
        <label>AthContainers/tools/likely.h</label>
        <link refid="d6/dd6/likely_8h"/>
      </node>
      <node id="148621">
        <label>xAODBTagging/versions/BTagging_v1.h</label>
        <link refid="dc/da1/BTagging__v1_8h_source"/>
        <childnode refid="148476" relation="include">
        </childnode>
        <childnode refid="148577" relation="include">
        </childnode>
        <childnode refid="148622" relation="include">
        </childnode>
        <childnode refid="148623" relation="include">
        </childnode>
        <childnode refid="148582" relation="include">
        </childnode>
        <childnode refid="148629" relation="include">
        </childnode>
        <childnode refid="148618" relation="include">
        </childnode>
        <childnode refid="148474" relation="include">
        </childnode>
        <childnode refid="148464" relation="include">
        </childnode>
        <childnode refid="148566" relation="include">
        </childnode>
        <childnode refid="148492" relation="include">
        </childnode>
      </node>
      <node id="148617">
        <label>xAODJet/versions/Jet_v1.h</label>
        <link refid="df/d71/Jet__v1_8h_source"/>
        <childnode refid="148618" relation="include">
        </childnode>
        <childnode refid="148577" relation="include">
        </childnode>
        <childnode refid="148595" relation="include">
        </childnode>
        <childnode refid="148594" relation="include">
        </childnode>
        <childnode refid="148619" relation="include">
        </childnode>
        <childnode refid="148634" relation="include">
        </childnode>
        <childnode refid="148637" relation="include">
        </childnode>
        <childnode refid="148635" relation="include">
        </childnode>
        <childnode refid="148638" relation="include">
        </childnode>
      </node>
      <node id="148653">
        <label>TH2D.h</label>
      </node>
      <node id="148556">
        <label>AthContainers/tools/DVLIterator.h</label>
        <link refid="d3/dc7/DVLIterator_8h_source"/>
        <childnode refid="148539" relation="include">
        </childnode>
        <childnode refid="148554" relation="include">
        </childnode>
        <childnode refid="148557" relation="include">
        </childnode>
        <childnode refid="148559" relation="include">
        </childnode>
        <childnode refid="148544" relation="include">
        </childnode>
        <childnode refid="148485" relation="include">
        </childnode>
        <childnode refid="148486" relation="include">
        </childnode>
      </node>
      <node id="148570">
        <label>SGTools/DataBucket.h</label>
      </node>
      <node id="148618">
        <label>map</label>
      </node>
      <node id="148571">
        <label>AthContainers/tools/DVLDataBucket.icc</label>
        <link refid="d3/d21/DVLDataBucket_8icc"/>
        <childnode refid="148572" relation="include">
        </childnode>
      </node>
      <node id="148572">
        <label>SGTools/IRegisterTransient.h</label>
      </node>
      <node id="148499">
        <label>RootMetaSelection.h</label>
      </node>
      <node id="148516">
        <label>AthContainers/tools/AuxTypeVector.icc</label>
        <link refid="d5/d84/AuxTypeVector_8icc"/>
      </node>
      <node id="148457">
        <label>JetCalibTools/JetCalibrationTool.h</label>
        <link refid="db/def/JetCalibrationTool_8h_source"/>
        <childnode refid="148458" relation="include">
        </childnode>
        <childnode refid="148459" relation="include">
        </childnode>
        <childnode refid="148460" relation="include">
        </childnode>
        <childnode refid="148461" relation="include">
        </childnode>
        <childnode refid="148470" relation="include">
        </childnode>
        <childnode refid="148582" relation="include">
        </childnode>
        <childnode refid="148610" relation="include">
        </childnode>
        <childnode refid="148612" relation="include">
        </childnode>
        <childnode refid="148643" relation="include">
        </childnode>
        <childnode refid="148654" relation="include">
        </childnode>
        <childnode refid="148655" relation="include">
        </childnode>
        <childnode refid="148662" relation="include">
        </childnode>
        <childnode refid="148663" relation="include">
        </childnode>
        <childnode refid="148665" relation="include">
        </childnode>
        <childnode refid="148666" relation="include">
        </childnode>
      </node>
      <node id="148591">
        <label>VxVertex/VxTrackAtVertex.h</label>
      </node>
      <node id="148561">
        <label>AthContainers/tools/DVL_algorithms.h</label>
        <link refid="d0/d7a/DVL__algorithms_8h"/>
        <childnode refid="148556" relation="include">
        </childnode>
        <childnode refid="148485" relation="include">
        </childnode>
        <childnode refid="148483" relation="include">
        </childnode>
        <childnode refid="148562" relation="include">
        </childnode>
      </node>
      <node id="148651">
        <label>TObjString.h</label>
      </node>
      <node id="148658">
        <label>fstream</label>
      </node>
      <node id="148531">
        <label>AthContainers/tools/assume.h</label>
        <link refid="d2/d20/assume_8h"/>
      </node>
      <node id="148636">
        <label>Math/Vector4D.h</label>
      </node>
      <node id="148513">
        <label>AthContainers/PackedContainer.icc</label>
        <link refid="d1/d0c/PackedContainer_8icc"/>
      </node>
      <node id="148582">
        <label>xAODTracking/VertexContainer.h</label>
        <link refid="d6/dd8/VertexContainer_8h_source"/>
        <childnode refid="148583" relation="include">
        </childnode>
        <childnode refid="148609" relation="include">
        </childnode>
        <childnode refid="148581" relation="include">
        </childnode>
      </node>
      <node id="148557">
        <label>AthContainers/tools/ElementProxy.h</label>
        <link refid="db/d26/ElementProxy_8h"/>
        <childnode refid="148539" relation="include">
        </childnode>
        <childnode refid="148497" relation="include">
        </childnode>
        <childnode refid="148490" relation="include">
        </childnode>
        <childnode refid="148558" relation="include">
        </childnode>
      </node>
      <node id="148477">
        <label>AthContainersInterfaces/IAuxElement.h</label>
        <link refid="dd/d7a/IAuxElement_8h"/>
      </node>
      <node id="148468">
        <label>GaudiKernel/IMessageSvc.h</label>
      </node>
      <node id="148497">
        <label>AthLinks/tools/selection_ns.h</label>
        <link refid="d3/dec/selection__ns_8h"/>
        <childnode refid="148498" relation="include">
        </childnode>
        <childnode refid="148499" relation="include">
        </childnode>
      </node>
      <node id="148529">
        <label>AthenaKernel/IThinningSvc.h</label>
      </node>
      <node id="148522">
        <label>boost/atomic.hpp</label>
      </node>
      <node id="148598">
        <label>xAODTracking/TrackParticleFwd.h</label>
        <link refid="d1/dc4/TrackParticleFwd_8h_source"/>
      </node>
      <node id="148622">
        <label>xAODBTagging/BTaggingEnums.h</label>
        <link refid="dd/de5/BTaggingEnums_8h_source"/>
      </node>
      <node id="148555">
        <label>limits.h</label>
      </node>
      <node id="148549">
        <label>AthContainers/tools/ClassID.h</label>
        <link refid="de/de2/ClassID_8h"/>
        <childnode refid="148550" relation="include">
        </childnode>
      </node>
      <node id="148609">
        <label>xAODTracking/versions/VertexContainer_v1.h</label>
        <link refid="d2/dda/VertexContainer__v1_8h_source"/>
        <childnode refid="148538" relation="include">
        </childnode>
        <childnode refid="148584" relation="include">
        </childnode>
      </node>
      <node id="148662">
        <label>JetCalibTools/CalibrationMethods/EtaJESCorrection.h</label>
        <link refid="d4/d06/EtaJESCorrection_8h_source"/>
        <childnode refid="148460" relation="include">
        </childnode>
        <childnode refid="148656" relation="include">
        </childnode>
        <childnode refid="148612" relation="include">
        </childnode>
        <childnode refid="148643" relation="include">
        </childnode>
      </node>
      <node id="148508">
        <label>AthContainers/PackedParameters.h</label>
        <link refid="d4/d43/PackedParameters_8h"/>
        <childnode refid="148509" relation="include">
        </childnode>
        <childnode refid="148488" relation="include">
        </childnode>
        <childnode refid="148472" relation="include">
        </childnode>
        <childnode refid="148511" relation="include">
        </childnode>
      </node>
      <node id="148645">
        <label>GaudiKernel/ToolHandle.h</label>
      </node>
      <node id="148479">
        <label>AthContainersInterfaces/AuxTypes.h</label>
        <link refid="d1/dea/AuxTypes_8h"/>
        <childnode refid="148480" relation="include">
        </childnode>
        <childnode refid="148481" relation="include">
        </childnode>
      </node>
      <node id="148578">
        <label>AthLinks/ElementLinkBase.h</label>
        <link refid="d0/d16/ElementLinkBase_8h_source"/>
        <childnode refid="148472" relation="include">
        </childnode>
      </node>
      <node id="148588">
        <label>Eigen/Dense</label>
      </node>
      <node id="148482">
        <label>CxxUtils/hashtable.h</label>
        <link refid="dd/d16/hashtable_8h"/>
        <childnode refid="148483" relation="include">
        </childnode>
        <childnode refid="148484" relation="include">
        </childnode>
        <childnode refid="148485" relation="include">
        </childnode>
        <childnode refid="148480" relation="include">
        </childnode>
        <childnode refid="148486" relation="include">
        </childnode>
        <childnode refid="148487" relation="include">
        </childnode>
        <childnode refid="148488" relation="include">
        </childnode>
        <childnode refid="148464" relation="include">
        </childnode>
        <childnode refid="148489" relation="include">
        </childnode>
      </node>
      <node id="148542">
        <label>AthContainers/tools/ATHCONTAINERS_ASSERT.h</label>
        <link refid="de/d6b/ATHCONTAINERS__ASSERT_8h"/>
        <childnode refid="148537" relation="include">
        </childnode>
      </node>
      <node id="148595">
        <label>xAODBase/IParticle.h</label>
        <link refid="d5/dac/IParticle_8h_source"/>
        <childnode refid="148596" relation="include">
        </childnode>
        <childnode refid="148476" relation="include">
        </childnode>
        <childnode refid="148597" relation="include">
        </childnode>
        <childnode refid="148494" relation="include">
        </childnode>
      </node>
      <node id="148597">
        <label>ObjectType.h</label>
        <link refid="d8/d04/ObjectType_8h_source"/>
        <childnode refid="148475" relation="include">
        </childnode>
      </node>
      <node id="148659">
        <label>TROOT.h</label>
      </node>
      <node id="148471">
        <label>xAODEventInfo/versions/EventInfo_v1.h</label>
        <link refid="d4/da0/EventInfo__v1_8h_source"/>
        <childnode refid="148472" relation="include">
        </childnode>
        <childnode refid="148473" relation="include">
        </childnode>
        <childnode refid="148474" relation="include">
        </childnode>
        <childnode refid="148464" relation="include">
        </childnode>
        <childnode refid="148475" relation="include">
        </childnode>
        <childnode refid="148476" relation="include">
        </childnode>
        <childnode refid="148538" relation="include">
        </childnode>
        <childnode refid="148577" relation="include">
        </childnode>
        <childnode refid="148580" relation="include">
        </childnode>
      </node>
      <node id="148637">
        <label>xAODJet/JetAttributes.h</label>
        <link refid="d3/df8/JetAttributes_8h"/>
      </node>
      <node id="148613">
        <label>PATInterfaces/CorrectionCode.h</label>
        <link refid="d8/dab/CorrectionCode_8h_source"/>
      </node>
      <node id="148558">
        <label>AthContainers/tools/ElementProxy.icc</label>
        <link refid="d6/d70/ElementProxy_8icc"/>
        <childnode refid="148554" relation="include">
        </childnode>
        <childnode refid="148542" relation="include">
        </childnode>
      </node>
      <node id="148458">
        <label>string.h</label>
      </node>
      <node id="148502">
        <label>typeinfo</label>
      </node>
      <node id="148592">
        <label>xAODTracking/TrackingPrimitives.h</label>
        <link refid="d2/d4c/TrackingPrimitives_8h_source"/>
        <childnode refid="148585" relation="include">
        </childnode>
      </node>
      <node id="148536">
        <label>AthContainers/AuxElement.icc</label>
        <link refid="d2/d37/AuxElement_8icc"/>
        <childnode refid="148530" relation="include">
        </childnode>
        <childnode refid="148537" relation="include">
        </childnode>
      </node>
      <node id="148538">
        <label>AthContainers/DataVector.h</label>
        <link refid="d7/dd6/DataVector_8h"/>
        <childnode refid="148533" relation="include">
        </childnode>
        <childnode refid="148539" relation="include">
        </childnode>
        <childnode refid="148540" relation="include">
        </childnode>
        <childnode refid="148541" relation="include">
        </childnode>
        <childnode refid="148547" relation="include">
        </childnode>
        <childnode refid="148548" relation="include">
        </childnode>
        <childnode refid="148554" relation="include">
        </childnode>
        <childnode refid="148556" relation="include">
        </childnode>
        <childnode refid="148560" relation="include">
        </childnode>
        <childnode refid="148561" relation="include">
        </childnode>
        <childnode refid="148557" relation="include">
        </childnode>
        <childnode refid="148563" relation="include">
        </childnode>
        <childnode refid="148497" relation="include">
        </childnode>
        <childnode refid="148564" relation="include">
        </childnode>
        <childnode refid="148565" relation="include">
        </childnode>
        <childnode refid="148559" relation="include">
        </childnode>
        <childnode refid="148474" relation="include">
        </childnode>
        <childnode refid="148502" relation="include">
        </childnode>
        <childnode refid="148491" relation="include">
        </childnode>
        <childnode refid="148566" relation="include">
        </childnode>
        <childnode refid="148483" relation="include">
        </childnode>
        <childnode refid="148535" relation="include">
        </childnode>
        <childnode refid="148485" relation="include">
        </childnode>
        <childnode refid="148494" relation="include">
        </childnode>
        <childnode refid="148567" relation="include">
        </childnode>
        <childnode refid="148569" relation="include">
        </childnode>
        <childnode refid="148573" relation="include">
        </childnode>
        <childnode refid="148574" relation="include">
        </childnode>
      </node>
      <node id="148600">
        <label>xAODTracking/NeutralParticle.h</label>
        <link refid="d4/daa/NeutralParticle_8h_source"/>
        <childnode refid="148601" relation="include">
        </childnode>
        <childnode refid="148581" relation="include">
        </childnode>
      </node>
      <node id="148604">
        <label>bitset</label>
      </node>
      <node id="148511">
        <label>AthContainers/PackedParameters.icc</label>
        <link refid="db/d30/PackedParameters_8icc"/>
      </node>
      <node id="148579">
        <label>AthLinks/tools/TypeTools.h</label>
        <link refid="dd/db1/TypeTools_8h_source"/>
      </node>
      <node id="148528">
        <label>AthenaKernel/ILockable.h</label>
      </node>
      <node id="148672">
        <label>AsgTools/MsgStreamMacros.h</label>
        <link refid="d3/ded/AsgTools_2AsgTools_2MsgStreamMacros_8h_source"/>
        <childnode refid="148462" relation="include">
        </childnode>
        <childnode refid="148467" relation="include">
        </childnode>
        <childnode refid="148673" relation="include">
        </childnode>
      </node>
      <node id="148496">
        <label>AthLinks/DataLinkBase.h</label>
        <link refid="db/da8/DataLinkBase_8h_source"/>
        <childnode refid="148472" relation="include">
        </childnode>
      </node>
      <node id="148584">
        <label>xAODTracking/versions/Vertex_v1.h</label>
        <link refid="d7/dcc/Vertex__v1_8h_source"/>
        <childnode refid="148474" relation="include">
        </childnode>
        <childnode refid="148476" relation="include">
        </childnode>
        <childnode refid="148577" relation="include">
        </childnode>
        <childnode refid="148585" relation="include">
        </childnode>
        <childnode refid="148589" relation="include">
        </childnode>
        <childnode refid="148591" relation="include">
        </childnode>
        <childnode refid="148592" relation="include">
        </childnode>
        <childnode refid="148593" relation="include">
        </childnode>
        <childnode refid="148599" relation="include">
        </childnode>
        <childnode refid="148597" relation="include">
        </childnode>
        <childnode refid="148580" relation="include">
        </childnode>
      </node>
      <node id="148510">
        <label>AthContainersInterfaces/AuxDataOption.icc</label>
        <link refid="db/d68/AuxDataOption_8icc"/>
      </node>
      <node id="148515">
        <label>boost/type_traits/is_arithmetic.hpp</label>
      </node>
      <node id="148614">
        <label>JetInterface/IJetModifier.h</label>
        <link refid="de/df5/IJetModifier_8h_source"/>
        <childnode refid="148463" relation="include">
        </childnode>
        <childnode refid="148615" relation="include">
        </childnode>
        <childnode refid="148640" relation="include">
        </childnode>
      </node>
      <node id="148548">
        <label>AthContainers/tools/DVLInfo.h</label>
        <link refid="d3/d2e/DVLInfo_8h"/>
        <childnode refid="148549" relation="include">
        </childnode>
        <childnode refid="148541" relation="include">
        </childnode>
        <childnode refid="148502" relation="include">
        </childnode>
        <childnode refid="148480" relation="include">
        </childnode>
        <childnode refid="148489" relation="include">
        </childnode>
        <childnode refid="148551" relation="include">
        </childnode>
        <childnode refid="148514" relation="include">
        </childnode>
        <childnode refid="148552" relation="include">
        </childnode>
      </node>
      <node id="148492">
        <label>SGTools/CLASS_DEF.h</label>
      </node>
      <node id="148586">
        <label>unistd.h</label>
      </node>
      <node id="148567">
        <label>AthContainers/ClassName.h</label>
        <link refid="dd/d6b/AthContainers_2AthContainers_2ClassName_8h_source"/>
        <childnode refid="148568" relation="include">
        </childnode>
      </node>
      <node id="148500">
        <label>AthContainers/AuxTypeRegistry.h</label>
        <link refid="db/d7f/AuxTypeRegistry_8h"/>
        <childnode refid="148479" relation="include">
        </childnode>
        <childnode refid="148501" relation="include">
        </childnode>
        <childnode refid="148503" relation="include">
        </childnode>
        <childnode refid="148504" relation="include">
        </childnode>
        <childnode refid="148517" relation="include">
        </childnode>
        <childnode refid="148519" relation="include">
        </childnode>
        <childnode refid="148480" relation="include">
        </childnode>
        <childnode refid="148502" relation="include">
        </childnode>
        <childnode refid="148474" relation="include">
        </childnode>
        <childnode refid="148525" relation="include">
        </childnode>
        <childnode refid="148526" relation="include">
        </childnode>
      </node>
      <node id="148647">
        <label>TSystem.h</label>
      </node>
      <node id="148474">
        <label>vector</label>
      </node>
      <node id="148594">
        <label>xAODBase/IParticleContainer.h</label>
        <link refid="dd/d2d/IParticleContainer_8h_source"/>
        <childnode refid="148538" relation="include">
        </childnode>
        <childnode refid="148595" relation="include">
        </childnode>
        <childnode refid="148492" relation="include">
        </childnode>
      </node>
      <node id="148575">
        <label>AthContainers/tools/CompareAndPrint.h</label>
        <link refid="d5/da8/CompareAndPrint_8h_source"/>
        <childnode refid="148483" relation="include">
        </childnode>
        <childnode refid="148502" relation="include">
        </childnode>
      </node>
      <node id="148649">
        <label>TFile.h</label>
      </node>
      <node id="148611">
        <label>xAODEventShape/versions/EventShape_v1.h</label>
        <link refid="d0/d2b/EventShape__v1_8h_source"/>
        <childnode refid="148476" relation="include">
        </childnode>
        <childnode refid="148580" relation="include">
        </childnode>
      </node>
      <node id="148583">
        <label>xAODTracking/Vertex.h</label>
        <link refid="d9/d2d/Vertex_8h_source"/>
        <childnode refid="148584" relation="include">
        </childnode>
      </node>
      <node id="148606">
        <label>xAODTracking/versions/NeutralParticleContainer_v1.h</label>
        <link refid="d6/d5f/NeutralParticleContainer__v1_8h_source"/>
        <childnode refid="148472" relation="include">
        </childnode>
        <childnode refid="148538" relation="include">
        </childnode>
        <childnode refid="148601" relation="include">
        </childnode>
        <childnode refid="148607" relation="include">
        </childnode>
      </node>
      <node id="148638">
        <label>xAODJet/JetContainerInfo.h</label>
        <link refid="d8/d2a/JetContainerInfo_8h_source"/>
        <childnode refid="148464" relation="include">
        </childnode>
      </node>
      <node id="148576">
        <label>AthContainers/tools/DVLEltBaseInfo.icc</label>
        <link refid="dd/d5e/DVLEltBaseInfo_8icc"/>
      </node>
      <node id="148619">
        <label>xAODBTagging/BTaggingContainer.h</label>
        <link refid="d8/d3b/BTaggingContainer_8h_source"/>
        <childnode refid="148620" relation="include">
        </childnode>
        <childnode refid="148633" relation="include">
        </childnode>
        <childnode refid="148581" relation="include">
        </childnode>
      </node>
      <node id="148484">
        <label>utility</label>
      </node>
      <node id="148573">
        <label>SGTools/DataBucketTraitFwd.h</label>
      </node>
      <node id="148512">
        <label>CxxUtils/override.h</label>
        <link refid="de/d0e/override_8h"/>
      </node>
      <node id="148670">
        <label>sstream</label>
      </node>
      <node id="148610">
        <label>xAODEventShape/EventShape.h</label>
        <link refid="d3/df7/EventShape_8h_source"/>
        <childnode refid="148611" relation="include">
        </childnode>
        <childnode refid="148581" relation="include">
        </childnode>
      </node>
      <node id="148589">
        <label>GeoPrimitives/GeoPrimitives.h</label>
        <link refid="d7/d87/GeoPrimitives_8h_source"/>
        <childnode refid="148586" relation="include">
        </childnode>
        <childnode refid="148590" relation="include">
        </childnode>
      </node>
      <node id="148603">
        <label>xAODTracking/VertexFwd.h</label>
        <link refid="d9/ddd/VertexFwd_8h_source"/>
      </node>
      <node id="148546">
        <label>AthContainers/AuxVectorBase.icc</label>
        <link refid="d4/d50/AuxVectorBase_8icc"/>
      </node>
      <node id="148520">
        <label>boost/thread/shared_mutex.hpp</label>
      </node>
      <node id="148630">
        <label>xAODBTagging/BTagVertex.h</label>
        <link refid="d4/d51/BTagVertex_8h_source"/>
        <childnode refid="148631" relation="include">
        </childnode>
      </node>
      <node id="148460">
        <label>TEnv.h</label>
      </node>
      <node id="148505">
        <label>AthContainersInterfaces/IAuxSetOption.h</label>
        <link refid="d7/d7e/IAuxSetOption_8h"/>
      </node>
      <node id="148519">
        <label>AthContainers/tools/threading.h</label>
        <link refid="d7/d22/threading_8h"/>
        <childnode refid="148520" relation="include">
        </childnode>
        <childnode refid="148521" relation="include">
        </childnode>
        <childnode refid="148522" relation="include">
        </childnode>
        <childnode refid="148523" relation="include">
        </childnode>
        <childnode refid="148524" relation="include">
        </childnode>
      </node>
      <node id="148657">
        <label>JetCalibTools/CalibrationMethods/NPVBeamspotCorrection.h</label>
        <link refid="d1/df0/NPVBeamspotCorrection_8h_source"/>
        <childnode refid="148566" relation="include">
        </childnode>
        <childnode refid="148658" relation="include">
        </childnode>
        <childnode refid="148659" relation="include">
        </childnode>
        <childnode refid="148649" relation="include">
        </childnode>
        <childnode refid="148660" relation="include">
        </childnode>
        <childnode refid="148661" relation="include">
        </childnode>
        <childnode refid="148474" relation="include">
        </childnode>
      </node>
      <node id="148475">
        <label>iosfwd</label>
      </node>
      <node id="148486">
        <label>cstdlib</label>
      </node>
      <node id="148624">
        <label>xAODTracking/TrackParticle.h</label>
        <link refid="d2/d15/TrackParticle_8h_source"/>
        <childnode refid="148625" relation="include">
        </childnode>
        <childnode refid="148581" relation="include">
        </childnode>
      </node>
      <node id="148566">
        <label>iostream</label>
      </node>
      <node id="148534">
        <label>CxxUtils/noreturn.h</label>
        <link refid="de/d6f/noreturn_8h"/>
      </node>
      <node id="148644">
        <label>AsgTools/ToolHandle.h</label>
        <link refid="de/d2d/ToolHandle_8h_source"/>
        <childnode refid="148462" relation="include">
        </childnode>
        <childnode refid="148645" relation="include">
        </childnode>
      </node>
      <node id="148628">
        <label>xAODTracking/versions/TrackParticleContainer_v1.h</label>
        <link refid="d7/d3b/TrackParticleContainer__v1_8h_source"/>
        <childnode refid="148472" relation="include">
        </childnode>
        <childnode refid="148538" relation="include">
        </childnode>
        <childnode refid="148625" relation="include">
        </childnode>
        <childnode refid="148593" relation="include">
        </childnode>
      </node>
      <node id="148478">
        <label>AthContainersInterfaces/IConstAuxStore.h</label>
        <link refid="d7/d3a/IConstAuxStore_8h"/>
        <childnode refid="148479" relation="include">
        </childnode>
        <childnode refid="148480" relation="include">
        </childnode>
        <childnode refid="148492" relation="include">
        </childnode>
      </node>
      <node id="148480">
        <label>cstddef</label>
      </node>
      <node id="148663">
        <label>JetCalibTools/CalibrationMethods/GlobalSequentialCorrection.h</label>
        <link refid="d3/de7/GlobalSequentialCorrection_8h_source"/>
        <childnode refid="148460" relation="include">
        </childnode>
        <childnode refid="148656" relation="include">
        </childnode>
        <childnode refid="148664" relation="include">
        </childnode>
        <childnode refid="148612" relation="include">
        </childnode>
        <childnode refid="148643" relation="include">
        </childnode>
      </node>
      <node id="148671">
        <label>GaudiKernel/MsgStream.h</label>
      </node>
      <node id="148669">
        <label>AsgTools/MsgStream.h</label>
        <link refid="d3/d95/AsgTools_2AsgTools_2MsgStream_8h_source"/>
        <childnode refid="148464" relation="include">
        </childnode>
        <childnode refid="148670" relation="include">
        </childnode>
        <childnode refid="148462" relation="include">
        </childnode>
        <childnode refid="148467" relation="include">
        </childnode>
        <childnode refid="148463" relation="include">
        </childnode>
        <childnode refid="148671" relation="include">
        </childnode>
      </node>
      <node id="148532">
        <label>AthContainers/AuxVectorData.icc</label>
        <link refid="da/de7/AuxVectorData_8icc"/>
        <childnode refid="148500" relation="include">
        </childnode>
        <childnode refid="148493" relation="include">
        </childnode>
        <childnode refid="148478" relation="include">
        </childnode>
        <childnode refid="148530" relation="include">
        </childnode>
        <childnode refid="148531" relation="include">
        </childnode>
      </node>
      <node id="148465">
        <label>AsgTools/AsgToolMacros.h</label>
        <link refid="d1/d68/AsgToolMacros_8h_source"/>
      </node>
      <node id="148580">
        <label>xAODCore/BaseInfo.h</label>
        <link refid="d3/d17/BaseInfo_8h_source"/>
        <childnode refid="148494" relation="include">
        </childnode>
      </node>
      <node id="148459">
        <label>TString.h</label>
      </node>
      <node id="148664">
        <label>TH2F.h</label>
      </node>
      <node id="148660">
        <label>TMath.h</label>
      </node>
      <node id="148620">
        <label>xAODBTagging/BTagging.h</label>
        <link refid="d2/d81/BTagging_8h_source"/>
        <childnode refid="148621" relation="include">
        </childnode>
      </node>
      <node id="148635">
        <label>xAODJet/JetTypes.h</label>
        <link refid="d6/d2a/JetTypes_8h_source"/>
        <childnode refid="148636" relation="include">
        </childnode>
      </node>
      <node id="148643">
        <label>JetCalibTools/JetCalibrationToolBase.h</label>
        <link refid="da/dee/JetCalibrationToolBase_8h_source"/>
        <childnode refid="148644" relation="include">
        </childnode>
        <childnode refid="148461" relation="include">
        </childnode>
        <childnode refid="148646" relation="include">
        </childnode>
        <childnode refid="148615" relation="include">
        </childnode>
        <childnode refid="148647" relation="include">
        </childnode>
        <childnode refid="148460" relation="include">
        </childnode>
        <childnode refid="148596" relation="include">
        </childnode>
        <childnode refid="148614" relation="include">
        </childnode>
        <childnode refid="148641" relation="include">
        </childnode>
        <childnode refid="148612" relation="include">
        </childnode>
        <childnode refid="148648" relation="include">
        </childnode>
      </node>
      <node id="148634">
        <label>xAODJet/JetConstituentVector.h</label>
        <link refid="de/dd4/JetConstituentVector_8h_source"/>
        <childnode refid="148577" relation="include">
        </childnode>
        <childnode refid="148595" relation="include">
        </childnode>
        <childnode refid="148594" relation="include">
        </childnode>
        <childnode refid="148635" relation="include">
        </childnode>
      </node>
      <node id="148605">
        <label>TrkNeutralParameters/NeutralParameters.h</label>
      </node>
      <node id="148552">
        <label>AthContainers/tools/DVLInfo.icc</label>
        <link refid="da/d83/DVLInfo_8icc"/>
        <childnode refid="148539" relation="include">
        </childnode>
        <childnode refid="148474" relation="include">
        </childnode>
        <childnode refid="148553" relation="include">
        </childnode>
        <childnode refid="148537" relation="include">
        </childnode>
        <childnode refid="148486" relation="include">
        </childnode>
        <childnode refid="148494" relation="include">
        </childnode>
      </node>
      <node id="148504">
        <label>AthContainers/tools/AuxTypeVector.h</label>
        <link refid="d6/dd2/AuxTypeVector_8h"/>
        <childnode refid="148501" relation="include">
        </childnode>
        <childnode refid="148505" relation="include">
        </childnode>
        <childnode refid="148506" relation="include">
        </childnode>
        <childnode refid="148507" relation="include">
        </childnode>
        <childnode refid="148512" relation="include">
        </childnode>
        <childnode refid="148502" relation="include">
        </childnode>
        <childnode refid="148474" relation="include">
        </childnode>
        <childnode refid="148483" relation="include">
        </childnode>
        <childnode refid="148472" relation="include">
        </childnode>
        <childnode refid="148514" relation="include">
        </childnode>
        <childnode refid="148515" relation="include">
        </childnode>
        <childnode refid="148516" relation="include">
        </childnode>
      </node>
      <node id="148626">
        <label>TrkParameters/TrackParameters.h</label>
      </node>
      <node id="148615">
        <label>xAODJet/JetContainer.h</label>
        <link refid="d5/d55/JetContainer_8h_source"/>
        <childnode refid="148616" relation="include">
        </childnode>
        <childnode refid="148639" relation="include">
        </childnode>
        <childnode refid="148581" relation="include">
        </childnode>
      </node>
      <node id="148667">
        <label>PathResolver/PathResolver.h</label>
        <link refid="d3/d32/PathResolver_8h_source"/>
        <childnode refid="148668" relation="include">
        </childnode>
        <childnode refid="148464" relation="include">
        </childnode>
      </node>
      <node id="148601">
        <label>versions/NeutralParticle_v1.h</label>
        <link refid="da/d85/NeutralParticle__v1_8h_source"/>
        <childnode refid="148577" relation="include">
        </childnode>
        <childnode refid="148538" relation="include">
        </childnode>
        <childnode refid="148595" relation="include">
        </childnode>
        <childnode refid="148592" relation="include">
        </childnode>
        <childnode refid="148602" relation="include">
        </childnode>
        <childnode refid="148604" relation="include">
        </childnode>
        <childnode refid="148472" relation="include">
        </childnode>
        <childnode refid="148605" relation="include">
        </childnode>
      </node>
      <node id="148668">
        <label>AsgTools/AsgMessaging.h</label>
        <link refid="d3/d61/AsgMessaging_8h_source"/>
        <childnode refid="148464" relation="include">
        </childnode>
        <childnode refid="148462" relation="include">
        </childnode>
        <childnode refid="148669" relation="include">
        </childnode>
        <childnode refid="148672" relation="include">
        </childnode>
      </node>
      <node id="148608">
        <label>xAODTracking/NeutralParticleFwd.h</label>
        <link refid="d4/d90/NeutralParticleFwd_8h_source"/>
      </node>
      <node id="148648">
        <label>JetCalibTools/JetCalibUtils.h</label>
        <link refid="d3/df1/JetCalibUtils_8h_source"/>
        <childnode refid="148649" relation="include">
        </childnode>
        <childnode refid="148650" relation="include">
        </childnode>
        <childnode refid="148459" relation="include">
        </childnode>
        <childnode refid="148651" relation="include">
        </childnode>
        <childnode refid="148652" relation="include">
        </childnode>
        <childnode refid="148653" relation="include">
        </childnode>
        <childnode refid="148487" relation="include">
        </childnode>
        <childnode refid="148474" relation="include">
        </childnode>
      </node>
      <node id="148514">
        <label>boost/type_traits/is_base_of.hpp</label>
      </node>
      <node id="148650">
        <label>TTree.h</label>
      </node>
      <node id="148599">
        <label>xAODTracking/NeutralParticleContainer.h</label>
        <link refid="da/d7f/NeutralParticleContainer_8h_source"/>
        <childnode refid="148600" relation="include">
        </childnode>
        <childnode refid="148606" relation="include">
        </childnode>
        <childnode refid="148581" relation="include">
        </childnode>
      </node>
      <node id="148541">
        <label>AthContainers/AuxVectorBase.h</label>
        <link refid="d7/d18/AuxVectorBase_8h"/>
        <childnode refid="148527" relation="include">
        </childnode>
        <childnode refid="148539" relation="include">
        </childnode>
        <childnode refid="148540" relation="include">
        </childnode>
        <childnode refid="148476" relation="include">
        </childnode>
        <childnode refid="148500" relation="include">
        </childnode>
        <childnode refid="148533" relation="include">
        </childnode>
        <childnode refid="148542" relation="include">
        </childnode>
        <childnode refid="148493" relation="include">
        </childnode>
        <childnode refid="148543" relation="include">
        </childnode>
        <childnode refid="148474" relation="include">
        </childnode>
        <childnode refid="148546" relation="include">
        </childnode>
      </node>
      <node id="148473">
        <label>set</label>
      </node>
      <node id="148581">
        <label>xAODCore/CLASS_DEF.h</label>
        <link refid="d6/d20/xAODCore_2xAODCore_2CLASS__DEF_8h"/>
        <childnode refid="148492" relation="include">
        </childnode>
      </node>
      <node id="148518">
        <label>AthContainers/tools/AuxTypeVectorFactory.icc</label>
        <link refid="dc/d02/AuxTypeVectorFactory_8icc"/>
      </node>
      <node id="148507">
        <label>AthContainers/PackedContainer.h</label>
        <link refid="d6/dda/PackedContainer_8h"/>
        <childnode refid="148505" relation="include">
        </childnode>
        <childnode refid="148508" relation="include">
        </childnode>
        <childnode refid="148512" relation="include">
        </childnode>
        <childnode refid="148474" relation="include">
        </childnode>
        <childnode refid="148513" relation="include">
        </childnode>
      </node>
      <node id="148483">
        <label>algorithm</label>
      </node>
      <node id="148563">
        <label>AthContainers/tools/IsMostDerivedFlag.h</label>
        <link refid="d5/dfa/IsMostDerivedFlag_8h"/>
      </node>
      <node id="148627">
        <label>TrkTrack/TrackCollection.h</label>
      </node>
      <node id="148476">
        <label>AthContainers/AuxElement.h</label>
        <link refid="d1/d6f/AuxElement_8h"/>
        <childnode refid="148477" relation="include">
        </childnode>
        <childnode refid="148478" relation="include">
        </childnode>
        <childnode refid="148493" relation="include">
        </childnode>
        <childnode refid="148495" relation="include">
        </childnode>
        <childnode refid="148500" relation="include">
        </childnode>
        <childnode refid="148527" relation="include">
        </childnode>
        <childnode refid="148506" relation="include">
        </childnode>
        <childnode refid="148533" relation="include">
        </childnode>
        <childnode refid="148530" relation="include">
        </childnode>
        <childnode refid="148480" relation="include">
        </childnode>
        <childnode refid="148536" relation="include">
        </childnode>
      </node>
      <node id="148461">
        <label>AsgTools/AsgTool.h</label>
        <link refid="d4/d29/AsgTool_8h_source"/>
        <childnode refid="148462" relation="include">
        </childnode>
        <childnode refid="148463" relation="include">
        </childnode>
        <childnode refid="148467" relation="include">
        </childnode>
        <childnode refid="148469" relation="include">
        </childnode>
      </node>
      <node id="148495">
        <label>AthLinks/DataLink.h</label>
        <link refid="da/de8/DataLink_8h_source"/>
        <childnode refid="148472" relation="include">
        </childnode>
        <childnode refid="148464" relation="include">
        </childnode>
        <childnode refid="148496" relation="include">
        </childnode>
        <childnode refid="148497" relation="include">
        </childnode>
      </node>
      <node id="148560">
        <label>AthContainers/tools/DVL_iter_swap.h</label>
        <link refid="d6/ddb/DVL__iter__swap_8h"/>
        <childnode refid="148556" relation="include">
        </childnode>
        <childnode refid="148542" relation="include">
        </childnode>
        <childnode refid="148485" relation="include">
        </childnode>
      </node>
      <node id="148539">
        <label>AthContainers/OwnershipPolicy.h</label>
        <link refid="d3/da4/OwnershipPolicy_8h_source"/>
      </node>
      <node id="148577">
        <label>AthLinks/ElementLink.h</label>
        <link refid="dc/d24/ElementLink_8h_source"/>
        <childnode refid="148472" relation="include">
        </childnode>
        <childnode refid="148464" relation="include">
        </childnode>
        <childnode refid="148578" relation="include">
        </childnode>
        <childnode refid="148497" relation="include">
        </childnode>
        <childnode refid="148579" relation="include">
        </childnode>
      </node>
      <node id="148632">
        <label>xAODBTagging/versions/BTagVertexContainer_v1.h</label>
        <link refid="d1/d37/BTagVertexContainer__v1_8h_source"/>
        <childnode refid="148538" relation="include">
        </childnode>
        <childnode refid="148631" relation="include">
        </childnode>
      </node>
      <node id="148655">
        <label>JetCalibTools/CalibrationMethods/ResidualOffsetCorrection.h</label>
        <link refid="d5/d57/ResidualOffsetCorrection_8h_source"/>
        <childnode refid="148460" relation="include">
        </childnode>
        <childnode refid="148656" relation="include">
        </childnode>
        <childnode refid="148612" relation="include">
        </childnode>
        <childnode refid="148643" relation="include">
        </childnode>
        <childnode refid="148657" relation="include">
        </childnode>
      </node>
      <node id="148469">
        <label>AsgTools/SetProperty.h</label>
        <link refid="df/db0/SetProperty_8h_source"/>
      </node>
      <node id="148661">
        <label>TGraph.h</label>
      </node>
      <node id="148623">
        <label>xAODTracking/TrackParticleContainer.h</label>
        <link refid="da/d31/TrackParticleContainer_8h_source"/>
        <childnode refid="148624" relation="include">
        </childnode>
        <childnode refid="148628" relation="include">
        </childnode>
        <childnode refid="148581" relation="include">
        </childnode>
      </node>
      <node id="148550">
        <label>GaudiKernel/ClassID.h</label>
      </node>
      <node id="148612">
        <label>JetCalibTools/IJetCalibrationTool.h</label>
        <link refid="d5/d22/JetCalibTools_2JetCalibTools_2IJetCalibrationTool_8h_source"/>
        <childnode refid="148613" relation="include">
        </childnode>
        <childnode refid="148463" relation="include">
        </childnode>
        <childnode refid="148614" relation="include">
        </childnode>
        <childnode refid="148641" relation="include">
        </childnode>
        <childnode refid="148616" relation="include">
        </childnode>
        <childnode refid="148642" relation="include">
        </childnode>
      </node>
      <node id="148565">
        <label>boost/type_traits.hpp</label>
      </node>
      <node id="148490">
        <label>memory</label>
      </node>
      <node id="148654">
        <label>JetCalibTools/CalibrationMethods/JetPileupCorrection.h</label>
        <link refid="d2/d95/JetPileupCorrection_8h_source"/>
        <childnode refid="148460" relation="include">
        </childnode>
        <childnode refid="148612" relation="include">
        </childnode>
        <childnode refid="148643" relation="include">
        </childnode>
        <childnode refid="148655" relation="include">
        </childnode>
      </node>
      <node id="148607">
        <label>xAODTracking/NeutralParticleContainerFwd.h</label>
        <link refid="d2/db4/NeutralParticleContainerFwd_8h_source"/>
        <childnode refid="148538" relation="include">
        </childnode>
        <childnode refid="148594" relation="include">
        </childnode>
        <childnode refid="148608" relation="include">
        </childnode>
      </node>
      <node id="148517">
        <label>AthContainers/tools/AuxTypeVectorFactory.h</label>
        <link refid="dc/d69/AuxTypeVectorFactory_8h"/>
        <childnode refid="148503" relation="include">
        </childnode>
        <childnode refid="148504" relation="include">
        </childnode>
        <childnode refid="148518" relation="include">
        </childnode>
      </node>
      <node id="148543">
        <label>AthContainersInterfaces/AuxStore_traits.h</label>
        <link refid="dd/d70/AuxStore__traits_8h"/>
        <childnode refid="148477" relation="include">
        </childnode>
        <childnode refid="148493" relation="include">
        </childnode>
        <childnode refid="148478" relation="include">
        </childnode>
        <childnode refid="148514" relation="include">
        </childnode>
        <childnode refid="148544" relation="include">
        </childnode>
        <childnode refid="148545" relation="include">
        </childnode>
        <childnode refid="148464" relation="include">
        </childnode>
      </node>
      <node id="148629">
        <label>xAODBTagging/BTagVertexContainer.h</label>
        <link refid="d5/da2/BTagVertexContainer_8h_source"/>
        <childnode refid="148630" relation="include">
        </childnode>
        <childnode refid="148632" relation="include">
        </childnode>
        <childnode refid="148581" relation="include">
        </childnode>
      </node>
    </incdepgraph>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"></codeline>
<codeline lineno="2"><highlight class="comment">//<sp/>JetCalibrationTool.cxx<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Implementation<sp/>file<sp/>for<sp/>class<sp/>JetCalibrationTool</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Author:<sp/>Joe<sp/>Taenzer<sp/>&lt;joseph.taenzer@cern.ch&gt;</highlight></codeline>
<codeline lineno="6"><highlight class="comment"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="comment">//<sp/>JetCalibTools<sp/>includes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;JetCalibTools/JetCalibrationTool.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;PathResolver/PathResolver.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Constructors</highlight></codeline>
<codeline lineno="14"><highlight class="comment"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"><ref refid="d8/d62/classJetCalibrationTool_1aa086364419a09080c0cba4e07bede7de" kindref="member" tooltip="Constructor with parameters:.">JetCalibrationTool::JetCalibrationTool</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>name)</highlight></codeline>
<codeline lineno="16"><highlight class="normal"><sp/><sp/>:<sp/>asg::AsgTool(<sp/>name<sp/>),<sp/><sp/><ref refid="d7/d22/classJetCalibrationToolBase" kindref="compound">JetCalibrationToolBase</ref>::<ref refid="d7/d22/classJetCalibrationToolBase" kindref="compound">JetCalibrationToolBase</ref>(<sp/>name<sp/>),</highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/><sp/><sp/>m_jetAlgo(</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">),<sp/>m_config(</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">),<sp/>m_calibSeq(</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">),<sp/>m_calibAreaTag(</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">),<sp/>m_devMode(false),<sp/>m_isData(true),<sp/>m_mass(false),<sp/>m_timeDependentCalib(false),<sp/>m_rhoKey(</highlight><highlight class="stringliteral">&quot;auto&quot;</highlight><highlight class="normal">),<sp/>m_dir(</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">),<sp/>m_eInfoName(</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">),<sp/>m_globalConfig(NULL),</highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><sp/><sp/>m_doJetArea(true),<sp/>m_doResidual(true),<sp/>m_doOrigin(true),<sp/>m_doGSC(true),<sp/></highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/>m_jetPileupCorr(NULL),<sp/>m_etaJESCorr(NULL),<sp/>m_globalSequentialCorr(NULL),<sp/>m_insituDataCorr(NULL),<sp/>m_jetMassCorr(NULL)</highlight></codeline>
<codeline lineno="20"><highlight class="normal">{<sp/></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/>declareProperty(<sp/></highlight><highlight class="stringliteral">&quot;JetCollection&quot;</highlight><highlight class="normal">,<sp/>m_jetAlgo<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;AntiKt4LCTopo&quot;</highlight><highlight class="normal"><sp/>);</highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/>declareProperty(<sp/></highlight><highlight class="stringliteral">&quot;RhoKey&quot;</highlight><highlight class="normal">,<sp/>m_rhoKey<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;auto&quot;</highlight><highlight class="normal"><sp/>);</highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/>declareProperty(<sp/></highlight><highlight class="stringliteral">&quot;ConfigFile&quot;</highlight><highlight class="normal">,<sp/>m_config<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal"><sp/>);</highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/>declareProperty(<sp/></highlight><highlight class="stringliteral">&quot;CalibSequence&quot;</highlight><highlight class="normal">,<sp/>m_calibSeq<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;JetArea_Offset_AbsoluteEtaJES_Insitu&quot;</highlight><highlight class="normal"><sp/>);</highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/>declareProperty(<sp/></highlight><highlight class="stringliteral">&quot;IsData&quot;</highlight><highlight class="normal">,<sp/>m_isData<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal"><sp/>);</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/>declareProperty(<sp/></highlight><highlight class="stringliteral">&quot;ConfigDir&quot;</highlight><highlight class="normal">,<sp/>m_dir<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;JetCalibTools/CalibrationConfigs/&quot;</highlight><highlight class="normal"><sp/>);</highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/>declareProperty(<sp/></highlight><highlight class="stringliteral">&quot;EventInfoName&quot;</highlight><highlight class="normal">,<sp/>m_eInfoName<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;EventInfo&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal">}</highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Destructor</highlight></codeline>
<codeline lineno="35"><highlight class="comment"></highlight><highlight class="normal"><ref refid="d8/d62/classJetCalibrationTool_1adcaee928fb9b4b6d40d0c08682b7a144" kindref="member" tooltip="Destructor:.">JetCalibrationTool::~JetCalibrationTool</ref>()<sp/>{</highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_globalConfig)<sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>m_globalConfig;</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_jetPileupCorr)<sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>m_jetPileupCorr;</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_etaJESCorr)<sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>m_etaJESCorr;</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_globalSequentialCorr)<sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>m_globalSequentialCorr;</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_insituDataCorr)<sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>m_insituDataCorr;</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_jetMassCorr)<sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>m_jetMassCorr;</highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal">}</highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="comment">//<sp/>Public<sp/>methods:<sp/></highlight></codeline>
<codeline lineno="50"><highlight class="comment"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal">StatusCode<sp/><ref refid="d8/d62/classJetCalibrationTool_1acbc1b61d9568054b249f98e381f92827" kindref="member">JetCalibrationTool::initialize</ref>()<sp/>{</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/>ATH_MSG_INFO<sp/>(</highlight><highlight class="stringliteral">&quot;Initializing<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>name()<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;...&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/>ATH_CHECK(<sp/>this-&gt;<ref refid="d8/d62/classJetCalibrationTool_1a8cf2c13662a7cbe8e58fd0d7e4b6501a" kindref="member" tooltip="Initialize the tool.">initializeTool</ref>(<sp/>name()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::SUCCESS;</highlight></codeline>
<codeline lineno="55"><highlight class="normal">}</highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal">StatusCode<sp/>JetCalibrationTool::finalize()<sp/>{</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/>ATH_MSG_INFO<sp/>(</highlight><highlight class="stringliteral">&quot;Finalizing<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>name()<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;...&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::SUCCESS;</highlight></codeline>
<codeline lineno="60"><highlight class="normal">}</highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight></codeline>
<codeline lineno="63"><highlight class="normal">StatusCode<sp/><ref refid="d8/d62/classJetCalibrationTool_1a8cf2c13662a7cbe8e58fd0d7e4b6501a" kindref="member" tooltip="Initialize the tool.">JetCalibrationTool::initializeTool</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>name)<sp/>{</highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/>TString<sp/>jetAlgo<sp/>=<sp/>m_jetAlgo;</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/>TString<sp/>config<sp/>=<sp/>m_config;</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/>TString<sp/>calibSeq<sp/>=<sp/>m_calibSeq;</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/>std::string<sp/>dir<sp/>=<sp/>m_dir;</highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/>ATH_MSG_INFO(</highlight><highlight class="stringliteral">&quot;===================================&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/>ATH_MSG_INFO(</highlight><highlight class="stringliteral">&quot;Initializing<sp/>the<sp/>xAOD<sp/>Jet<sp/>Calibration<sp/>Tool<sp/>for<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>jetAlgo<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;jets&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//Make<sp/>sure<sp/>the<sp/>necessary<sp/>properties<sp/>were<sp/>set<sp/>via<sp/>the<sp/>constructor<sp/>or<sp/>python<sp/>configuration</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>jetAlgo.EqualTo(</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">)<sp/>||<sp/>calibSeq.EqualTo(</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">)<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_FATAL(</highlight><highlight class="stringliteral">&quot;JetCalibrationTool::initializeTool<sp/>:<sp/>At<sp/>least<sp/>one<sp/>of<sp/>your<sp/>constructor<sp/>arguments<sp/>is<sp/>not<sp/>set.<sp/>Did<sp/>you<sp/>use<sp/>the<sp/>copy<sp/>constructor?&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="78"><highlight class="normal"></highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>config.EqualTo(</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">)<sp/>||<sp/>!config<sp/>)<sp/>{<sp/>ATH_MSG_FATAL(</highlight><highlight class="stringliteral">&quot;No<sp/>configuration<sp/>file<sp/>specified.&quot;</highlight><highlight class="normal">);<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;<sp/>}<sp/></highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/>m_calibAreaTag.insert(0,</highlight><highlight class="stringliteral">&quot;CalibArea-00-04-76/&quot;</highlight><highlight class="normal">);<sp/></highlight><highlight class="comment">//<sp/>Hard-coding<sp/>the<sp/>CalibArea<sp/>tag</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(calibSeq.Contains(</highlight><highlight class="stringliteral">&quot;DEV&quot;</highlight><highlight class="normal">)){</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/>m_devMode<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_WARNING(</highlight><highlight class="stringliteral">&quot;Dev<sp/>Mode<sp/>is<sp/>ON!!!<sp/>\n\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_WARNING(</highlight><highlight class="stringliteral">&quot;Dev<sp/>Mode<sp/>is<sp/>NOT<sp/>RECOMMENDED!!!<sp/>\n\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/>dir.insert(0,</highlight><highlight class="stringliteral">&quot;JetCalibTools/&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/>dir.insert(28,m_calibAreaTag);<sp/></highlight><highlight class="comment">//<sp/>Obtaining<sp/>the<sp/>path<sp/>of<sp/>the<sp/>configuration<sp/>file</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">{dir.insert(14,m_calibAreaTag);}<sp/></highlight><highlight class="comment">//<sp/>Obtaining<sp/>the<sp/>path<sp/>of<sp/>the<sp/>configuration<sp/>file</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/>std::string<sp/>configPath=dir+m_config;<sp/></highlight><highlight class="comment">//<sp/>Full<sp/>path</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/>TString<sp/>fn<sp/>=<sp/><sp/>PathResolverFindCalibFile(configPath);</highlight></codeline>
<codeline lineno="91"><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/>ATH_MSG_INFO(</highlight><highlight class="stringliteral">&quot;Reading<sp/>global<sp/>JES<sp/>settings<sp/>from:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>m_config);</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/>ATH_MSG_INFO(</highlight><highlight class="stringliteral">&quot;resolved<sp/>in:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>fn);</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/>m_globalConfig<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>TEnv();</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//int<sp/>status=m_globalConfig-&gt;ReadFile(FindFile(fn),EEnvLevel(0));</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>status=m_globalConfig-&gt;ReadFile(fn<sp/>,EEnvLevel(0));</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(status!=0)<sp/>{<sp/>ATH_MSG_FATAL(</highlight><highlight class="stringliteral">&quot;Cannot<sp/>read<sp/>config<sp/>file<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>fn<sp/>);<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;<sp/>}</highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//Make<sp/>sure<sp/>that<sp/>one<sp/>of<sp/>the<sp/>standard<sp/>jet<sp/>collections<sp/>is<sp/>being<sp/>used</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>calibSeq.Contains(</highlight><highlight class="stringliteral">&quot;JetArea&quot;</highlight><highlight class="normal">)<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>jetAlgo.Contains(</highlight><highlight class="stringliteral">&quot;PFlow&quot;</highlight><highlight class="normal">)<sp/>)<sp/>m_jetScale<sp/>=<sp/>PFLOW;</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>jetAlgo.Contains(</highlight><highlight class="stringliteral">&quot;EM&quot;</highlight><highlight class="normal">)<sp/>)<sp/>m_jetScale<sp/>=<sp/>EM;</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>jetAlgo.Contains(</highlight><highlight class="stringliteral">&quot;LC&quot;</highlight><highlight class="normal">)<sp/>)<sp/>m_jetScale<sp/>=<sp/>LC;</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{<sp/>ATH_MSG_FATAL(</highlight><highlight class="stringliteral">&quot;jetAlgo<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>jetAlgo<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/>not<sp/>recognized.&quot;</highlight><highlight class="normal">);<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;<sp/>}</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="107"><highlight class="normal"></highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//Set<sp/>the<sp/>default<sp/>units<sp/>to<sp/>MeV,<sp/>user<sp/>can<sp/>override<sp/>by<sp/>calling<sp/>setUnitsGeV(true)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/>setUnitsGeV(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="110"><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Origin-corrected<sp/>clusters?<sp/>(true<sp/>for<sp/>rel21<sp/>and/or<sp/>2.5.X)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/>m_originCorrectedClusters<sp/>=<sp/>m_globalConfig-&gt;GetValue(</highlight><highlight class="stringliteral">&quot;OriginCorrectedClusters&quot;</highlight><highlight class="normal">,</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="113"><highlight class="normal"></highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//Make<sp/>sure<sp/>the<sp/>residual<sp/>correction<sp/>is<sp/>turned<sp/>on<sp/>if<sp/>requested,<sp/>protect<sp/>against<sp/>applying<sp/>it<sp/>without<sp/>the<sp/>jet<sp/>area<sp/>subtraction<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>!calibSeq.Contains(</highlight><highlight class="stringliteral">&quot;JetArea&quot;</highlight><highlight class="normal">)<sp/>&amp;&amp;<sp/>!calibSeq.Contains(</highlight><highlight class="stringliteral">&quot;Residual&quot;</highlight><highlight class="normal">)<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/>m_doJetArea<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/>m_doResidual<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>calibSeq.Contains(</highlight><highlight class="stringliteral">&quot;JetArea&quot;</highlight><highlight class="normal">)<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>m_rhoKey.compare(</highlight><highlight class="stringliteral">&quot;auto&quot;</highlight><highlight class="normal">)<sp/>==<sp/>0<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!m_originCorrectedClusters){</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>m_jetScale<sp/>==<sp/>EM<sp/>)<sp/>m_rhoKey<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Kt4EMTopoEventShape&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>m_jetScale<sp/>==<sp/>LC<sp/>)<sp/>m_rhoKey<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Kt4LCTopoEventShape&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>m_jetScale<sp/>==<sp/>PFLOW<sp/>)<sp/>m_rhoKey<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Kt4EMPFlowEventShape&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>m_jetScale<sp/>==<sp/>EM<sp/>)<sp/>m_rhoKey<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Kt4EMTopoOriginEventShape&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>m_jetScale<sp/>==<sp/>LC<sp/>)<sp/>m_rhoKey<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Kt4LCTopoOriginEventShape&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>m_jetScale<sp/>==<sp/>PFLOW<sp/>)<sp/>m_rhoKey<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Kt4EMPFlowEventShape&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>!calibSeq.Contains(</highlight><highlight class="stringliteral">&quot;Residual&quot;</highlight><highlight class="normal">)<sp/>)<sp/>m_doResidual<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>!calibSeq.Contains(</highlight><highlight class="stringliteral">&quot;JetArea&quot;</highlight><highlight class="normal">)<sp/>&amp;&amp;<sp/>calibSeq.Contains(</highlight><highlight class="stringliteral">&quot;Residual&quot;</highlight><highlight class="normal">)<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_FATAL(</highlight><highlight class="stringliteral">&quot;JetCalibrationTool::initializeTool<sp/>:<sp/>You<sp/>are<sp/>trying<sp/>to<sp/>initialize<sp/>JetCalibTools<sp/>with<sp/>the<sp/>jet<sp/>area<sp/>correction<sp/>turned<sp/>off<sp/>and<sp/>the<sp/>residual<sp/>offset<sp/>correction<sp/>turned<sp/>on.<sp/>This<sp/>is<sp/>inconsistent.<sp/>Aborting.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::SUCCESS;</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="135"><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>!calibSeq.Contains(</highlight><highlight class="stringliteral">&quot;Origin&quot;</highlight><highlight class="normal">)<sp/>)<sp/>m_doOrigin<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="137"><highlight class="normal"></highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>!calibSeq.Contains(</highlight><highlight class="stringliteral">&quot;GSC&quot;</highlight><highlight class="normal">)<sp/>)<sp/>m_doGSC<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="139"><highlight class="normal"></highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//Protect<sp/>against<sp/>the<sp/>in-situ<sp/>calibration<sp/>being<sp/>requested<sp/>when<sp/>isData<sp/>is<sp/>false</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>calibSeq.Contains(</highlight><highlight class="stringliteral">&quot;Insitu&quot;</highlight><highlight class="normal">)<sp/>&amp;&amp;<sp/>!m_isData<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_FATAL(</highlight><highlight class="stringliteral">&quot;JetCalibrationTool::initializeTool<sp/>:<sp/>calibSeq<sp/>string<sp/>contains<sp/>Insitu<sp/>with<sp/>isData<sp/>set<sp/>to<sp/>false.<sp/>Can&apos;t<sp/>apply<sp/>in-situ<sp/>correction<sp/>to<sp/>MC!!&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="145"><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Time-Dependent<sp/>Insitu<sp/>Calibration</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/>m_timeDependentCalib<sp/>=<sp/>m_globalConfig-&gt;GetValue(</highlight><highlight class="stringliteral">&quot;TimeDependentInsituCalibration&quot;</highlight><highlight class="normal">,</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(m_timeDependentCalib){<sp/></highlight><highlight class="comment">//<sp/>Read<sp/>Insitu<sp/>Configs</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/>m_timeDependentInsituConfigs<sp/>=<sp/>JetCalibUtils::Vectorize(<sp/>m_globalConfig-&gt;GetValue(</highlight><highlight class="stringliteral">&quot;InsituTimeDependentConfigs&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(m_timeDependentInsituConfigs.size()==0)<sp/>ATH_MSG_ERROR(</highlight><highlight class="stringliteral">&quot;Please<sp/>check<sp/>there<sp/>are<sp/>at<sp/>least<sp/>two<sp/>insitu<sp/>configs&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/>m_runBins<sp/>=<sp/>JetCalibUtils::VectorizeD(<sp/>m_globalConfig-&gt;GetValue(</highlight><highlight class="stringliteral">&quot;InsituRunBins&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(m_runBins.size()!=m_timeDependentInsituConfigs.size()+1)<sp/>ATH_MSG_ERROR(</highlight><highlight class="stringliteral">&quot;Please<sp/>check<sp/>the<sp/>insitu<sp/>run<sp/>bins&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i=0;i&lt;m_timeDependentInsituConfigs.size();++i){</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//InsituDataCorrection<sp/>*insituTemp<sp/>=<sp/>NULL;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//m_insituTimeDependentCorr.push_back(insituTemp);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="156"><highlight class="normal"></highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>std::string<sp/>configPath_insitu<sp/>=<sp/>dir+m_timeDependentInsituConfigs.at(i).Data();<sp/></highlight><highlight class="comment">//<sp/>Full<sp/>path</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>TString<sp/>fn_insitu<sp/>=<sp/><sp/>PathResolverFindCalibFile(configPath_insitu);</highlight></codeline>
<codeline lineno="159"><highlight class="normal"></highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_INFO(</highlight><highlight class="stringliteral">&quot;Reading<sp/>time-dependent<sp/>insitu<sp/>settings<sp/>from:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>m_timeDependentInsituConfigs.at(i));</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_INFO(</highlight><highlight class="stringliteral">&quot;resolved<sp/>in:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>fn_insitu);</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>TEnv<sp/>*m_globalConfig_insitu<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>TEnv();</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>status<sp/>=<sp/>m_globalConfig_insitu-&gt;ReadFile(fn_insitu<sp/>,EEnvLevel(0));</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(status!=0)<sp/>{<sp/>ATH_MSG_FATAL(</highlight><highlight class="stringliteral">&quot;Cannot<sp/>read<sp/>config<sp/>file<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>fn_insitu<sp/>);<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;<sp/>}</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>m_globalTimeDependentConfigs.push_back(m_globalConfig_insitu);</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="169"><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//Loop<sp/>over<sp/>the<sp/>request<sp/>calib<sp/>sequence</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//Initialize<sp/>derived<sp/>classes<sp/>for<sp/>applying<sp/>the<sp/>requested<sp/>calibrations<sp/>and<sp/>add<sp/>them<sp/>to<sp/>a<sp/>vector</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/>std::vector&lt;TString&gt;<sp/>vecCalibSeq<sp/>=<sp/>JetCalibUtils::Vectorize(calibSeq,</highlight><highlight class="stringliteral">&quot;_&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/>TString<sp/>vecCalibSeqtmp;</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i=0;<sp/>i&lt;vecCalibSeq.size();<sp/>++i)<sp/>{</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>vecCalibSeq[i].EqualTo(</highlight><highlight class="stringliteral">&quot;Residual&quot;</highlight><highlight class="normal">)<sp/>||<sp/>vecCalibSeq[i].EqualTo(</highlight><highlight class="stringliteral">&quot;Origin&quot;</highlight><highlight class="normal">)<sp/>||<sp/>vecCalibSeq[i].EqualTo(</highlight><highlight class="stringliteral">&quot;DEV&quot;</highlight><highlight class="normal">)<sp/>)<sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_CHECK(<sp/>getCalibClass(name,vecCalibSeq[i]<sp/>));</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="178"><highlight class="normal"></highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/>ATH_MSG_INFO(</highlight><highlight class="stringliteral">&quot;===================================&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="180"><highlight class="normal"></highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::SUCCESS;</highlight></codeline>
<codeline lineno="182"><highlight class="normal">}</highlight></codeline>
<codeline lineno="183"><highlight class="normal"></highlight></codeline>
<codeline lineno="184"><highlight class="normal"></highlight><highlight class="comment">//Method<sp/>for<sp/>initializing<sp/>the<sp/>requested<sp/>calibration<sp/>derived<sp/>classes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="185"><highlight class="normal">StatusCode<sp/>JetCalibrationTool::getCalibClass(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;name,<sp/>TString<sp/>calibration)<sp/>{</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/>TString<sp/>jetAlgo<sp/>=<sp/>m_jetAlgo;</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/>TString<sp/>calibAreaTag<sp/>=<sp/>m_calibAreaTag;</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/>std::string<sp/>suffix<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//ATH_MSG_INFO(&quot;Initializing<sp/>sub<sp/>tools.&quot;);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>calibration.EqualTo(</highlight><highlight class="stringliteral">&quot;JetArea&quot;</highlight><highlight class="normal">)<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_INFO(</highlight><highlight class="stringliteral">&quot;Initializing<sp/>pileup<sp/>correction.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/>suffix=</highlight><highlight class="stringliteral">&quot;_Pileup&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(m_devMode)<sp/>suffix+=</highlight><highlight class="stringliteral">&quot;_DEV&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/>m_jetPileupCorr<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="dc/dd7/classJetPileupCorrection" kindref="compound">JetPileupCorrection</ref>(name+suffix,m_globalConfig,jetAlgo,calibAreaTag,m_doResidual,m_doOrigin,m_isData,m_devMode);</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/>m_jetPileupCorr-&gt;msg().setLevel(<sp/>this-&gt;msg().level()<sp/>);</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>m_jetPileupCorr-&gt;<ref refid="dc/dd7/classJetPileupCorrection_1aa76afefe85a7505c00584dd5f24dbfd3" kindref="member" tooltip="Initialize the tool.">initializeTool</ref>(name+suffix).isFailure()<sp/>)<sp/>{<sp/></highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_FATAL(</highlight><highlight class="stringliteral">&quot;Couldn&apos;t<sp/>initialize<sp/>the<sp/>pileup<sp/>correction.<sp/>Aborting&quot;</highlight><highlight class="normal">);<sp/></highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;<sp/></highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{<sp/></highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>m_calibClasses.push_back(m_jetPileupCorr);<sp/></highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::SUCCESS;<sp/></highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>calibration.EqualTo(</highlight><highlight class="stringliteral">&quot;EtaJES&quot;</highlight><highlight class="normal">)<sp/>||<sp/>calibration.EqualTo(</highlight><highlight class="stringliteral">&quot;AbsoluteEtaJES&quot;</highlight><highlight class="normal">)<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_INFO(</highlight><highlight class="stringliteral">&quot;Initializing<sp/>JES<sp/>correction.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/>suffix=</highlight><highlight class="stringliteral">&quot;_EtaJES&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(m_devMode)<sp/>suffix+=</highlight><highlight class="stringliteral">&quot;_DEV&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/>m_etaJESCorr<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="dc/d5c/classEtaJESCorrection" kindref="compound">EtaJESCorrection</ref>(name+suffix,m_globalConfig,jetAlgo,calibAreaTag,</highlight><highlight class="keyword">false</highlight><highlight class="normal">,m_devMode);</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/>m_etaJESCorr-&gt;msg().setLevel(<sp/>this-&gt;msg().level()<sp/>);</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>m_etaJESCorr-&gt;<ref refid="dc/d5c/classEtaJESCorrection_1a06da9e864b1351ce9d1e44803b3cac7e" kindref="member" tooltip="Initialize the tool.">initializeTool</ref>(name+suffix).isFailure()<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_FATAL(</highlight><highlight class="stringliteral">&quot;Couldn&apos;t<sp/>initialize<sp/>the<sp/>Monte<sp/>Carlo<sp/>JES<sp/>correction.<sp/>Aborting&quot;</highlight><highlight class="normal">);<sp/></highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;<sp/></highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{<sp/></highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>m_calibClasses.push_back(m_etaJESCorr);<sp/></highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::SUCCESS;<sp/></highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>calibration.EqualTo(</highlight><highlight class="stringliteral">&quot;EtaMassJES&quot;</highlight><highlight class="normal">)<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_INFO(</highlight><highlight class="stringliteral">&quot;Initializing<sp/>JES<sp/>correction.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/>suffix=</highlight><highlight class="stringliteral">&quot;_EtaMassJES&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(m_devMode)<sp/>suffix+=</highlight><highlight class="stringliteral">&quot;_DEV&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/>m_etaJESCorr<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="dc/d5c/classEtaJESCorrection" kindref="compound">EtaJESCorrection</ref>(name+suffix,m_globalConfig,jetAlgo,calibAreaTag,</highlight><highlight class="keyword">true</highlight><highlight class="normal">,m_devMode);</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/>m_etaJESCorr-&gt;msg().setLevel(<sp/>this-&gt;msg().level()<sp/>);</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>m_etaJESCorr-&gt;<ref refid="dc/d5c/classEtaJESCorrection_1a06da9e864b1351ce9d1e44803b3cac7e" kindref="member" tooltip="Initialize the tool.">initializeTool</ref>(name+suffix).isFailure()<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_FATAL(</highlight><highlight class="stringliteral">&quot;Couldn&apos;t<sp/>initialize<sp/>the<sp/>Monte<sp/>Carlo<sp/>JES<sp/>correction.<sp/>Aborting&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>m_calibClasses.push_back(m_etaJESCorr);</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::SUCCESS;</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>calibration.EqualTo(</highlight><highlight class="stringliteral">&quot;GSC&quot;</highlight><highlight class="normal">)<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_INFO(</highlight><highlight class="stringliteral">&quot;Initializing<sp/>GSC<sp/>correction.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/>suffix=</highlight><highlight class="stringliteral">&quot;_GSC&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(m_devMode)<sp/>suffix+=</highlight><highlight class="stringliteral">&quot;_DEV&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/>m_globalSequentialCorr<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="d4/dbf/classGlobalSequentialCorrection" kindref="compound">GlobalSequentialCorrection</ref>(name+suffix,m_globalConfig,jetAlgo,calibAreaTag,m_devMode);</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/>m_globalSequentialCorr-&gt;msg().setLevel(<sp/>this-&gt;msg().level()<sp/>);</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>m_globalSequentialCorr-&gt;<ref refid="d4/dbf/classGlobalSequentialCorrection_1a15c3ee728d453638c68ce82a0d846262" kindref="member" tooltip="Initialize the tool.">initializeTool</ref>(name+suffix).isFailure()<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_FATAL(</highlight><highlight class="stringliteral">&quot;Couldn&apos;t<sp/>initialize<sp/>the<sp/>Global<sp/>Sequential<sp/>Calibration.<sp/>Aborting&quot;</highlight><highlight class="normal">);<sp/></highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;<sp/></highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{<sp/></highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>m_calibClasses.push_back(m_globalSequentialCorr);<sp/></highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::SUCCESS;<sp/></highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>calibration.EqualTo(</highlight><highlight class="stringliteral">&quot;JMS&quot;</highlight><highlight class="normal">)<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_INFO(</highlight><highlight class="stringliteral">&quot;Initializing<sp/>JMS<sp/>correction.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/>suffix=</highlight><highlight class="stringliteral">&quot;_JMS&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(m_devMode)<sp/>suffix+=</highlight><highlight class="stringliteral">&quot;_DEV&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/>m_jetMassCorr<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="d8/dee/classJMSCorrection" kindref="compound">JMSCorrection</ref>(name+suffix,m_globalConfig,jetAlgo,calibAreaTag,m_devMode);</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/>m_jetMassCorr-&gt;msg().setLevel(<sp/>this-&gt;msg().level()<sp/>);</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>m_jetMassCorr-&gt;<ref refid="d8/dee/classJMSCorrection_1ae3a143f62c0630d8723c13db0c8c9588" kindref="member" tooltip="Initialize the tool.">initializeTool</ref>(name+suffix).isFailure()<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_FATAL(</highlight><highlight class="stringliteral">&quot;Couldn&apos;t<sp/>initialize<sp/>the<sp/>JMS<sp/>Calibration.<sp/>Aborting&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>m_calibClasses.push_back(m_jetMassCorr);</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::SUCCESS;</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>calibration.EqualTo(</highlight><highlight class="stringliteral">&quot;Insitu&quot;</highlight><highlight class="normal">)<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!m_timeDependentCalib){</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_INFO(</highlight><highlight class="stringliteral">&quot;Initializing<sp/>Insitu<sp/>correction.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>suffix=</highlight><highlight class="stringliteral">&quot;_Insitu&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(m_devMode)<sp/>suffix+=</highlight><highlight class="stringliteral">&quot;_DEV&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>m_insituDataCorr<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="da/df6/classInsituDataCorrection" kindref="compound">InsituDataCorrection</ref>(name+suffix,m_globalConfig,jetAlgo,calibAreaTag,m_devMode);</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>m_insituDataCorr-&gt;msg().setLevel(<sp/>this-&gt;msg().level()<sp/>);</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>m_insituDataCorr-&gt;<ref refid="da/df6/classInsituDataCorrection_1a85bad9fc60a9731a2de0544d3e2bf802" kindref="member" tooltip="Initialize the tool.">initializeTool</ref>(name+suffix).isFailure()<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_FATAL(</highlight><highlight class="stringliteral">&quot;Couldn&apos;t<sp/>initialize<sp/>the<sp/>In-situ<sp/>data<sp/>correction.<sp/>Aborting&quot;</highlight><highlight class="normal">);<sp/></highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;<sp/></highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{<sp/></highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_calibClasses.push_back(m_insituDataCorr);<sp/></highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::SUCCESS;<sp/></highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_INFO(</highlight><highlight class="stringliteral">&quot;Initializing<sp/>Time-Dependent<sp/>Insitu<sp/>Corrections&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i=0;i&lt;m_timeDependentInsituConfigs.size();++i){</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>suffix=</highlight><highlight class="stringliteral">&quot;_Insitu&quot;</highlight><highlight class="normal">;<sp/>suffix<sp/>+=<sp/></highlight><highlight class="stringliteral">&quot;_&quot;</highlight><highlight class="normal">;<sp/>suffix<sp/>+=<sp/>std::to_string(i);</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(m_devMode)<sp/>suffix+=</highlight><highlight class="stringliteral">&quot;_DEV&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="da/df6/classInsituDataCorrection" kindref="compound">InsituDataCorrection</ref><sp/>*m_insituTimeDependentCorr_Tmp<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="da/df6/classInsituDataCorrection" kindref="compound">InsituDataCorrection</ref>(name+suffix,m_globalTimeDependentConfigs.at(i),jetAlgo,calibAreaTag,m_devMode);</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_insituTimeDependentCorr_Tmp-&gt;msg().setLevel(<sp/>this-&gt;msg().level()<sp/>);</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>m_insituTimeDependentCorr_Tmp-&gt;<ref refid="da/df6/classInsituDataCorrection_1a85bad9fc60a9731a2de0544d3e2bf802" kindref="member" tooltip="Initialize the tool.">initializeTool</ref>(name+suffix).isFailure()<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_FATAL(</highlight><highlight class="stringliteral">&quot;Couldn&apos;t<sp/>initialize<sp/>the<sp/>In-situ<sp/>data<sp/>correction.<sp/>Aborting&quot;</highlight><highlight class="normal">);<sp/></highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;<sp/></highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_insituTimeDependentCorr.push_back(m_insituTimeDependentCorr_Tmp);<sp/></highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::SUCCESS;<sp/></highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/>ATH_MSG_FATAL(</highlight><highlight class="stringliteral">&quot;Calibration<sp/>string<sp/>not<sp/>recognized:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>calibration<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>aborting.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//ATH_MSG_INFO(&quot;Initializing<sp/>of<sp/>sub<sp/>tools<sp/>is<sp/>complete.&quot;);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;</highlight></codeline>
<codeline lineno="289"><highlight class="normal">}</highlight></codeline>
<codeline lineno="290"><highlight class="normal"></highlight></codeline>
<codeline lineno="291"><highlight class="normal"><ref refid="db/d8a/classCP_1_1CorrectionCode" kindref="compound">CP::CorrectionCode</ref><sp/><ref refid="d8/d62/classJetCalibrationTool_1aee57ed0e007f8d853718c3a6865c2620" kindref="member" tooltip="ASG interface to apply calibartaion to a jet.">JetCalibrationTool::applyCorrection</ref>(<ref refid="db/d9c/classxAOD_1_1Jet__v1" kindref="compound">xAOD::Jet</ref>&amp;<sp/>jet)<sp/>{</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/>StatusCode<sp/>sc<sp/>=<sp/><ref refid="d8/d62/classJetCalibrationTool_1af2a6303d6d46b42810273e16f2d3de2d" kindref="member" tooltip="Implement IJetCalibrationTool interface :.">applyCalibration</ref>(jet);</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>sc<sp/>!=<sp/>StatusCode::FAILURE<sp/>)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="db/d8a/classCP_1_1CorrectionCode_1a0a040c70626c77bad65a0fbf757d7b83aea8e3d31915633d7faef8f6a6c0bbd9f" kindref="member" tooltip="The correction was done successfully.">CP::CorrectionCode::Ok</ref>;</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="db/d8a/classCP_1_1CorrectionCode_1a0a040c70626c77bad65a0fbf757d7b83a9faf702fadfcc1135b182dd78ec9d718" kindref="member" tooltip="Some error happened during the object correction.">CP::CorrectionCode::Error</ref>;</highlight></codeline>
<codeline lineno="295"><highlight class="normal">}</highlight></codeline>
<codeline lineno="296"><highlight class="normal"></highlight></codeline>
<codeline lineno="297"><highlight class="normal">StatusCode<sp/><ref refid="d8/d62/classJetCalibrationTool_1af2a6303d6d46b42810273e16f2d3de2d" kindref="member" tooltip="Implement IJetCalibrationTool interface :.">JetCalibrationTool::applyCalibration</ref>(<ref refid="db/d9c/classxAOD_1_1Jet__v1" kindref="compound">xAOD::Jet</ref>&amp;<sp/>jet)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//Grab<sp/>necessary<sp/>event<sp/>info<sp/>for<sp/>pile<sp/>up<sp/>correction<sp/>and<sp/>store<sp/>it<sp/>in<sp/>a<sp/>JetEventInfo<sp/>class<sp/>object</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><ref refid="dd/d1d/classJetEventInfo" kindref="compound">JetEventInfo</ref><sp/>jetEventInfo;</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Extracting<sp/>event<sp/>information.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/>ATH_CHECK(<sp/>initializeEvent(jetEventInfo)<sp/>);</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Applying<sp/>calibration.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/>ATH_CHECK(<sp/><ref refid="d8/d62/classJetCalibrationTool_1a26fe5fdba6704e9a00345ee7f07c263a" kindref="member" tooltip="This is where the actual calibration code goes.">calibrateImpl</ref>(jet,jetEventInfo)<sp/>);</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::SUCCESS;<sp/></highlight></codeline>
<codeline lineno="305"><highlight class="normal">}</highlight></codeline>
<codeline lineno="306"><highlight class="normal"></highlight></codeline>
<codeline lineno="307"><highlight class="normal"></highlight></codeline>
<codeline lineno="308"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d8/d62/classJetCalibrationTool_1a5e2be5a5afa98ad77537fb4b60cac540" kindref="member" tooltip="Jet modifier interface to calibrate all jets in a container.">JetCalibrationTool::modify</ref>(<ref refid="d0/d4d/classDataVector" kindref="compound" tooltip="Derived DataVector&amp;lt;T&amp;gt;.">xAOD::JetContainer</ref>&amp;<sp/>jets)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//Grab<sp/>necessary<sp/>event<sp/>info<sp/>for<sp/>pile<sp/>up<sp/>correction<sp/>and<sp/>store<sp/>it<sp/>in<sp/>a<sp/>JetEventInfo<sp/>class<sp/>object</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Modifying<sp/>jet<sp/>collection.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><ref refid="dd/d1d/classJetEventInfo" kindref="compound">JetEventInfo</ref><sp/>jetEventInfo;</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/>ATH_CHECK(<sp/>initializeEvent(jetEventInfo)<sp/>);</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><ref refid="d5/d70/classDataModel__detail_1_1iterator" kindref="compound" tooltip="(Non-const) Iterator class for DataVector/DataList. ">xAOD::JetContainer::iterator</ref><sp/>jet_itr<sp/>=<sp/>jets.<ref refid="d0/d4d/classDataVector_1a66c78bd83eeb15e5616a898557598b36" kindref="member" tooltip="Return a const_iterator pointing at the beginning of the collection.">begin</ref>();</highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><ref refid="d5/d70/classDataModel__detail_1_1iterator" kindref="compound" tooltip="(Non-const) Iterator class for DataVector/DataList. ">xAOD::JetContainer::iterator</ref><sp/>jet_end<sp/>=<sp/>jets.<ref refid="d0/d4d/classDataVector_1a1d5dd5515d2c9bc20f417830f5d05b5e" kindref="member" tooltip="Return a const_iterator pointing past the end of the collection.">end</ref>();<sp/></highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/>;<sp/>jet_itr<sp/>!=<sp/>jet_end;<sp/>++jet_itr<sp/>)</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_CHECK(<sp/><ref refid="d8/d62/classJetCalibrationTool_1a26fe5fdba6704e9a00345ee7f07c263a" kindref="member" tooltip="This is where the actual calibration code goes.">calibrateImpl</ref>(**jet_itr,jetEventInfo)<sp/>);</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="318"><highlight class="normal">}</highlight></codeline>
<codeline lineno="319"><highlight class="normal"></highlight></codeline>
<codeline lineno="320"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d8/d62/classJetCalibrationTool_1a5abc89aadcc0a8a2c2df052e19c12061" kindref="member" tooltip="Jet modifier interface to calibrate a single jet.">JetCalibrationTool::modifyJet</ref>(<ref refid="db/d9c/classxAOD_1_1Jet__v1" kindref="compound">xAOD::Jet</ref>&amp;<sp/>jet)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Modifying<sp/>jet.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/>ATH_CHECK(<sp/><ref refid="d8/d62/classJetCalibrationTool_1af2a6303d6d46b42810273e16f2d3de2d" kindref="member" tooltip="Implement IJetCalibrationTool interface :.">applyCalibration</ref>(jet)<sp/>);</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="324"><highlight class="normal">}</highlight></codeline>
<codeline lineno="325"><highlight class="normal"></highlight></codeline>
<codeline lineno="326"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Private/Protected<sp/>Methods</highlight></codeline>
<codeline lineno="328"><highlight class="comment"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="329"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="330"><highlight class="comment">StatusCode<sp/>JetCalibrationTool::initializeEvent()<sp/>{</highlight></codeline>
<codeline lineno="331"><highlight class="comment"></highlight></codeline>
<codeline lineno="332"><highlight class="comment"><sp/><sp/>m_eventObj<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="333"><highlight class="comment"><sp/><sp/>m_vertices<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="334"><highlight class="comment"></highlight></codeline>
<codeline lineno="335"><highlight class="comment"><sp/><sp/>//ATH_MSG_INFO(&quot;<sp/><sp/>Retrieving<sp/>event<sp/>information<sp/>for<sp/>the<sp/>pile<sp/>up<sp/>corrections\n&quot;);</highlight></codeline>
<codeline lineno="336"><highlight class="comment"><sp/><sp/>if<sp/>(<sp/>evtStore()-&gt;retrieve(m_eventObj,&quot;EventInfo&quot;).isFailure()<sp/>||<sp/>!m_eventObj<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="337"><highlight class="comment"><sp/><sp/><sp/><sp/>ATH_MSG_ERROR(&quot;<sp/><sp/><sp/>JetCalibrationTool::initializeEvent<sp/>:<sp/>Failed<sp/>to<sp/>retrieve<sp/>event<sp/>information.<sp/>Aborting.&quot;);</highlight></codeline>
<codeline lineno="338"><highlight class="comment"><sp/><sp/><sp/><sp/>return<sp/>StatusCode::FAILURE;</highlight></codeline>
<codeline lineno="339"><highlight class="comment"><sp/><sp/>}</highlight></codeline>
<codeline lineno="340"><highlight class="comment"><sp/><sp/>if<sp/>(<sp/>evtStore()-&gt;retrieve(m_vertices,&quot;PrimaryVertices&quot;).isFailure()<sp/>||<sp/>!m_vertices<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="341"><highlight class="comment"><sp/><sp/><sp/><sp/>ATH_MSG_ERROR(&quot;<sp/><sp/><sp/>JetCalibrationTool::initializeEvent<sp/>:<sp/>Failed<sp/>to<sp/>retrieve<sp/>primary<sp/>vertices.<sp/>Aborting.&quot;);</highlight></codeline>
<codeline lineno="342"><highlight class="comment"><sp/><sp/><sp/><sp/>return<sp/>StatusCode::FAILURE;</highlight></codeline>
<codeline lineno="343"><highlight class="comment"><sp/><sp/>}</highlight></codeline>
<codeline lineno="344"><highlight class="comment"><sp/><sp/>//ATH_MSG_INFO(&quot;<sp/><sp/>Event<sp/>information<sp/>successfully<sp/>retrieved.\n\n&quot;);</highlight></codeline>
<codeline lineno="345"><highlight class="comment"></highlight></codeline>
<codeline lineno="346"><highlight class="comment"><sp/><sp/>//Check<sp/>if<sp/>the<sp/>input<sp/>jets<sp/>are<sp/>coming<sp/>from<sp/>data<sp/>or<sp/>MC</highlight></codeline>
<codeline lineno="347"><highlight class="comment"><sp/><sp/>//if<sp/>(<sp/>m_eventObj-&gt;eventType(<sp/>xAOD::EventInfo::IS_SIMULATION<sp/>)<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="348"><highlight class="comment"><sp/><sp/>//<sp/><sp/><sp/><sp/><sp/>m_isData<sp/>=<sp/>false;<sp/>//<sp/>controls<sp/>mu<sp/>scaling<sp/>in<sp/>the<sp/>pile<sp/>up<sp/>correction,<sp/>no<sp/>scaling<sp/>for<sp/>data</highlight></codeline>
<codeline lineno="349"><highlight class="comment"><sp/><sp/>//}</highlight></codeline>
<codeline lineno="350"><highlight class="comment"></highlight></codeline>
<codeline lineno="351"><highlight class="comment"><sp/><sp/>int<sp/>eventNPV<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="352"><highlight class="comment"><sp/><sp/>xAOD::VertexContainer::const_iterator<sp/>vtx_itr<sp/>=<sp/>m_vertices-&gt;begin();</highlight></codeline>
<codeline lineno="353"><highlight class="comment"><sp/><sp/>xAOD::VertexContainer::const_iterator<sp/>vtx_end<sp/>=<sp/>m_vertices-&gt;end();<sp/></highlight></codeline>
<codeline lineno="354"><highlight class="comment"><sp/><sp/>for<sp/>(<sp/>;<sp/>vtx_itr<sp/>!=<sp/>vtx_end;<sp/>++vtx_itr<sp/>)<sp/></highlight></codeline>
<codeline lineno="355"><highlight class="comment"><sp/><sp/><sp/><sp/>if<sp/>(<sp/>(*vtx_itr)-&gt;nTrackParticles()<sp/>&gt;=<sp/>2<sp/>)<sp/>++eventNPV;</highlight></codeline>
<codeline lineno="356"><highlight class="comment"></highlight></codeline>
<codeline lineno="357"><highlight class="comment"><sp/><sp/>m_jetEventInfo.NPV<sp/>=<sp/>eventNPV;</highlight></codeline>
<codeline lineno="358"><highlight class="comment"><sp/><sp/>m_jetEventInfo.mu<sp/>=<sp/>m_eventObj-&gt;averageInteractionsPerCrossing();</highlight></codeline>
<codeline lineno="359"><highlight class="comment"></highlight></codeline>
<codeline lineno="360"><highlight class="comment"><sp/><sp/>//Test<sp/>code<sp/>for<sp/>EventShape<sp/>EDM</highlight></codeline>
<codeline lineno="361"><highlight class="comment"><sp/><sp/>//If<sp/>xAODEventShape<sp/>can&apos;t<sp/>be<sp/>retrieved<sp/>from<sp/>evtStore,<sp/>default<sp/>to<sp/>hard-coded<sp/>value<sp/>(12GeV)</highlight></codeline>
<codeline lineno="362"><highlight class="comment"><sp/><sp/>const<sp/>xAOD::EventShape<sp/>*<sp/>eventShape;</highlight></codeline>
<codeline lineno="363"><highlight class="comment"><sp/><sp/>std::string<sp/>rhoKey<sp/>=<sp/>m_jetScale<sp/>==<sp/>EM<sp/>?<sp/>&quot;EMTopoEventShape&quot;<sp/>:<sp/>&quot;LCTopoEventShape&quot;;</highlight></codeline>
<codeline lineno="364"><highlight class="comment"><sp/><sp/>if<sp/>(<sp/>evtStore()-&gt;retrieve(eventShape,<sp/>rhoKey).isFailure()<sp/>||<sp/>!eventShape<sp/>)</highlight></codeline>
<codeline lineno="365"><highlight class="comment"><sp/><sp/><sp/><sp/>m_jetEventInfo.rho<sp/>=<sp/>12000.;</highlight></codeline>
<codeline lineno="366"><highlight class="comment"><sp/><sp/>else</highlight></codeline>
<codeline lineno="367"><highlight class="comment"><sp/><sp/><sp/>if<sp/>(<sp/>!eventShape-&gt;getDensity(<sp/>xAOD::EventShape::DensityForJetsR4,<sp/>m_jetEventInfo.rho<sp/>)<sp/>)<sp/>return<sp/>StatusCode::FAILURE;<sp/></highlight></codeline>
<codeline lineno="368"><highlight class="comment"></highlight></codeline>
<codeline lineno="369"><highlight class="comment"><sp/><sp/>return<sp/>StatusCode::SUCCESS;</highlight></codeline>
<codeline lineno="370"><highlight class="comment">}</highlight></codeline>
<codeline lineno="371"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="372"><highlight class="normal"></highlight></codeline>
<codeline lineno="373"><highlight class="normal">StatusCode<sp/>JetCalibrationTool::initializeEvent(<ref refid="dd/d1d/classJetEventInfo" kindref="compound">JetEventInfo</ref>&amp;<sp/>jetEventInfo)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="374"><highlight class="normal"></highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>if<sp/>the<sp/>tool<sp/>was<sp/>initialized</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>m_calibClasses.size()<sp/>==<sp/>0<sp/>){</highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_FATAL(</highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/>JetCalibrationTool::initializeEvent<sp/>:<sp/>The<sp/>tool<sp/>was<sp/>not<sp/>initialized.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;</highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="380"><highlight class="normal"></highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>static<sp/>accessor<sp/>for<sp/>PV<sp/>index<sp/>access</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="dd/d86/classSG_1_1AuxElement_1_1ConstAccessor" kindref="compound">SG::AuxElement::ConstAccessor&lt;int&gt;</ref><sp/>PVIndexAccessor(</highlight><highlight class="stringliteral">&quot;PVIndex&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Initializing<sp/>event.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="385"><highlight class="normal"></highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//Determine<sp/>the<sp/>rho<sp/>value<sp/>to<sp/>use<sp/>for<sp/>the<sp/>jet<sp/>area<sp/>subtraction</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//Should<sp/>be<sp/>determined<sp/>using<sp/>EventShape<sp/>object,<sp/>use<sp/>hard<sp/>coded<sp/>values<sp/>if<sp/>EventShape<sp/>doesn&apos;t<sp/>exist</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>rho=0;</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d7/d93/classxAOD_1_1EventShape__v1" kindref="compound">xAOD::EventShape</ref><sp/>*<sp/>eventShape<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>m_doJetArea<sp/>&amp;&amp;<sp/>evtStore()-&gt;contains&lt;xAOD::EventShape&gt;(m_rhoKey)<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;<sp/><sp/>Found<sp/>event<sp/>density<sp/>container<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>m_rhoKey);</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>evtStore()-&gt;retrieve(eventShape,<sp/>m_rhoKey).isFailure()<sp/>||<sp/>!eventShape<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;<sp/><sp/>Event<sp/>shape<sp/>container<sp/>not<sp/>found.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_FATAL(</highlight><highlight class="stringliteral">&quot;Could<sp/>not<sp/>retrieve<sp/>xAOD::EventShape<sp/>from<sp/>evtStore.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;</highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>!eventShape-&gt;<ref refid="d7/d93/classxAOD_1_1EventShape__v1_1a3c1b5e270221195f03feab7bc13f0bdf" kindref="member" tooltip="Get a density variable from the object.">getDensity</ref>(<sp/>xAOD::EventShape::Density,<sp/>rho<sp/>)<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;<sp/><sp/>Event<sp/>density<sp/>not<sp/>found<sp/>in<sp/>container.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_FATAL(</highlight><highlight class="stringliteral">&quot;Could<sp/>not<sp/>retrieve<sp/>xAOD::EventShape::Density<sp/>from<sp/>xAOD::EventShape.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;<sp/><sp/>Event<sp/>density<sp/>retrieved.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>m_doJetArea<sp/>&amp;&amp;<sp/>!evtStore()-&gt;contains&lt;xAOD::EventShape&gt;(m_rhoKey)<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;<sp/><sp/>Rho<sp/>container<sp/>not<sp/>found:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>m_rhoKey);</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_FATAL(</highlight><highlight class="stringliteral">&quot;Could<sp/>not<sp/>retrieve<sp/>xAOD::EventShape<sp/>from<sp/>evtStore.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/>jetEventInfo.setRho(rho);</highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;<sp/><sp/>Rho<sp/>=<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>0.001*rho<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/>GeV&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="410"><highlight class="normal"></highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Retrieve<sp/>EventInfo<sp/>object,<sp/>which<sp/>now<sp/>has<sp/>multiple<sp/>uses</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>m_doResidual<sp/>||<sp/>m_doGSC<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="df/df8/classxAOD_1_1EventInfo__v1" kindref="compound">xAOD::EventInfo</ref><sp/>*<sp/>eventObj<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>eventInfoWarnings<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>evtStore()-&gt;retrieve(eventObj,m_eInfoName).isFailure()<sp/>||<sp/>!eventObj<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>++eventInfoWarnings;</highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>eventInfoWarnings<sp/>&lt;<sp/>20<sp/>)</highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_ERROR(</highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/>JetCalibrationTool::initializeEvent<sp/>:<sp/>Failed<sp/>to<sp/>retrieve<sp/>event<sp/>information.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>jetEventInfo.setMu(0);<sp/></highlight><highlight class="comment">//Hard<sp/>coded<sp/>value<sp/>mu<sp/>=<sp/>0<sp/>in<sp/>case<sp/>of<sp/>failure<sp/>(to<sp/>prevent<sp/>seg<sp/>faults<sp/>later).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>jetEventInfo.setPVIndex(0);</highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::SUCCESS;<sp/></highlight><highlight class="comment">//error<sp/>is<sp/>recoverable,<sp/>so<sp/>return<sp/>SUCCESS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="423"><highlight class="normal"></highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>we<sp/>are<sp/>applying<sp/>the<sp/>reisdual,<sp/>then<sp/>store<sp/>mu</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_doResidual)</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>jetEventInfo.setMu(<sp/>eventObj-&gt;<ref refid="df/df8/classxAOD_1_1EventInfo__v1_1ab1793eb8b17b868d32f441dea04c7a31" kindref="member">averageInteractionsPerCrossing</ref>()<sp/>);</highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>this<sp/>is<sp/>GSC,<sp/>we<sp/>need<sp/>EventInfo<sp/>to<sp/>determine<sp/>the<sp/>PV<sp/>to<sp/>use</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>is<sp/>support<sp/>for<sp/>groups<sp/>where<sp/>PV0<sp/>is<sp/>not<sp/>the<sp/>vertex<sp/>of<sp/>interest<sp/>(H-&gt;gamgam,<sp/>etc)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_doGSC)</highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>First<sp/>retrieve<sp/>the<sp/>PVIndex<sp/>if<sp/>specified</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Default<sp/>is<sp/>to<sp/>not<sp/>specify<sp/>this,<sp/>so<sp/>no<sp/>warning<sp/>if<sp/>it<sp/>doesn&apos;t<sp/>exist</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>However,<sp/>if<sp/>specified,<sp/>it<sp/>should<sp/>be<sp/>a<sp/>sane<sp/>value<sp/>-<sp/>fail<sp/>if<sp/>not</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>m_doGSC<sp/>&amp;&amp;<sp/>PVIndexAccessor.isAvailable(*eventObj)<sp/>)</highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>jetEventInfo.setPVIndex(<sp/>PVIndexAccessor(*eventObj)<sp/>);</highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>jetEventInfo.setPVIndex(0);</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="441"><highlight class="normal"></highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>PV<sp/>index<sp/>is<sp/>not<sp/>zero,<sp/>we<sp/>need<sp/>to<sp/>confirm<sp/>it&apos;s<sp/>a<sp/>reasonable<sp/>value</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>To<sp/>do<sp/>this,<sp/>we<sp/>need<sp/>the<sp/>primary<sp/>vertices</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>However,<sp/>other<sp/>users<sp/>of<sp/>the<sp/>GSC<sp/>may<sp/>not<sp/>have<sp/>the<sp/>PV<sp/>collection<sp/>(in<sp/>particular:<sp/>trigger<sp/>GSC<sp/>in<sp/>2016)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>So<sp/>only<sp/>retrieve<sp/>vertices<sp/>if<sp/>needed<sp/>for<sp/>NPV<sp/>(residual)<sp/>or<sp/>a<sp/>non-zero<sp/>PV<sp/>index<sp/>was<sp/>specified<sp/>(GSC)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_doResidual<sp/>||<sp/>(m_doGSC<sp/>&amp;&amp;<sp/>jetEventInfo.PVIndex()))</highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Retrieve<sp/>VertexContainer<sp/>object,<sp/>use<sp/>it<sp/>to<sp/>obtain<sp/>NPV<sp/>for<sp/>the<sp/>residual<sp/>correction<sp/>or<sp/>check<sp/>validity<sp/>of<sp/>GSC<sp/>non-PV0<sp/>usage</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d0/d4d/classDataVector" kindref="compound" tooltip="Derived DataVector&amp;lt;T&amp;gt;.">xAOD::VertexContainer</ref><sp/>*<sp/>vertices<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>vertexContainerWarnings<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>evtStore()-&gt;retrieve(vertices,</highlight><highlight class="stringliteral">&quot;PrimaryVertices&quot;</highlight><highlight class="normal">).isFailure()<sp/>||<sp/>!vertices<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++vertexContainerWarnings;</highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>vertexContainerWarnings<sp/>&lt;<sp/>20<sp/>)</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_ERROR(</highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/>JetCalibrationTool::initializeEvent<sp/>:<sp/>Failed<sp/>to<sp/>retrieve<sp/>primary<sp/>vertices.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>jetEventInfo.setNPV(0);<sp/></highlight><highlight class="comment">//Hard<sp/>coded<sp/>value<sp/>NPV<sp/>=<sp/>0<sp/>in<sp/>case<sp/>of<sp/>failure<sp/>(to<sp/>prevent<sp/>seg<sp/>faults<sp/>later).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::SUCCESS;<sp/></highlight><highlight class="comment">//error<sp/>is<sp/>recoverable,<sp/>so<sp/>return<sp/>SUCCESS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="458"><highlight class="normal"></highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Calculate<sp/>and<sp/>set<sp/>NPV<sp/>if<sp/>this<sp/>is<sp/>residual</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_doResidual)</highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>eventNPV<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d7/d17/classDataModel__detail_1_1const__iterator" kindref="compound" tooltip="Const iterator class for DataVector/DataList. ">xAOD::VertexContainer::const_iterator</ref><sp/>vtx_itr<sp/>=<sp/>vertices-&gt;<ref refid="d0/d4d/classDataVector_1a66c78bd83eeb15e5616a898557598b36" kindref="member" tooltip="Return a const_iterator pointing at the beginning of the collection.">begin</ref>();</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d7/d17/classDataModel__detail_1_1const__iterator" kindref="compound" tooltip="Const iterator class for DataVector/DataList. ">xAOD::VertexContainer::const_iterator</ref><sp/>vtx_end<sp/>=<sp/>vertices-&gt;<ref refid="d0/d4d/classDataVector_1a1d5dd5515d2c9bc20f417830f5d05b5e" kindref="member" tooltip="Return a const_iterator pointing past the end of the collection.">end</ref>();<sp/></highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/>;<sp/>vtx_itr<sp/>!=<sp/>vtx_end;<sp/>++vtx_itr<sp/>)<sp/></highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>(*vtx_itr)-&gt;nTrackParticles()<sp/>&gt;=<sp/>2<sp/>)<sp/>++eventNPV;</highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>jetEventInfo.setNPV(eventNPV);</highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Validate<sp/>value<sp/>of<sp/>non-standard<sp/>PV<sp/>index<sp/>usage</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_doGSC<sp/>&amp;&amp;<sp/>jetEventInfo.PVIndex())</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>vertexIndexWarnings<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(jetEventInfo.PVIndex()<sp/>&lt;<sp/>0<sp/>||<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">size_t</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(jetEventInfo.PVIndex())<sp/>&gt;=<sp/>vertices-&gt;<ref refid="d0/d4d/classDataVector_1aa4d259c267222003a6d2592fbe9809af" kindref="member" tooltip="Returns the number of elements in the collection.">size</ref>())</highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++vertexIndexWarnings;</highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(vertexIndexWarnings<sp/>&lt;<sp/>20)</highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_ERROR(</highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/>JetCalibrationTool::initializeEvent<sp/>:<sp/>PV<sp/>index<sp/>is<sp/>out<sp/>of<sp/>bounds.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>jetEventInfo.setPVIndex(0);<sp/></highlight><highlight class="comment">//<sp/>Hard<sp/>coded<sp/>value<sp/>PVIndex<sp/>=<sp/>0<sp/>in<sp/>case<sp/>of<sp/>failure<sp/>(to<sp/>prevent<sp/>seg<sp/>faults<sp/>later).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::SUCCESS;<sp/></highlight><highlight class="comment">//<sp/>error<sp/>is<sp/>recoverable,<sp/>so<sp/>return<sp/>SUCCESS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="484"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="485"><highlight class="normal"></highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Check<sp/>if<sp/>the<sp/>input<sp/>jets<sp/>are<sp/>coming<sp/>from<sp/>data<sp/>or<sp/>MC</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//if<sp/>(<sp/>m_eventObj-&gt;eventType(<sp/>xAOD::EventInfo::IS_SIMULATION<sp/>)<sp/>)<sp/>{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/>m_isData<sp/>=<sp/>false;<sp/>//<sp/>controls<sp/>mu<sp/>scaling<sp/>in<sp/>the<sp/>pile<sp/>up<sp/>correction,<sp/>no<sp/>scaling<sp/>for<sp/>data</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="490"><highlight class="normal"></highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="492"><highlight class="normal"></highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::SUCCESS;</highlight></codeline>
<codeline lineno="494"><highlight class="normal">}</highlight></codeline>
<codeline lineno="495"><highlight class="normal"></highlight></codeline>
<codeline lineno="496"><highlight class="normal">StatusCode<sp/><ref refid="d8/d62/classJetCalibrationTool_1a26fe5fdba6704e9a00345ee7f07c263a" kindref="member" tooltip="This is where the actual calibration code goes.">JetCalibrationTool::calibrateImpl</ref>(<ref refid="db/d9c/classxAOD_1_1Jet__v1" kindref="compound">xAOD::Jet</ref>&amp;<sp/>jet,<sp/><ref refid="dd/d1d/classJetEventInfo" kindref="compound">JetEventInfo</ref>&amp;<sp/>jetEventInfo)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="497"><highlight class="normal"></highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//Check<sp/>for<sp/>OriginCorrected<sp/>and<sp/>PileupCorrected<sp/>attributes,<sp/>assume<sp/>they<sp/>are<sp/>false<sp/>if<sp/>not<sp/>found</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>tmp<sp/>=<sp/>0;<sp/></highlight><highlight class="comment">//temporary<sp/>int<sp/>for<sp/>checking<sp/>getAttribute</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>!jet.<ref refid="db/d9c/classxAOD_1_1Jet__v1_1ae0f87e665121ac76467f96af9a48b513" kindref="member" tooltip="Retrieve attribute moment by enum.">getAttribute</ref>&lt;</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">&gt;(</highlight><highlight class="stringliteral">&quot;OriginCorrected&quot;</highlight><highlight class="normal">,tmp)<sp/>)</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/>jet.setAttribute&lt;</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">&gt;(</highlight><highlight class="stringliteral">&quot;OriginCorrected&quot;</highlight><highlight class="normal">,</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>!jet.<ref refid="db/d9c/classxAOD_1_1Jet__v1_1ae0f87e665121ac76467f96af9a48b513" kindref="member" tooltip="Retrieve attribute moment by enum.">getAttribute</ref>&lt;</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">&gt;(</highlight><highlight class="stringliteral">&quot;PileupCorrected&quot;</highlight><highlight class="normal">,tmp)<sp/>)</highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/>jet.setAttribute&lt;</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">&gt;(</highlight><highlight class="stringliteral">&quot;PileupCorrected&quot;</highlight><highlight class="normal">,</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="504"><highlight class="normal"></highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Calibrating<sp/>jet<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>jet.<ref refid="dc/db0/classSG_1_1AuxElement_1aba555afb4547fbe96fbdc4b266f75f16" kindref="member" tooltip="Return the index of this element within its container.">index</ref>());</highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><ref refid="dd/d44/namespacexAOD_1afd4eec03bc44b101a3c8b2b1429f3072" kindref="member" tooltip="Base 4 Momentum type for Jet.">xAOD::JetFourMom_t</ref><sp/>jetconstitP4<sp/>=<sp/>jet.<ref refid="db/d9c/classxAOD_1_1Jet__v1_1ae0f87e665121ac76467f96af9a48b513" kindref="member" tooltip="Retrieve attribute moment by enum.">getAttribute</ref>&lt;<ref refid="dd/d44/namespacexAOD_1afd4eec03bc44b101a3c8b2b1429f3072" kindref="member" tooltip="Base 4 Momentum type for Jet.">xAOD::JetFourMom_t</ref>&gt;(</highlight><highlight class="stringliteral">&quot;JetConstitScaleMomentum&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/>jet.setAttribute&lt;</highlight><highlight class="keywordtype">float</highlight><highlight class="normal">&gt;(</highlight><highlight class="stringliteral">&quot;DetectorEta&quot;</highlight><highlight class="normal">,jetconstitP4.eta());<sp/></highlight><highlight class="comment">//saving<sp/>constituent<sp/>scale<sp/>eta<sp/>for<sp/>later<sp/>use</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i=0;<sp/>i&lt;m_calibClasses.size();<sp/>++i)<sp/></highlight><highlight class="comment">//Loop<sp/>over<sp/>requested<sp/>calibations</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_CHECK<sp/>(<sp/>m_calibClasses[i]-&gt;<ref refid="d8/d62/classJetCalibrationTool_1a26fe5fdba6704e9a00345ee7f07c263a" kindref="member" tooltip="This is where the actual calibration code goes.">calibrateImpl</ref>(jet,jetEventInfo)<sp/>);</highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/>TString<sp/>CalibSeq<sp/>=<sp/>m_calibSeq;</highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(CalibSeq.Contains(</highlight><highlight class="stringliteral">&quot;Insitu&quot;</highlight><highlight class="normal">)<sp/>&amp;&amp;<sp/>m_timeDependentCalib){<sp/></highlight><highlight class="comment">//<sp/>Insitu<sp/>Time-Dependent<sp/>Correction</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i=0;i&lt;m_timeDependentInsituConfigs.size();++i){</highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Retrive<sp/>EventInfo<sp/>container</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="df/df8/classxAOD_1_1EventInfo__v1" kindref="compound">xAOD::EventInfo</ref>*<sp/>eventInfo(</highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>evtStore()-&gt;retrieve(eventInfo,</highlight><highlight class="stringliteral">&quot;EventInfo&quot;</highlight><highlight class="normal">).isFailure()<sp/>||<sp/>!eventInfo<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_ERROR(</highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/>JetCalibrationTool::calibrateImpl<sp/>:<sp/>Failed<sp/>to<sp/>retrieve<sp/>EventInfo.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="518"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Run<sp/>Number<sp/>Dependent<sp/>Correction</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>runNumber<sp/>=<sp/>eventInfo-&gt;runNumber();</highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(runNumber&gt;m_runBins.at(i)<sp/>&amp;&amp;<sp/>runNumber&lt;=m_runBins.at(i+1)){<sp/>ATH_CHECK<sp/>(<sp/>m_insituTimeDependentCorr.at(i)-&gt;calibrateImpl(jet,jetEventInfo)<sp/>);}</highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="522"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="523"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::SUCCESS;<sp/></highlight></codeline>
<codeline lineno="524"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/JetCalibTools/Root/JetCalibrationTool.cxx"/>
  </compounddef>
</doxygen>
