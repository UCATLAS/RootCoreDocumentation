<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.6.1">
  <compounddef id="df/d92/METMaker_8cxx" kind="file">
    <compoundname>METMaker.cxx</compoundname>
    <includes refid="d7/d20/METMaker_8h" local="yes">METUtilities/METMaker.h</includes>
    <includes refid="d5/d10/MissingETContainer_8h" local="yes">xAODMissingET/MissingETContainer.h</includes>
    <includes refid="d1/d18/MissingETComposition_8h" local="yes">xAODMissingET/MissingETComposition.h</includes>
    <includes refid="dd/db4/MissingETAuxContainer_8h" local="yes">xAODMissingET/MissingETAuxContainer.h</includes>
    <includes refid="df/db3/MissingETAssociationMap_8h" local="yes">xAODMissingET/MissingETAssociationMap.h</includes>
    <includes refid="d3/df8/JetAttributes_8h" local="yes">xAODJet/JetAttributes.h</includes>
    <includes refid="d2/d15/TrackParticle_8h" local="yes">xAODTracking/TrackParticle.h</includes>
    <includes refid="d6/dd8/VertexContainer_8h" local="yes">xAODTracking/VertexContainer.h</includes>
    <includes refid="d8/d71/ShallowCopy_8h" local="yes">xAODCore/ShallowCopy.h</includes>
    <includes refid="dc/dd9/MuonContainer_8h" local="yes">xAODMuon/MuonContainer.h</includes>
    <includes refid="df/dea/ElectronContainer_8h" local="yes">xAODEgamma/ElectronContainer.h</includes>
    <includes refid="d0/d71/EgammaxAODHelpers_8h" local="yes">xAODEgamma/EgammaxAODHelpers.h</includes>
    <incdepgraph>
      <node id="207230">
        <label>list</label>
      </node>
      <node id="207239">
        <label>AthContainers/tools/DVL_algorithms.icc</label>
        <link refid="df/daa/DVL__algorithms_8icc"/>
        <childnode refid="207224" relation="include">
        </childnode>
        <childnode refid="207231" relation="include">
        </childnode>
        <childnode refid="207215" relation="include">
        </childnode>
        <childnode refid="207220" relation="include">
        </childnode>
        <childnode refid="207157" relation="include">
        </childnode>
      </node>
      <node id="207224">
        <label>AthContainers/tools/DVLNoBase.h</label>
        <link refid="d7/d92/DVLNoBase_8h"/>
      </node>
      <node id="207194">
        <label>boost/thread/mutex.hpp</label>
      </node>
      <node id="207246">
        <label>AthContainers/tools/DVLDataBucket.h</label>
        <link refid="d4/d16/DVLDataBucket_8h"/>
        <childnode refid="207247" relation="include">
        </childnode>
        <childnode refid="207225" relation="include">
        </childnode>
        <childnode refid="207164" relation="include">
        </childnode>
        <childnode refid="207248" relation="include">
        </childnode>
      </node>
      <node id="207369">
        <label>xAODMuon/versions/MuonContainer_v1.h</label>
        <link refid="da/d0b/MuonContainer__v1_8h_source"/>
        <childnode refid="207180" relation="include">
        </childnode>
        <childnode refid="207151" relation="include">
        </childnode>
        <childnode refid="207349" relation="include">
        </childnode>
      </node>
      <node id="207211">
        <label>CxxUtils/unordered_map.h</label>
        <link refid="db/daa/unordered__map_8h"/>
        <childnode refid="207156" relation="include">
        </childnode>
        <childnode refid="207158" relation="include">
        </childnode>
        <childnode refid="207164" relation="include">
        </childnode>
        <childnode refid="207165" relation="include">
        </childnode>
      </node>
      <node id="207143">
        <label>AsgTools/IAsgTool.h</label>
        <link refid="df/dd4/IAsgTool_8h_source"/>
        <childnode refid="207138" relation="include">
        </childnode>
        <childnode refid="207140" relation="include">
        </childnode>
        <childnode refid="207144" relation="include">
        </childnode>
        <childnode refid="207145" relation="include">
        </childnode>
      </node>
      <node id="207213">
        <label>AthContainersInterfaces/IAuxStore.h</label>
        <link refid="d6/d3e/IAuxStore_8h"/>
        <childnode refid="207173" relation="include">
        </childnode>
        <childnode refid="207154" relation="include">
        </childnode>
        <childnode refid="207214" relation="include">
        </childnode>
        <childnode refid="207174" relation="include">
        </childnode>
      </node>
      <node id="207212">
        <label>AthContainers/AuxTypeRegistry.icc</label>
        <link refid="d8/df3/AuxTypeRegistry_8icc"/>
      </node>
      <node id="207290">
        <label>EventPrimitives/EventPrimitives.h</label>
        <link refid="d1/d54/EventPrimitives_8h_source"/>
        <childnode refid="207291" relation="include">
        </childnode>
        <childnode refid="207292" relation="include">
        </childnode>
        <childnode refid="207293" relation="include">
        </childnode>
      </node>
      <node id="207338">
        <label>xAODMissingET/versions/MissingETAuxContainer_v1.h</label>
        <link refid="d9/d36/MissingETAuxContainer__v1_8h_source"/>
        <childnode refid="207339" relation="include">
        </childnode>
        <childnode refid="207260" relation="include">
        </childnode>
        <childnode refid="207178" relation="include">
        </childnode>
        <childnode refid="207265" relation="include">
        </childnode>
      </node>
      <node id="207163">
        <label>boost/type_traits/remove_const.hpp</label>
      </node>
      <node id="207347">
        <label>xAODMuon/MuonContainer.h</label>
        <link refid="dc/dd9/MuonContainer_8h_source"/>
        <childnode refid="207348" relation="include">
        </childnode>
        <childnode refid="207369" relation="include">
        </childnode>
        <childnode refid="207263" relation="include">
        </childnode>
      </node>
      <node id="207165">
        <label>functional</label>
      </node>
      <node id="207221">
        <label>boost/version.hpp</label>
      </node>
      <node id="207162">
        <label>limits</label>
      </node>
      <node id="207383">
        <label>xAODEgamma/EgammaxAODHelpers.h</label>
        <link refid="d0/d71/EgammaxAODHelpers_8h_source"/>
        <childnode refid="207380" relation="include">
        </childnode>
        <childnode refid="207384" relation="include">
        </childnode>
        <childnode refid="207286" relation="include">
        </childnode>
        <childnode refid="207385" relation="include">
        </childnode>
        <childnode refid="207386" relation="include">
        </childnode>
        <childnode refid="207388" relation="include">
        </childnode>
        <childnode refid="207154" relation="include">
        </childnode>
        <childnode refid="207326" relation="include">
        </childnode>
        <childnode refid="207178" relation="include">
        </childnode>
      </node>
      <node id="207214">
        <label>SGTools/BaseInfo.h</label>
      </node>
      <node id="207346">
        <label>xAODCore/ShallowAuxInfo.h</label>
        <link refid="da/d3b/ShallowAuxInfo_8h_source"/>
        <childnode refid="207345" relation="include">
        </childnode>
        <childnode refid="207263" relation="include">
        </childnode>
        <childnode refid="207265" relation="include">
        </childnode>
      </node>
      <node id="207393">
        <label>xAODTruth/TruthVertexFwd.h</label>
        <link refid="d5/d1a/TruthVertexFwd_8h_source"/>
      </node>
      <node id="207319">
        <label>xAODBTagging/versions/BTaggingContainer_v1.h</label>
        <link refid="d9/d93/BTaggingContainer__v1_8h_source"/>
        <childnode refid="207151" relation="include">
        </childnode>
        <childnode refid="207283" relation="include">
        </childnode>
      </node>
      <node id="207192">
        <label>boost/thread/tss.hpp</label>
      </node>
      <node id="207145">
        <label>GaudiKernel/IAlgTool.h</label>
      </node>
      <node id="207262">
        <label>boost/tuple/tuple.hpp</label>
      </node>
      <node id="207159">
        <label>iterator</label>
      </node>
      <node id="207359">
        <label>xAODCaloEvent/versions/CaloClusterBadChannelData_v1.h</label>
        <link refid="d5/d3a/CaloClusterBadChannelData__v1_8h_source"/>
        <childnode refid="207356" relation="include">
        </childnode>
        <childnode refid="207178" relation="include">
        </childnode>
      </node>
      <node id="207339">
        <label>xAODCore/AuxContainerBase.h</label>
        <link refid="d0/d70/AuxContainerBase_8h_source"/>
        <childnode refid="207178" relation="include">
        </childnode>
        <childnode refid="207138" relation="include">
        </childnode>
        <childnode refid="207213" relation="include">
        </childnode>
        <childnode refid="207340" relation="include">
        </childnode>
        <childnode refid="207341" relation="include">
        </childnode>
        <childnode refid="207190" relation="include">
        </childnode>
        <childnode refid="207202" relation="include">
        </childnode>
        <childnode refid="207185" relation="include">
        </childnode>
        <childnode refid="207342" relation="include">
        </childnode>
        <childnode refid="207263" relation="include">
        </childnode>
        <childnode refid="207265" relation="include">
        </childnode>
      </node>
      <node id="207175">
        <label>AthContainersInterfaces/AuxDataOption.h</label>
        <link refid="d1/dc5/AuxDataOption_8h"/>
        <childnode refid="207138" relation="include">
        </childnode>
        <childnode refid="207176" relation="include">
        </childnode>
      </node>
      <node id="207278">
        <label>xAODJet/Jet.h</label>
        <link refid="da/db7/Jet_8h_source"/>
        <childnode refid="207279" relation="include">
        </childnode>
        <childnode refid="207263" relation="include">
        </childnode>
      </node>
      <node id="207341">
        <label>AthContainersInterfaces/IAuxStoreHolder.h</label>
        <link refid="d7/dab/IAuxStoreHolder_8h_source"/>
      </node>
      <node id="207271">
        <label>SGTools/ClassID_traits.h</label>
      </node>
      <node id="207361">
        <label>CaloEvent/CaloRecoStatus.h</label>
      </node>
      <node id="207317">
        <label>xAODBTagging/versions/BTagVertex_v1.h</label>
        <link refid="d6/df4/BTagVertex__v1_8h_source"/>
        <childnode refid="207215" relation="include">
        </childnode>
        <childnode refid="207274" relation="include">
        </childnode>
        <childnode refid="207254" relation="include">
        </childnode>
        <childnode refid="207150" relation="include">
        </childnode>
        <childnode refid="207285" relation="include">
        </childnode>
        <childnode refid="207302" relation="include">
        </childnode>
        <childnode refid="207301" relation="include">
        </childnode>
        <childnode refid="207280" relation="include">
        </childnode>
        <childnode refid="207178" relation="include">
        </childnode>
        <childnode refid="207138" relation="include">
        </childnode>
        <childnode refid="207174" relation="include">
        </childnode>
      </node>
      <node id="207325">
        <label>xAODJet/versions/JetContainer_v1.h</label>
        <link refid="df/d28/JetContainer__v1_8h_source"/>
        <childnode refid="207151" relation="include">
        </childnode>
        <childnode refid="207279" relation="include">
        </childnode>
      </node>
      <node id="207261">
        <label>xAODMissingET/versions/MissingETBase.h</label>
        <link refid="d4/da9/MissingETBase_8h_source"/>
        <childnode refid="207154" relation="include">
        </childnode>
        <childnode refid="207161" relation="include">
        </childnode>
        <childnode refid="207178" relation="include">
        </childnode>
        <childnode refid="207138" relation="include">
        </childnode>
        <childnode refid="207262" relation="include">
        </childnode>
      </node>
      <node id="207376">
        <label>CxxUtils/final.h</label>
        <link refid="da/d9b/final_8h"/>
      </node>
      <node id="207245">
        <label>SGTools/ClassName.h</label>
      </node>
      <node id="207394">
        <label>xAODTruth/versions/TruthParticleContainer_v1.h</label>
        <link refid="dd/d30/TruthParticleContainer__v1_8h_source"/>
        <childnode refid="207151" relation="include">
        </childnode>
        <childnode refid="207150" relation="include">
        </childnode>
        <childnode refid="207391" relation="include">
        </childnode>
        <childnode refid="207395" relation="include">
        </childnode>
      </node>
      <node id="207348">
        <label>xAODMuon/Muon.h</label>
        <link refid="d2/dfd/Muon_8h_source"/>
        <childnode refid="207349" relation="include">
        </childnode>
      </node>
      <node id="207251">
        <label>AthContainers/DataVector.icc</label>
        <link refid="da/de6/DataVector_8icc"/>
        <childnode refid="207252" relation="include">
        </childnode>
        <childnode refid="207219" relation="include">
        </childnode>
        <childnode refid="207162" relation="include">
        </childnode>
        <childnode refid="207165" relation="include">
        </childnode>
        <childnode refid="207253" relation="include">
        </childnode>
      </node>
      <node id="207152">
        <label>AthContainers/exceptions.h</label>
        <link refid="d4/d03/exceptions_8h"/>
        <childnode refid="207153" relation="include">
        </childnode>
        <childnode refid="207166" relation="include">
        </childnode>
        <childnode refid="207167" relation="include">
        </childnode>
        <childnode refid="207168" relation="include">
        </childnode>
        <childnode refid="207138" relation="include">
        </childnode>
      </node>
      <node id="207332">
        <label>xAODMissingET/MissingETComposition.h</label>
        <link refid="d1/d18/MissingETComposition_8h_source"/>
        <childnode refid="207269" relation="include">
        </childnode>
        <childnode refid="207259" relation="include">
        </childnode>
        <childnode refid="207333" relation="include">
        </childnode>
        <childnode refid="207335" relation="include">
        </childnode>
        <childnode refid="207267" relation="include">
        </childnode>
        <childnode refid="207266" relation="include">
        </childnode>
        <childnode refid="207278" relation="include">
        </childnode>
      </node>
      <node id="207177">
        <label>AthContainers/tools/AuxDataTraits.h</label>
        <link refid="d3/d5a/AuxDataTraits_8h"/>
        <childnode refid="207178" relation="include">
        </childnode>
        <childnode refid="207160" relation="include">
        </childnode>
      </node>
      <node id="207272">
        <label>AthContainers/ConstDataVector.icc</label>
        <link refid="d2/d61/ConstDataVector_8icc"/>
        <childnode refid="207273" relation="include">
        </childnode>
        <childnode refid="207165" relation="include">
        </childnode>
      </node>
      <node id="207180">
        <label>stdint.h</label>
      </node>
      <node id="207231">
        <label>AthContainers/tools/DVLCast.h</label>
        <link refid="df/d5c/DVLCast_8h"/>
        <childnode refid="207162" relation="include">
        </childnode>
        <childnode refid="207232" relation="include">
        </childnode>
        <childnode refid="207168" relation="include">
        </childnode>
        <childnode refid="207160" relation="include">
        </childnode>
        <childnode refid="207154" relation="include">
        </childnode>
      </node>
      <node id="207199">
        <label>AthContainersInterfaces/IAuxTypeVectorFactory.h</label>
        <link refid="d4/d2c/IAuxTypeVectorFactory_8h"/>
        <childnode refid="207154" relation="include">
        </childnode>
        <childnode refid="207168" relation="include">
        </childnode>
      </node>
      <node id="207170">
        <label>AthContainers/IndexTrackingPolicy.h</label>
        <link refid="d0/da5/IndexTrackingPolicy_8h"/>
      </node>
      <node id="207305">
        <label>Eigen/Geometry</label>
      </node>
      <node id="207340">
        <label>AthContainersInterfaces/IAuxStoreIO.h</label>
        <link refid="d9/db5/IAuxStoreIO_8h"/>
        <childnode refid="207153" relation="include">
        </childnode>
        <childnode refid="207168" relation="include">
        </childnode>
        <childnode refid="207326" relation="include">
        </childnode>
        <childnode refid="207174" relation="include">
        </childnode>
      </node>
      <node id="207183">
        <label>RVersion.h</label>
      </node>
      <node id="207370">
        <label>xAODEgamma/ElectronContainer.h</label>
        <link refid="df/dea/ElectronContainer_8h_source"/>
        <childnode refid="207371" relation="include">
        </childnode>
        <childnode refid="207377" relation="include">
        </childnode>
        <childnode refid="207263" relation="include">
        </childnode>
      </node>
      <node id="207380">
        <label>xAODEgamma/EgammaFwd.h</label>
        <link refid="dc/d0f/EgammaFwd_8h_source"/>
      </node>
      <node id="207155">
        <label>CxxUtils/unordered_set.h</label>
        <link refid="df/d26/unordered__set_8h"/>
        <childnode refid="207156" relation="include">
        </childnode>
        <childnode refid="207164" relation="include">
        </childnode>
        <childnode refid="207165" relation="include">
        </childnode>
      </node>
      <node id="207362">
        <label>xAODCaloEvent/versions/CaloClusterContainer_v1.h</label>
        <link refid="d8/dda/CaloClusterContainer__v1_8h_source"/>
        <childnode refid="207151" relation="include">
        </childnode>
        <childnode refid="207150" relation="include">
        </childnode>
        <childnode refid="207355" relation="include">
        </childnode>
      </node>
      <node id="207161">
        <label>cmath</label>
      </node>
      <node id="207218">
        <label>cassert</label>
      </node>
      <node id="207222">
        <label>boost/mpl/if.hpp</label>
      </node>
      <node id="207241">
        <label>boost/static_assert.hpp</label>
      </node>
      <node id="207273">
        <label>boost/iterator/transform_iterator.hpp</label>
      </node>
      <node id="207364">
        <label>xAODMuon/MuonSegment.h</label>
        <link refid="de/d5b/MuonSegment_8h_source"/>
        <childnode refid="207365" relation="include">
        </childnode>
      </node>
      <node id="207167">
        <label>stdexcept</label>
      </node>
      <node id="207258">
        <label>xAODMissingET/MissingETContainer.h</label>
        <link refid="d5/d10/MissingETContainer_8h_source"/>
        <childnode refid="207259" relation="include">
        </childnode>
        <childnode refid="207264" relation="include">
        </childnode>
        <childnode refid="207263" relation="include">
        </childnode>
      </node>
      <node id="207146">
        <label>AsgTools/MsgLevel.h</label>
        <link refid="de/d80/MsgLevel_8h"/>
        <childnode refid="207138" relation="include">
        </childnode>
        <childnode refid="207140" relation="include">
        </childnode>
        <childnode refid="207147" relation="include">
        </childnode>
      </node>
      <node id="207195">
        <label>boost/thread/thread.hpp</label>
      </node>
      <node id="207292">
        <label>Eigen/Core</label>
      </node>
      <node id="207228">
        <label>boost/type_traits/is_pointer.hpp</label>
      </node>
      <node id="207294">
        <label>xAODTracking/VertexContainerFwd.h</label>
        <link refid="d0/dc4/VertexContainerFwd_8h_source"/>
        <childnode refid="207151" relation="include">
        </childnode>
        <childnode refid="207295" relation="include">
        </childnode>
      </node>
      <node id="207299">
        <label>xAODTracking/TrackParticleContainerFwd.h</label>
        <link refid="de/dea/TrackParticleContainerFwd_8h_source"/>
        <childnode refid="207151" relation="include">
        </childnode>
        <childnode refid="207150" relation="include">
        </childnode>
        <childnode refid="207300" relation="include">
        </childnode>
      </node>
      <node id="207236">
        <label>boost/iterator/iterator_adaptor.hpp</label>
      </node>
      <node id="207255">
        <label>TLorentzVector.h</label>
      </node>
      <node id="207387">
        <label>xAODEgamma/PhotonFwd.h</label>
        <link refid="dd/d2c/PhotonFwd_8h_source"/>
      </node>
      <node id="207391">
        <label>xAODTruth/versions/TruthParticle_v1.h</label>
        <link refid="d3/d3b/TruthParticle__v1_8h_source"/>
        <childnode refid="207274" relation="include">
        </childnode>
        <childnode refid="207254" relation="include">
        </childnode>
        <childnode refid="207256" relation="include">
        </childnode>
        <childnode refid="207392" relation="include">
        </childnode>
      </node>
      <node id="207140">
        <label>AsgTools/AsgToolsConf.h</label>
        <link refid="df/db7/AsgToolsConf_8h_source"/>
      </node>
      <node id="207356">
        <label>CaloGeoHelpers/CaloSampling.h</label>
        <link refid="d7/d85/CaloSampling_8h_source"/>
        <childnode refid="207138" relation="include">
        </childnode>
        <childnode refid="207357" relation="include">
        </childnode>
      </node>
      <node id="207138">
        <label>string</label>
      </node>
      <node id="207172">
        <label>AthContainers/AuxVectorData.h</label>
        <link refid="d9/df2/AuxVectorData_8h"/>
        <childnode refid="207153" relation="include">
        </childnode>
        <childnode refid="207173" relation="include">
        </childnode>
        <childnode refid="207175" relation="include">
        </childnode>
        <childnode refid="207177" relation="include">
        </childnode>
        <childnode refid="207179" relation="include">
        </childnode>
        <childnode refid="207185" relation="include">
        </childnode>
        <childnode refid="207186" relation="include">
        </childnode>
        <childnode refid="207187" relation="include">
        </childnode>
        <childnode refid="207178" relation="include">
        </childnode>
        <childnode refid="207158" relation="include">
        </childnode>
        <childnode refid="207160" relation="include">
        </childnode>
        <childnode refid="207188" relation="include">
        </childnode>
        <childnode refid="207189" relation="include">
        </childnode>
        <childnode refid="207190" relation="include">
        </childnode>
        <childnode refid="207196" relation="include">
        </childnode>
      </node>
      <node id="207198">
        <label>AthContainersInterfaces/IAuxTypeVector.h</label>
        <link refid="d8/d0e/IAuxTypeVector_8h"/>
        <childnode refid="207154" relation="include">
        </childnode>
        <childnode refid="207168" relation="include">
        </childnode>
      </node>
      <node id="207344">
        <label>CxxUtils/make_unique.h</label>
        <link refid="d3/d77/make__unique_8h"/>
      </node>
      <node id="207287">
        <label>versions/TrackParticle_v1.h</label>
        <link refid="d2/d7f/TrackParticle__v1_8h_source"/>
        <childnode refid="207288" relation="include">
        </childnode>
        <childnode refid="207180" relation="include">
        </childnode>
        <childnode refid="207274" relation="include">
        </childnode>
        <childnode refid="207151" relation="include">
        </childnode>
        <childnode refid="207254" relation="include">
        </childnode>
        <childnode refid="207289" relation="include">
        </childnode>
        <childnode refid="207294" relation="include">
        </childnode>
        <childnode refid="207296" relation="include">
        </childnode>
        <childnode refid="207297" relation="include">
        </childnode>
      </node>
      <node id="207188">
        <label>AthContainers/tools/likely.h</label>
        <link refid="d6/dd6/likely_8h"/>
      </node>
      <node id="207368">
        <label>xAODMuon/versions/MuonSegmentContainer_v1.h</label>
        <link refid="dd/dcd/MuonSegmentContainer__v1_8h_source"/>
        <childnode refid="207151" relation="include">
        </childnode>
        <childnode refid="207365" relation="include">
        </childnode>
      </node>
      <node id="207328">
        <label>InDetTrackSelectionTool/IInDetTrackSelectionTool.h</label>
        <link refid="d2/d36/IInDetTrackSelectionTool_8h_source"/>
        <childnode refid="207329" relation="include">
        </childnode>
        <childnode refid="207286" relation="include">
        </childnode>
        <childnode refid="207302" relation="include">
        </childnode>
        <childnode refid="207296" relation="include">
        </childnode>
      </node>
      <node id="207283">
        <label>xAODBTagging/versions/BTagging_v1.h</label>
        <link refid="dc/da1/BTagging__v1_8h_source"/>
        <childnode refid="207215" relation="include">
        </childnode>
        <childnode refid="207274" relation="include">
        </childnode>
        <childnode refid="207284" relation="include">
        </childnode>
        <childnode refid="207285" relation="include">
        </childnode>
        <childnode refid="207301" relation="include">
        </childnode>
        <childnode refid="207315" relation="include">
        </childnode>
        <childnode refid="207280" relation="include">
        </childnode>
        <childnode refid="207178" relation="include">
        </childnode>
        <childnode refid="207138" relation="include">
        </childnode>
        <childnode refid="207243" relation="include">
        </childnode>
        <childnode refid="207174" relation="include">
        </childnode>
      </node>
      <node id="207279">
        <label>xAODJet/versions/Jet_v1.h</label>
        <link refid="df/d71/Jet__v1_8h_source"/>
        <childnode refid="207280" relation="include">
        </childnode>
        <childnode refid="207274" relation="include">
        </childnode>
        <childnode refid="207254" relation="include">
        </childnode>
        <childnode refid="207150" relation="include">
        </childnode>
        <childnode refid="207281" relation="include">
        </childnode>
        <childnode refid="207320" relation="include">
        </childnode>
        <childnode refid="207323" relation="include">
        </childnode>
        <childnode refid="207321" relation="include">
        </childnode>
        <childnode refid="207324" relation="include">
        </childnode>
      </node>
      <node id="207371">
        <label>xAODEgamma/Electron.h</label>
        <link refid="dc/db4/Electron_8h_source"/>
        <childnode refid="207372" relation="include">
        </childnode>
      </node>
      <node id="207233">
        <label>AthContainers/tools/DVLIterator.h</label>
        <link refid="d3/dc7/DVLIterator_8h_source"/>
        <childnode refid="207169" relation="include">
        </childnode>
        <childnode refid="207231" relation="include">
        </childnode>
        <childnode refid="207234" relation="include">
        </childnode>
        <childnode refid="207236" relation="include">
        </childnode>
        <childnode refid="207221" relation="include">
        </childnode>
        <childnode refid="207159" relation="include">
        </childnode>
        <childnode refid="207160" relation="include">
        </childnode>
      </node>
      <node id="207247">
        <label>SGTools/DataBucket.h</label>
      </node>
      <node id="207351">
        <label>xAODPrimitives/IsolationType.h</label>
        <link refid="d2/d36/IsolationType_8h_source"/>
      </node>
      <node id="207280">
        <label>map</label>
      </node>
      <node id="207395">
        <label>xAODTruth/TruthParticleContainerFwd.h</label>
        <link refid="dd/d8f/TruthParticleContainerFwd_8h_source"/>
        <childnode refid="207151" relation="include">
        </childnode>
        <childnode refid="207150" relation="include">
        </childnode>
        <childnode refid="207396" relation="include">
        </childnode>
      </node>
      <node id="207248">
        <label>AthContainers/tools/DVLDataBucket.icc</label>
        <link refid="d3/d21/DVLDataBucket_8icc"/>
        <childnode refid="207249" relation="include">
        </childnode>
      </node>
      <node id="207350">
        <label>xAODPrimitives/IsolationCorrection.h</label>
        <link refid="d3/de5/xAODPrimitives_2xAODPrimitives_2IsolationCorrection_8h_source"/>
        <childnode refid="207288" relation="include">
        </childnode>
        <childnode refid="207178" relation="include">
        </childnode>
      </node>
      <node id="207337">
        <label>xAODMissingET/MissingETAuxContainer.h</label>
        <link refid="dd/db4/MissingETAuxContainer_8h_source"/>
        <childnode refid="207259" relation="include">
        </childnode>
        <childnode refid="207338" relation="include">
        </childnode>
        <childnode refid="207263" relation="include">
        </childnode>
      </node>
      <node id="207249">
        <label>SGTools/IRegisterTransient.h</label>
      </node>
      <node id="207184">
        <label>RootMetaSelection.h</label>
      </node>
      <node id="207208">
        <label>AthContainers/tools/AuxTypeVector.icc</label>
        <link refid="d5/d84/AuxTypeVector_8icc"/>
      </node>
      <node id="207381">
        <label>xAODEgamma/ElectronContainerFwd.h</label>
        <link refid="de/d36/ElectronContainerFwd_8h_source"/>
        <childnode refid="207151" relation="include">
        </childnode>
        <childnode refid="207382" relation="include">
        </childnode>
        <childnode refid="207379" relation="include">
        </childnode>
      </node>
      <node id="207306">
        <label>VxVertex/VxTrackAtVertex.h</label>
      </node>
      <node id="207238">
        <label>AthContainers/tools/DVL_algorithms.h</label>
        <link refid="d0/d7a/DVL__algorithms_8h"/>
        <childnode refid="207233" relation="include">
        </childnode>
        <childnode refid="207159" relation="include">
        </childnode>
        <childnode refid="207157" relation="include">
        </childnode>
        <childnode refid="207239" relation="include">
        </childnode>
      </node>
      <node id="207136">
        <label>/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/METUtilities/Root/METMaker.cxx</label>
        <link refid="METMaker.cxx"/>
        <childnode refid="207137" relation="include">
        </childnode>
        <childnode refid="207258" relation="include">
        </childnode>
        <childnode refid="207332" relation="include">
        </childnode>
        <childnode refid="207337" relation="include">
        </childnode>
        <childnode refid="207266" relation="include">
        </childnode>
        <childnode refid="207323" relation="include">
        </childnode>
        <childnode refid="207286" relation="include">
        </childnode>
        <childnode refid="207301" relation="include">
        </childnode>
        <childnode refid="207343" relation="include">
        </childnode>
        <childnode refid="207347" relation="include">
        </childnode>
        <childnode refid="207370" relation="include">
        </childnode>
        <childnode refid="207383" relation="include">
        </childnode>
      </node>
      <node id="207388">
        <label>xAODEgamma/EgammaTruthxAODHelpers.h</label>
        <link refid="d0/d59/EgammaTruthxAODHelpers_8h_source"/>
        <childnode refid="207380" relation="include">
        </childnode>
        <childnode refid="207382" relation="include">
        </childnode>
        <childnode refid="207387" relation="include">
        </childnode>
        <childnode refid="207300" relation="include">
        </childnode>
        <childnode refid="207389" relation="include">
        </childnode>
        <childnode refid="207390" relation="include">
        </childnode>
        <childnode refid="207154" relation="include">
        </childnode>
        <childnode refid="207326" relation="include">
        </childnode>
      </node>
      <node id="207189">
        <label>AthContainers/tools/assume.h</label>
        <link refid="d2/d20/assume_8h"/>
      </node>
      <node id="207365">
        <label>versions/MuonSegment_v1.h</label>
        <link refid="df/d0d/MuonSegment__v1_8h_source"/>
        <childnode refid="207215" relation="include">
        </childnode>
        <childnode refid="207274" relation="include">
        </childnode>
        <childnode refid="207366" relation="include">
        </childnode>
        <childnode refid="207367" relation="include">
        </childnode>
      </node>
      <node id="207322">
        <label>Math/Vector4D.h</label>
      </node>
      <node id="207205">
        <label>AthContainers/PackedContainer.icc</label>
        <link refid="d1/d0c/PackedContainer_8icc"/>
      </node>
      <node id="207327">
        <label>xAODMissingET/versions/MissingETAssociationMap_v1.h</label>
        <link refid="d9/da7/MissingETAssociationMap__v1_8h_source"/>
        <childnode refid="207151" relation="include">
        </childnode>
        <childnode refid="207278" relation="include">
        </childnode>
        <childnode refid="207268" relation="include">
        </childnode>
        <childnode refid="207138" relation="include">
        </childnode>
        <childnode refid="207178" relation="include">
        </childnode>
        <childnode refid="207280" relation="include">
        </childnode>
        <childnode refid="207243" relation="include">
        </childnode>
        <childnode refid="207265" relation="include">
        </childnode>
      </node>
      <node id="207301">
        <label>xAODTracking/VertexContainer.h</label>
        <link refid="d6/dd8/VertexContainer_8h_source"/>
        <childnode refid="207302" relation="include">
        </childnode>
        <childnode refid="207314" relation="include">
        </childnode>
        <childnode refid="207263" relation="include">
        </childnode>
      </node>
      <node id="207234">
        <label>AthContainers/tools/ElementProxy.h</label>
        <link refid="db/d26/ElementProxy_8h"/>
        <childnode refid="207169" relation="include">
        </childnode>
        <childnode refid="207182" relation="include">
        </childnode>
        <childnode refid="207164" relation="include">
        </childnode>
        <childnode refid="207235" relation="include">
        </childnode>
      </node>
      <node id="207216">
        <label>AthContainersInterfaces/IAuxElement.h</label>
        <link refid="dd/d7a/IAuxElement_8h"/>
      </node>
      <node id="207147">
        <label>GaudiKernel/IMessageSvc.h</label>
      </node>
      <node id="207182">
        <label>AthLinks/tools/selection_ns.h</label>
        <link refid="d3/dec/selection__ns_8h"/>
        <childnode refid="207183" relation="include">
        </childnode>
        <childnode refid="207184" relation="include">
        </childnode>
      </node>
      <node id="207186">
        <label>AthenaKernel/IThinningSvc.h</label>
      </node>
      <node id="207193">
        <label>boost/atomic.hpp</label>
      </node>
      <node id="207366">
        <label>MuonIdHelpers/MuonStationIndex.h</label>
        <link refid="d5/d3f/MuonStationIndex_8h_source"/>
        <childnode refid="207138" relation="include">
        </childnode>
        <childnode refid="207178" relation="include">
        </childnode>
      </node>
      <node id="207300">
        <label>xAODTracking/TrackParticleFwd.h</label>
        <link refid="d1/dc4/TrackParticleFwd_8h_source"/>
      </node>
      <node id="207284">
        <label>xAODBTagging/BTaggingEnums.h</label>
        <link refid="dd/de5/BTaggingEnums_8h_source"/>
      </node>
      <node id="207232">
        <label>limits.h</label>
      </node>
      <node id="207363">
        <label>xAODMuon/MuonSegmentContainer.h</label>
        <link refid="d5/d26/MuonSegmentContainer_8h_source"/>
        <childnode refid="207364" relation="include">
        </childnode>
        <childnode refid="207368" relation="include">
        </childnode>
        <childnode refid="207263" relation="include">
        </childnode>
      </node>
      <node id="207378">
        <label>xAODEgamma/versions/EgammaContainer_v1.h</label>
        <link refid="d0/d71/EgammaContainer__v1_8h_source"/>
        <childnode refid="207151" relation="include">
        </childnode>
        <childnode refid="207150" relation="include">
        </childnode>
        <childnode refid="207373" relation="include">
        </childnode>
        <childnode refid="207379" relation="include">
        </childnode>
      </node>
      <node id="207226">
        <label>AthContainers/tools/ClassID.h</label>
        <link refid="de/de2/ClassID_8h"/>
        <childnode refid="207227" relation="include">
        </childnode>
      </node>
      <node id="207349">
        <label>versions/Muon_v1.h</label>
        <link refid="da/dde/Muon__v1_8h_source"/>
        <childnode refid="207215" relation="include">
        </childnode>
        <childnode refid="207274" relation="include">
        </childnode>
        <childnode refid="207350" relation="include">
        </childnode>
        <childnode refid="207351" relation="include">
        </childnode>
        <childnode refid="207352" relation="include">
        </childnode>
        <childnode refid="207254" relation="include">
        </childnode>
        <childnode refid="207289" relation="include">
        </childnode>
        <childnode refid="207285" relation="include">
        </childnode>
        <childnode refid="207353" relation="include">
        </childnode>
        <childnode refid="207363" relation="include">
        </childnode>
        <childnode refid="207288" relation="include">
        </childnode>
        <childnode refid="207180" relation="include">
        </childnode>
        <childnode refid="207263" relation="include">
        </childnode>
        <childnode refid="207151" relation="include">
        </childnode>
      </node>
      <node id="207314">
        <label>xAODTracking/versions/VertexContainer_v1.h</label>
        <link refid="d2/dda/VertexContainer__v1_8h_source"/>
        <childnode refid="207151" relation="include">
        </childnode>
        <childnode refid="207303" relation="include">
        </childnode>
      </node>
      <node id="207203">
        <label>AthContainers/PackedParameters.h</label>
        <link refid="d4/d43/PackedParameters_8h"/>
        <childnode refid="207175" relation="include">
        </childnode>
        <childnode refid="207162" relation="include">
        </childnode>
        <childnode refid="207180" relation="include">
        </childnode>
        <childnode refid="207204" relation="include">
        </childnode>
      </node>
      <node id="207141">
        <label>GaudiKernel/ToolHandle.h</label>
      </node>
      <node id="207153">
        <label>AthContainersInterfaces/AuxTypes.h</label>
        <link refid="d1/dea/AuxTypes_8h"/>
        <childnode refid="207154" relation="include">
        </childnode>
        <childnode refid="207155" relation="include">
        </childnode>
      </node>
      <node id="207379">
        <label>xAODEgamma/EgammaContainerFwd.h</label>
        <link refid="d3/d76/EgammaContainerFwd_8h_source"/>
        <childnode refid="207151" relation="include">
        </childnode>
        <childnode refid="207150" relation="include">
        </childnode>
        <childnode refid="207380" relation="include">
        </childnode>
      </node>
      <node id="207275">
        <label>AthLinks/ElementLinkBase.h</label>
        <link refid="d0/d16/ElementLinkBase_8h_source"/>
        <childnode refid="207180" relation="include">
        </childnode>
      </node>
      <node id="207293">
        <label>Eigen/Dense</label>
      </node>
      <node id="207156">
        <label>CxxUtils/hashtable.h</label>
        <link refid="dd/d16/hashtable_8h"/>
        <childnode refid="207157" relation="include">
        </childnode>
        <childnode refid="207158" relation="include">
        </childnode>
        <childnode refid="207159" relation="include">
        </childnode>
        <childnode refid="207154" relation="include">
        </childnode>
        <childnode refid="207160" relation="include">
        </childnode>
        <childnode refid="207161" relation="include">
        </childnode>
        <childnode refid="207162" relation="include">
        </childnode>
        <childnode refid="207138" relation="include">
        </childnode>
        <childnode refid="207163" relation="include">
        </childnode>
      </node>
      <node id="207219">
        <label>AthContainers/tools/ATHCONTAINERS_ASSERT.h</label>
        <link refid="de/d6b/ATHCONTAINERS__ASSERT_8h"/>
        <childnode refid="207218" relation="include">
        </childnode>
      </node>
      <node id="207254">
        <label>xAODBase/IParticle.h</label>
        <link refid="d5/dac/IParticle_8h_source"/>
        <childnode refid="207255" relation="include">
        </childnode>
        <childnode refid="207215" relation="include">
        </childnode>
        <childnode refid="207256" relation="include">
        </childnode>
        <childnode refid="207214" relation="include">
        </childnode>
      </node>
      <node id="207384">
        <label>xAODCaloEvent/CaloClusterFwd.h</label>
        <link refid="d9/d35/CaloClusterFwd_8h_source"/>
      </node>
      <node id="207256">
        <label>ObjectType.h</label>
        <link refid="d8/d04/ObjectType_8h_source"/>
        <childnode refid="207257" relation="include">
        </childnode>
      </node>
      <node id="207355">
        <label>xAODCaloEvent/versions/CaloCluster_v1.h</label>
        <link refid="dc/d4b/CaloCluster__v1_8h_source"/>
        <childnode refid="207180" relation="include">
        </childnode>
        <childnode refid="207288" relation="include">
        </childnode>
        <childnode refid="207254" relation="include">
        </childnode>
        <childnode refid="207356" relation="include">
        </childnode>
        <childnode refid="207358" relation="include">
        </childnode>
        <childnode refid="207274" relation="include">
        </childnode>
        <childnode refid="207360" relation="include">
        </childnode>
        <childnode refid="207361" relation="include">
        </childnode>
      </node>
      <node id="207323">
        <label>xAODJet/JetAttributes.h</label>
        <link refid="d3/df8/JetAttributes_8h"/>
      </node>
      <node id="207235">
        <label>AthContainers/tools/ElementProxy.icc</label>
        <link refid="d6/d70/ElementProxy_8icc"/>
        <childnode refid="207231" relation="include">
        </childnode>
        <childnode refid="207219" relation="include">
        </childnode>
      </node>
      <node id="207372">
        <label>xAODEgamma/versions/Electron_v1.h</label>
        <link refid="df/d27/Electron__v1_8h_source"/>
        <childnode refid="207274" relation="include">
        </childnode>
        <childnode refid="207373" relation="include">
        </childnode>
        <childnode refid="207375" relation="include">
        </childnode>
        <childnode refid="207289" relation="include">
        </childnode>
        <childnode refid="207286" relation="include">
        </childnode>
        <childnode refid="207285" relation="include">
        </childnode>
        <childnode refid="207376" relation="include">
        </childnode>
        <childnode refid="207187" relation="include">
        </childnode>
      </node>
      <node id="207168">
        <label>typeinfo</label>
      </node>
      <node id="207289">
        <label>xAODTracking/TrackingPrimitives.h</label>
        <link refid="d2/d4c/TrackingPrimitives_8h_source"/>
        <childnode refid="207290" relation="include">
        </childnode>
      </node>
      <node id="207217">
        <label>AthContainers/AuxElement.icc</label>
        <link refid="d2/d37/AuxElement_8icc"/>
        <childnode refid="207188" relation="include">
        </childnode>
        <childnode refid="207218" relation="include">
        </childnode>
      </node>
      <node id="207354">
        <label>xAODCaloEvent/CaloCluster.h</label>
        <link refid="db/d88/CaloCluster_8h_source"/>
        <childnode refid="207355" relation="include">
        </childnode>
        <childnode refid="207263" relation="include">
        </childnode>
      </node>
      <node id="207151">
        <label>AthContainers/DataVector.h</label>
        <link refid="d7/dd6/DataVector_8h"/>
        <childnode refid="207152" relation="include">
        </childnode>
        <childnode refid="207169" relation="include">
        </childnode>
        <childnode refid="207170" relation="include">
        </childnode>
        <childnode refid="207171" relation="include">
        </childnode>
        <childnode refid="207224" relation="include">
        </childnode>
        <childnode refid="207225" relation="include">
        </childnode>
        <childnode refid="207231" relation="include">
        </childnode>
        <childnode refid="207233" relation="include">
        </childnode>
        <childnode refid="207237" relation="include">
        </childnode>
        <childnode refid="207238" relation="include">
        </childnode>
        <childnode refid="207234" relation="include">
        </childnode>
        <childnode refid="207240" relation="include">
        </childnode>
        <childnode refid="207182" relation="include">
        </childnode>
        <childnode refid="207241" relation="include">
        </childnode>
        <childnode refid="207242" relation="include">
        </childnode>
        <childnode refid="207236" relation="include">
        </childnode>
        <childnode refid="207178" relation="include">
        </childnode>
        <childnode refid="207168" relation="include">
        </childnode>
        <childnode refid="207165" relation="include">
        </childnode>
        <childnode refid="207243" relation="include">
        </childnode>
        <childnode refid="207157" relation="include">
        </childnode>
        <childnode refid="207167" relation="include">
        </childnode>
        <childnode refid="207159" relation="include">
        </childnode>
        <childnode refid="207214" relation="include">
        </childnode>
        <childnode refid="207244" relation="include">
        </childnode>
        <childnode refid="207246" relation="include">
        </childnode>
        <childnode refid="207250" relation="include">
        </childnode>
        <childnode refid="207251" relation="include">
        </childnode>
      </node>
      <node id="207308">
        <label>xAODTracking/NeutralParticle.h</label>
        <link refid="d4/daa/NeutralParticle_8h_source"/>
        <childnode refid="207309" relation="include">
        </childnode>
        <childnode refid="207263" relation="include">
        </childnode>
      </node>
      <node id="207288">
        <label>bitset</label>
      </node>
      <node id="207204">
        <label>AthContainers/PackedParameters.icc</label>
        <link refid="db/d30/PackedParameters_8icc"/>
      </node>
      <node id="207276">
        <label>AthLinks/tools/TypeTools.h</label>
        <link refid="dd/db1/TypeTools_8h_source"/>
      </node>
      <node id="207149">
        <label>METInterface/IMETMaker.h</label>
        <link refid="d0/dd7/IMETMaker_8h_source"/>
        <childnode refid="207143" relation="include">
        </childnode>
        <childnode refid="207150" relation="include">
        </childnode>
        <childnode refid="207258" relation="include">
        </childnode>
        <childnode refid="207266" relation="include">
        </childnode>
        <childnode refid="207277" relation="include">
        </childnode>
      </node>
      <node id="207185">
        <label>AthenaKernel/ILockable.h</label>
      </node>
      <node id="207181">
        <label>AthLinks/DataLinkBase.h</label>
        <link refid="db/da8/DataLinkBase_8h_source"/>
        <childnode refid="207180" relation="include">
        </childnode>
      </node>
      <node id="207303">
        <label>xAODTracking/versions/Vertex_v1.h</label>
        <link refid="d7/dcc/Vertex__v1_8h_source"/>
        <childnode refid="207178" relation="include">
        </childnode>
        <childnode refid="207215" relation="include">
        </childnode>
        <childnode refid="207274" relation="include">
        </childnode>
        <childnode refid="207290" relation="include">
        </childnode>
        <childnode refid="207304" relation="include">
        </childnode>
        <childnode refid="207306" relation="include">
        </childnode>
        <childnode refid="207289" relation="include">
        </childnode>
        <childnode refid="207299" relation="include">
        </childnode>
        <childnode refid="207307" relation="include">
        </childnode>
        <childnode refid="207256" relation="include">
        </childnode>
        <childnode refid="207265" relation="include">
        </childnode>
      </node>
      <node id="207176">
        <label>AthContainersInterfaces/AuxDataOption.icc</label>
        <link refid="db/d68/AuxDataOption_8icc"/>
      </node>
      <node id="207207">
        <label>boost/type_traits/is_arithmetic.hpp</label>
      </node>
      <node id="207225">
        <label>AthContainers/tools/DVLInfo.h</label>
        <link refid="d3/d2e/DVLInfo_8h"/>
        <childnode refid="207226" relation="include">
        </childnode>
        <childnode refid="207171" relation="include">
        </childnode>
        <childnode refid="207168" relation="include">
        </childnode>
        <childnode refid="207154" relation="include">
        </childnode>
        <childnode refid="207163" relation="include">
        </childnode>
        <childnode refid="207228" relation="include">
        </childnode>
        <childnode refid="207206" relation="include">
        </childnode>
        <childnode refid="207229" relation="include">
        </childnode>
      </node>
      <node id="207174">
        <label>SGTools/CLASS_DEF.h</label>
      </node>
      <node id="207291">
        <label>unistd.h</label>
      </node>
      <node id="207244">
        <label>AthContainers/ClassName.h</label>
        <link refid="dd/d6b/AthContainers_2AthContainers_2ClassName_8h_source"/>
        <childnode refid="207245" relation="include">
        </childnode>
      </node>
      <node id="207197">
        <label>AthContainers/AuxTypeRegistry.h</label>
        <link refid="db/d7f/AuxTypeRegistry_8h"/>
        <childnode refid="207153" relation="include">
        </childnode>
        <childnode refid="207198" relation="include">
        </childnode>
        <childnode refid="207199" relation="include">
        </childnode>
        <childnode refid="207200" relation="include">
        </childnode>
        <childnode refid="207209" relation="include">
        </childnode>
        <childnode refid="207190" relation="include">
        </childnode>
        <childnode refid="207154" relation="include">
        </childnode>
        <childnode refid="207168" relation="include">
        </childnode>
        <childnode refid="207178" relation="include">
        </childnode>
        <childnode refid="207211" relation="include">
        </childnode>
        <childnode refid="207212" relation="include">
        </childnode>
      </node>
      <node id="207178">
        <label>vector</label>
      </node>
      <node id="207150">
        <label>xAODBase/IParticleContainer.h</label>
        <link refid="dd/d2d/IParticleContainer_8h_source"/>
        <childnode refid="207151" relation="include">
        </childnode>
        <childnode refid="207254" relation="include">
        </childnode>
        <childnode refid="207174" relation="include">
        </childnode>
      </node>
      <node id="207252">
        <label>AthContainers/tools/CompareAndPrint.h</label>
        <link refid="d5/da8/CompareAndPrint_8h_source"/>
        <childnode refid="207157" relation="include">
        </childnode>
        <childnode refid="207168" relation="include">
        </childnode>
      </node>
      <node id="207268">
        <label>xAODMissingET/versions/MissingETAssociation_v1.h</label>
        <link refid="d4/dd5/MissingETAssociation__v1_8h_source"/>
        <childnode refid="207215" relation="include">
        </childnode>
        <childnode refid="207254" relation="include">
        </childnode>
        <childnode refid="207150" relation="include">
        </childnode>
        <childnode refid="207269" relation="include">
        </childnode>
        <childnode refid="207260" relation="include">
        </childnode>
        <childnode refid="207178" relation="include">
        </childnode>
        <childnode refid="207326" relation="include">
        </childnode>
      </node>
      <node id="207302">
        <label>xAODTracking/Vertex.h</label>
        <link refid="d9/d2d/Vertex_8h_source"/>
        <childnode refid="207303" relation="include">
        </childnode>
      </node>
      <node id="207311">
        <label>xAODTracking/versions/NeutralParticleContainer_v1.h</label>
        <link refid="d6/d5f/NeutralParticleContainer__v1_8h_source"/>
        <childnode refid="207180" relation="include">
        </childnode>
        <childnode refid="207151" relation="include">
        </childnode>
        <childnode refid="207309" relation="include">
        </childnode>
        <childnode refid="207312" relation="include">
        </childnode>
      </node>
      <node id="207324">
        <label>xAODJet/JetContainerInfo.h</label>
        <link refid="d8/d2a/JetContainerInfo_8h_source"/>
        <childnode refid="207138" relation="include">
        </childnode>
      </node>
      <node id="207343">
        <label>xAODCore/ShallowCopy.h</label>
        <link refid="d8/d71/ShallowCopy_8h_source"/>
        <childnode refid="207280" relation="include">
        </childnode>
        <childnode refid="207243" relation="include">
        </childnode>
        <childnode refid="207344" relation="include">
        </childnode>
        <childnode refid="207179" relation="include">
        </childnode>
        <childnode refid="207173" relation="include">
        </childnode>
        <childnode refid="207345" relation="include">
        </childnode>
        <childnode refid="207346" relation="include">
        </childnode>
      </node>
      <node id="207270">
        <label>AthContainers/ConstDataVector.h</label>
        <link refid="d2/d0d/ConstDataVector_8h"/>
        <childnode refid="207151" relation="include">
        </childnode>
        <childnode refid="207271" relation="include">
        </childnode>
        <childnode refid="207272" relation="include">
        </childnode>
      </node>
      <node id="207253">
        <label>AthContainers/tools/DVLEltBaseInfo.icc</label>
        <link refid="dd/d5e/DVLEltBaseInfo_8icc"/>
      </node>
      <node id="207281">
        <label>xAODBTagging/BTaggingContainer.h</label>
        <link refid="d8/d3b/BTaggingContainer_8h_source"/>
        <childnode refid="207282" relation="include">
        </childnode>
        <childnode refid="207319" relation="include">
        </childnode>
        <childnode refid="207263" relation="include">
        </childnode>
      </node>
      <node id="207358">
        <label>xAODCaloEvent/CaloClusterBadChannelData.h</label>
        <link refid="d1/d93/CaloClusterBadChannelData_8h_source"/>
        <childnode refid="207359" relation="include">
        </childnode>
      </node>
      <node id="207158">
        <label>utility</label>
      </node>
      <node id="207250">
        <label>SGTools/DataBucketTraitFwd.h</label>
      </node>
      <node id="207187">
        <label>CxxUtils/override.h</label>
        <link refid="de/d0e/override_8h"/>
      </node>
      <node id="207373">
        <label>xAODEgamma/versions/Egamma_v1.h</label>
        <link refid="d9/d42/Egamma__v1_8h_source"/>
        <childnode refid="207274" relation="include">
        </childnode>
        <childnode refid="207254" relation="include">
        </childnode>
        <childnode refid="207374" relation="include">
        </childnode>
        <childnode refid="207375" relation="include">
        </childnode>
        <childnode refid="207354" relation="include">
        </childnode>
        <childnode refid="207353" relation="include">
        </childnode>
        <childnode refid="207350" relation="include">
        </childnode>
        <childnode refid="207351" relation="include">
        </childnode>
        <childnode refid="207352" relation="include">
        </childnode>
        <childnode refid="207290" relation="include">
        </childnode>
        <childnode refid="207376" relation="include">
        </childnode>
        <childnode refid="207187" relation="include">
        </childnode>
        <childnode refid="207180" relation="include">
        </childnode>
      </node>
      <node id="207353">
        <label>xAODCaloEvent/CaloClusterContainer.h</label>
        <link refid="da/dc3/CaloClusterContainer_8h_source"/>
        <childnode refid="207354" relation="include">
        </childnode>
        <childnode refid="207362" relation="include">
        </childnode>
        <childnode refid="207263" relation="include">
        </childnode>
      </node>
      <node id="207389">
        <label>xAODTruth/TruthParticleContainer.h</label>
        <link refid="d9/dbc/TruthParticleContainer_8h_source"/>
        <childnode refid="207390" relation="include">
        </childnode>
        <childnode refid="207394" relation="include">
        </childnode>
        <childnode refid="207263" relation="include">
        </childnode>
      </node>
      <node id="207260">
        <label>xAODMissingET/versions/MissingET_v1.h</label>
        <link refid="df/d79/MissingET__v1_8h_source"/>
        <childnode refid="207215" relation="include">
        </childnode>
        <childnode refid="207254" relation="include">
        </childnode>
        <childnode refid="207261" relation="include">
        </childnode>
        <childnode refid="207138" relation="include">
        </childnode>
        <childnode refid="207165" relation="include">
        </childnode>
        <childnode refid="207158" relation="include">
        </childnode>
      </node>
      <node id="207392">
        <label>xAODTruth/TruthVertexContainerFwd.h</label>
        <link refid="da/ddf/TruthVertexContainerFwd_8h_source"/>
        <childnode refid="207151" relation="include">
        </childnode>
        <childnode refid="207393" relation="include">
        </childnode>
      </node>
      <node id="207304">
        <label>GeoPrimitives/GeoPrimitives.h</label>
        <link refid="d7/d87/GeoPrimitives_8h_source"/>
        <childnode refid="207291" relation="include">
        </childnode>
        <childnode refid="207305" relation="include">
        </childnode>
      </node>
      <node id="207295">
        <label>xAODTracking/VertexFwd.h</label>
        <link refid="d9/ddd/VertexFwd_8h_source"/>
      </node>
      <node id="207223">
        <label>AthContainers/AuxVectorBase.icc</label>
        <link refid="d4/d50/AuxVectorBase_8icc"/>
      </node>
      <node id="207191">
        <label>boost/thread/shared_mutex.hpp</label>
      </node>
      <node id="207316">
        <label>xAODBTagging/BTagVertex.h</label>
        <link refid="d4/d51/BTagVertex_8h_source"/>
        <childnode refid="207317" relation="include">
        </childnode>
      </node>
      <node id="207259">
        <label>xAODMissingET/MissingET.h</label>
        <link refid="d0/d22/MissingET_8h_source"/>
        <childnode refid="207260" relation="include">
        </childnode>
        <childnode refid="207263" relation="include">
        </childnode>
      </node>
      <node id="207329">
        <label>PATCore/IAsgSelectionTool.h</label>
        <link refid="d9/dfd/IAsgSelectionTool_8h_source"/>
        <childnode refid="207143" relation="include">
        </childnode>
        <childnode refid="207330" relation="include">
        </childnode>
      </node>
      <node id="207201">
        <label>AthContainersInterfaces/IAuxSetOption.h</label>
        <link refid="d7/d7e/IAuxSetOption_8h"/>
      </node>
      <node id="207264">
        <label>xAODMissingET/versions/MissingETContainer_v1.h</label>
        <link refid="df/df3/MissingETContainer__v1_8h_source"/>
        <childnode refid="207151" relation="include">
        </childnode>
        <childnode refid="207261" relation="include">
        </childnode>
        <childnode refid="207260" relation="include">
        </childnode>
        <childnode refid="207138" relation="include">
        </childnode>
        <childnode refid="207265" relation="include">
        </childnode>
      </node>
      <node id="207385">
        <label>xAODEgamma/ElectronxAODHelpers.h</label>
        <link refid="df/dec/ElectronxAODHelpers_8h_source"/>
        <childnode refid="207382" relation="include">
        </childnode>
        <childnode refid="207300" relation="include">
        </childnode>
        <childnode refid="207154" relation="include">
        </childnode>
        <childnode refid="207326" relation="include">
        </childnode>
        <childnode refid="207178" relation="include">
        </childnode>
      </node>
      <node id="207190">
        <label>AthContainers/tools/threading.h</label>
        <link refid="d7/d22/threading_8h"/>
        <childnode refid="207191" relation="include">
        </childnode>
        <childnode refid="207192" relation="include">
        </childnode>
        <childnode refid="207193" relation="include">
        </childnode>
        <childnode refid="207194" relation="include">
        </childnode>
        <childnode refid="207195" relation="include">
        </childnode>
      </node>
      <node id="207357">
        <label>CaloGeoHelpers/CaloSampling.def</label>
      </node>
      <node id="207334">
        <label>xAODMissingET/versions/MissingETComponent_v1.h</label>
        <link refid="d1/d98/MissingETComponent__v1_8h"/>
        <childnode refid="207215" relation="include">
        </childnode>
        <childnode refid="207254" relation="include">
        </childnode>
        <childnode refid="207150" relation="include">
        </childnode>
        <childnode refid="207269" relation="include">
        </childnode>
        <childnode refid="207258" relation="include">
        </childnode>
        <childnode refid="207178" relation="include">
        </childnode>
      </node>
      <node id="207257">
        <label>iosfwd</label>
      </node>
      <node id="207160">
        <label>cstdlib</label>
      </node>
      <node id="207342">
        <label>xAODCore/AuxSelection.h</label>
        <link refid="d3/dd4/AuxSelection_8h_source"/>
        <childnode refid="207326" relation="include">
        </childnode>
        <childnode refid="207138" relation="include">
        </childnode>
        <childnode refid="207153" relation="include">
        </childnode>
      </node>
      <node id="207345">
        <label>xAODCore/ShallowAuxContainer.h</label>
        <link refid="d8/d42/ShallowAuxContainer_8h_source"/>
        <childnode refid="207179" relation="include">
        </childnode>
        <childnode refid="207213" relation="include">
        </childnode>
        <childnode refid="207340" relation="include">
        </childnode>
        <childnode refid="207341" relation="include">
        </childnode>
        <childnode refid="207190" relation="include">
        </childnode>
        <childnode refid="207185" relation="include">
        </childnode>
        <childnode refid="207342" relation="include">
        </childnode>
        <childnode refid="207263" relation="include">
        </childnode>
        <childnode refid="207265" relation="include">
        </childnode>
      </node>
      <node id="207286">
        <label>xAODTracking/TrackParticle.h</label>
        <link refid="d2/d15/TrackParticle_8h_source"/>
        <childnode refid="207287" relation="include">
        </childnode>
        <childnode refid="207263" relation="include">
        </childnode>
      </node>
      <node id="207243">
        <label>iostream</label>
      </node>
      <node id="207166">
        <label>CxxUtils/noreturn.h</label>
        <link refid="de/d6f/noreturn_8h"/>
      </node>
      <node id="207139">
        <label>AsgTools/ToolHandle.h</label>
        <link refid="de/d2d/ToolHandle_8h_source"/>
        <childnode refid="207140" relation="include">
        </childnode>
        <childnode refid="207141" relation="include">
        </childnode>
      </node>
      <node id="207298">
        <label>xAODTracking/versions/TrackParticleContainer_v1.h</label>
        <link refid="d7/d3b/TrackParticleContainer__v1_8h_source"/>
        <childnode refid="207180" relation="include">
        </childnode>
        <childnode refid="207151" relation="include">
        </childnode>
        <childnode refid="207287" relation="include">
        </childnode>
        <childnode refid="207299" relation="include">
        </childnode>
      </node>
      <node id="207267">
        <label>xAODMissingET/MissingETAssociation.h</label>
        <link refid="d2/df6/MissingETAssociation_8h_source"/>
        <childnode refid="207268" relation="include">
        </childnode>
        <childnode refid="207263" relation="include">
        </childnode>
      </node>
      <node id="207173">
        <label>AthContainersInterfaces/IConstAuxStore.h</label>
        <link refid="d7/d3a/IConstAuxStore_8h"/>
        <childnode refid="207153" relation="include">
        </childnode>
        <childnode refid="207154" relation="include">
        </childnode>
        <childnode refid="207174" relation="include">
        </childnode>
      </node>
      <node id="207154">
        <label>cstddef</label>
      </node>
      <node id="207330">
        <label>PATCore/TAccept.h</label>
        <link refid="d0/dcf/TAccept_8h_source"/>
        <childnode refid="207331" relation="include">
        </childnode>
        <childnode refid="207280" relation="include">
        </childnode>
        <childnode refid="207288" relation="include">
        </childnode>
      </node>
      <node id="207196">
        <label>AthContainers/AuxVectorData.icc</label>
        <link refid="da/de7/AuxVectorData_8icc"/>
        <childnode refid="207197" relation="include">
        </childnode>
        <childnode refid="207213" relation="include">
        </childnode>
        <childnode refid="207173" relation="include">
        </childnode>
        <childnode refid="207188" relation="include">
        </childnode>
        <childnode refid="207189" relation="include">
        </childnode>
      </node>
      <node id="207144">
        <label>AsgTools/AsgToolMacros.h</label>
        <link refid="d1/d68/AsgToolMacros_8h_source"/>
      </node>
      <node id="207375">
        <label>xAODEgamma/EgammaEnums.h</label>
        <link refid="d4/d8f/EgammaEnums_8h_source"/>
      </node>
      <node id="207265">
        <label>xAODCore/BaseInfo.h</label>
        <link refid="d3/d17/BaseInfo_8h_source"/>
        <childnode refid="207214" relation="include">
        </childnode>
      </node>
      <node id="207331">
        <label>TString.h</label>
      </node>
      <node id="207282">
        <label>xAODBTagging/BTagging.h</label>
        <link refid="d2/d81/BTagging_8h_source"/>
        <childnode refid="207283" relation="include">
        </childnode>
      </node>
      <node id="207321">
        <label>xAODJet/JetTypes.h</label>
        <link refid="d6/d2a/JetTypes_8h_source"/>
        <childnode refid="207322" relation="include">
        </childnode>
      </node>
      <node id="207137">
        <label>METUtilities/METMaker.h</label>
        <link refid="d7/d20/METMaker_8h_source"/>
        <childnode refid="207138" relation="include">
        </childnode>
        <childnode refid="207139" relation="include">
        </childnode>
        <childnode refid="207142" relation="include">
        </childnode>
        <childnode refid="207149" relation="include">
        </childnode>
        <childnode refid="207277" relation="include">
        </childnode>
        <childnode refid="207328" relation="include">
        </childnode>
      </node>
      <node id="207320">
        <label>xAODJet/JetConstituentVector.h</label>
        <link refid="de/dd4/JetConstituentVector_8h_source"/>
        <childnode refid="207274" relation="include">
        </childnode>
        <childnode refid="207254" relation="include">
        </childnode>
        <childnode refid="207150" relation="include">
        </childnode>
        <childnode refid="207321" relation="include">
        </childnode>
      </node>
      <node id="207310">
        <label>TrkNeutralParameters/NeutralParameters.h</label>
      </node>
      <node id="207229">
        <label>AthContainers/tools/DVLInfo.icc</label>
        <link refid="da/d83/DVLInfo_8icc"/>
        <childnode refid="207169" relation="include">
        </childnode>
        <childnode refid="207178" relation="include">
        </childnode>
        <childnode refid="207230" relation="include">
        </childnode>
        <childnode refid="207218" relation="include">
        </childnode>
        <childnode refid="207160" relation="include">
        </childnode>
        <childnode refid="207214" relation="include">
        </childnode>
      </node>
      <node id="207200">
        <label>AthContainers/tools/AuxTypeVector.h</label>
        <link refid="d6/dd2/AuxTypeVector_8h"/>
        <childnode refid="207198" relation="include">
        </childnode>
        <childnode refid="207201" relation="include">
        </childnode>
        <childnode refid="207177" relation="include">
        </childnode>
        <childnode refid="207202" relation="include">
        </childnode>
        <childnode refid="207187" relation="include">
        </childnode>
        <childnode refid="207168" relation="include">
        </childnode>
        <childnode refid="207178" relation="include">
        </childnode>
        <childnode refid="207157" relation="include">
        </childnode>
        <childnode refid="207180" relation="include">
        </childnode>
        <childnode refid="207206" relation="include">
        </childnode>
        <childnode refid="207207" relation="include">
        </childnode>
        <childnode refid="207208" relation="include">
        </childnode>
      </node>
      <node id="207269">
        <label>xAODMissingET/versions/MissingETCompositionBase.h</label>
        <link refid="d9/d25/MissingETCompositionBase_8h_source"/>
        <childnode refid="207261" relation="include">
        </childnode>
        <childnode refid="207254" relation="include">
        </childnode>
        <childnode refid="207150" relation="include">
        </childnode>
        <childnode refid="207270" relation="include">
        </childnode>
        <childnode refid="207274" relation="include">
        </childnode>
        <childnode refid="207258" relation="include">
        </childnode>
        <childnode refid="207277" relation="include">
        </childnode>
        <childnode refid="207178" relation="include">
        </childnode>
        <childnode refid="207159" relation="include">
        </childnode>
      </node>
      <node id="207367">
        <label>TrkSegment/SegmentCollection.h</label>
      </node>
      <node id="207296">
        <label>TrkParameters/TrackParameters.h</label>
      </node>
      <node id="207333">
        <label>xAODMissingET/MissingETComponent.h</label>
        <link refid="d5/d39/MissingETComponent_8h_source"/>
        <childnode refid="207334" relation="include">
        </childnode>
        <childnode refid="207263" relation="include">
        </childnode>
      </node>
      <node id="207277">
        <label>xAODJet/JetContainer.h</label>
        <link refid="d5/d55/JetContainer_8h_source"/>
        <childnode refid="207278" relation="include">
        </childnode>
        <childnode refid="207325" relation="include">
        </childnode>
        <childnode refid="207263" relation="include">
        </childnode>
      </node>
      <node id="207390">
        <label>xAODTruth/TruthParticle.h</label>
        <link refid="dd/d44/TruthParticle_8h_source"/>
        <childnode refid="207391" relation="include">
        </childnode>
      </node>
      <node id="207374">
        <label>xAODEgamma/EgammaDefs.h</label>
        <link refid="dd/d34/EgammaDefs_8h_source"/>
        <childnode refid="207180" relation="include">
        </childnode>
      </node>
      <node id="207309">
        <label>versions/NeutralParticle_v1.h</label>
        <link refid="da/d85/NeutralParticle__v1_8h_source"/>
        <childnode refid="207274" relation="include">
        </childnode>
        <childnode refid="207151" relation="include">
        </childnode>
        <childnode refid="207254" relation="include">
        </childnode>
        <childnode refid="207289" relation="include">
        </childnode>
        <childnode refid="207294" relation="include">
        </childnode>
        <childnode refid="207288" relation="include">
        </childnode>
        <childnode refid="207180" relation="include">
        </childnode>
        <childnode refid="207310" relation="include">
        </childnode>
      </node>
      <node id="207313">
        <label>xAODTracking/NeutralParticleFwd.h</label>
        <link refid="d4/d90/NeutralParticleFwd_8h_source"/>
      </node>
      <node id="207382">
        <label>xAODEgamma/ElectronFwd.h</label>
        <link refid="db/d18/ElectronFwd_8h_source"/>
      </node>
      <node id="207386">
        <label>xAODEgamma/PhotonxAODHelpers.h</label>
        <link refid="d5/d20/PhotonxAODHelpers_8h_source"/>
        <childnode refid="207387" relation="include">
        </childnode>
        <childnode refid="207295" relation="include">
        </childnode>
        <childnode refid="207300" relation="include">
        </childnode>
        <childnode refid="207375" relation="include">
        </childnode>
        <childnode refid="207304" relation="include">
        </childnode>
        <childnode refid="207154" relation="include">
        </childnode>
        <childnode refid="207326" relation="include">
        </childnode>
        <childnode refid="207178" relation="include">
        </childnode>
      </node>
      <node id="207206">
        <label>boost/type_traits/is_base_of.hpp</label>
      </node>
      <node id="207307">
        <label>xAODTracking/NeutralParticleContainer.h</label>
        <link refid="da/d7f/NeutralParticleContainer_8h_source"/>
        <childnode refid="207308" relation="include">
        </childnode>
        <childnode refid="207311" relation="include">
        </childnode>
        <childnode refid="207263" relation="include">
        </childnode>
      </node>
      <node id="207171">
        <label>AthContainers/AuxVectorBase.h</label>
        <link refid="d7/d18/AuxVectorBase_8h"/>
        <childnode refid="207172" relation="include">
        </childnode>
        <childnode refid="207169" relation="include">
        </childnode>
        <childnode refid="207170" relation="include">
        </childnode>
        <childnode refid="207215" relation="include">
        </childnode>
        <childnode refid="207197" relation="include">
        </childnode>
        <childnode refid="207152" relation="include">
        </childnode>
        <childnode refid="207219" relation="include">
        </childnode>
        <childnode refid="207213" relation="include">
        </childnode>
        <childnode refid="207220" relation="include">
        </childnode>
        <childnode refid="207178" relation="include">
        </childnode>
        <childnode refid="207223" relation="include">
        </childnode>
      </node>
      <node id="207352">
        <label>xAODPrimitives/IsolationFlavour.h</label>
        <link refid="da/d23/IsolationFlavour_8h_source"/>
      </node>
      <node id="207326">
        <label>set</label>
      </node>
      <node id="207263">
        <label>xAODCore/CLASS_DEF.h</label>
        <link refid="d6/d20/xAODCore_2xAODCore_2CLASS__DEF_8h"/>
        <childnode refid="207174" relation="include">
        </childnode>
      </node>
      <node id="207210">
        <label>AthContainers/tools/AuxTypeVectorFactory.icc</label>
        <link refid="dc/d02/AuxTypeVectorFactory_8icc"/>
      </node>
      <node id="207202">
        <label>AthContainers/PackedContainer.h</label>
        <link refid="d6/dda/PackedContainer_8h"/>
        <childnode refid="207201" relation="include">
        </childnode>
        <childnode refid="207203" relation="include">
        </childnode>
        <childnode refid="207187" relation="include">
        </childnode>
        <childnode refid="207178" relation="include">
        </childnode>
        <childnode refid="207205" relation="include">
        </childnode>
      </node>
      <node id="207157">
        <label>algorithm</label>
      </node>
      <node id="207266">
        <label>xAODMissingET/MissingETAssociationMap.h</label>
        <link refid="df/db3/MissingETAssociationMap_8h_source"/>
        <childnode refid="207267" relation="include">
        </childnode>
        <childnode refid="207327" relation="include">
        </childnode>
        <childnode refid="207263" relation="include">
        </childnode>
      </node>
      <node id="207360">
        <label>CaloEvent/CaloClusterCellLinkContainer.h</label>
      </node>
      <node id="207240">
        <label>AthContainers/tools/IsMostDerivedFlag.h</label>
        <link refid="d5/dfa/IsMostDerivedFlag_8h"/>
      </node>
      <node id="207297">
        <label>TrkTrack/TrackCollection.h</label>
      </node>
      <node id="207377">
        <label>xAODEgamma/versions/ElectronContainer_v1.h</label>
        <link refid="dc/d7f/ElectronContainer__v1_8h_source"/>
        <childnode refid="207151" relation="include">
        </childnode>
        <childnode refid="207372" relation="include">
        </childnode>
        <childnode refid="207378" relation="include">
        </childnode>
        <childnode refid="207381" relation="include">
        </childnode>
      </node>
      <node id="207215">
        <label>AthContainers/AuxElement.h</label>
        <link refid="d1/d6f/AuxElement_8h"/>
        <childnode refid="207216" relation="include">
        </childnode>
        <childnode refid="207173" relation="include">
        </childnode>
        <childnode refid="207213" relation="include">
        </childnode>
        <childnode refid="207179" relation="include">
        </childnode>
        <childnode refid="207197" relation="include">
        </childnode>
        <childnode refid="207172" relation="include">
        </childnode>
        <childnode refid="207177" relation="include">
        </childnode>
        <childnode refid="207152" relation="include">
        </childnode>
        <childnode refid="207188" relation="include">
        </childnode>
        <childnode refid="207154" relation="include">
        </childnode>
        <childnode refid="207217" relation="include">
        </childnode>
      </node>
      <node id="207142">
        <label>AsgTools/AsgTool.h</label>
        <link refid="d4/d29/AsgTool_8h_source"/>
        <childnode refid="207140" relation="include">
        </childnode>
        <childnode refid="207143" relation="include">
        </childnode>
        <childnode refid="207146" relation="include">
        </childnode>
        <childnode refid="207148" relation="include">
        </childnode>
      </node>
      <node id="207179">
        <label>AthLinks/DataLink.h</label>
        <link refid="da/de8/DataLink_8h_source"/>
        <childnode refid="207180" relation="include">
        </childnode>
        <childnode refid="207138" relation="include">
        </childnode>
        <childnode refid="207181" relation="include">
        </childnode>
        <childnode refid="207182" relation="include">
        </childnode>
      </node>
      <node id="207237">
        <label>AthContainers/tools/DVL_iter_swap.h</label>
        <link refid="d6/ddb/DVL__iter__swap_8h"/>
        <childnode refid="207233" relation="include">
        </childnode>
        <childnode refid="207219" relation="include">
        </childnode>
        <childnode refid="207159" relation="include">
        </childnode>
      </node>
      <node id="207169">
        <label>AthContainers/OwnershipPolicy.h</label>
        <link refid="d3/da4/OwnershipPolicy_8h_source"/>
      </node>
      <node id="207274">
        <label>AthLinks/ElementLink.h</label>
        <link refid="dc/d24/ElementLink_8h_source"/>
        <childnode refid="207180" relation="include">
        </childnode>
        <childnode refid="207138" relation="include">
        </childnode>
        <childnode refid="207275" relation="include">
        </childnode>
        <childnode refid="207182" relation="include">
        </childnode>
        <childnode refid="207276" relation="include">
        </childnode>
      </node>
      <node id="207318">
        <label>xAODBTagging/versions/BTagVertexContainer_v1.h</label>
        <link refid="d1/d37/BTagVertexContainer__v1_8h_source"/>
        <childnode refid="207151" relation="include">
        </childnode>
        <childnode refid="207317" relation="include">
        </childnode>
      </node>
      <node id="207148">
        <label>AsgTools/SetProperty.h</label>
        <link refid="df/db0/SetProperty_8h_source"/>
      </node>
      <node id="207285">
        <label>xAODTracking/TrackParticleContainer.h</label>
        <link refid="da/d31/TrackParticleContainer_8h_source"/>
        <childnode refid="207286" relation="include">
        </childnode>
        <childnode refid="207298" relation="include">
        </childnode>
        <childnode refid="207263" relation="include">
        </childnode>
      </node>
      <node id="207227">
        <label>GaudiKernel/ClassID.h</label>
      </node>
      <node id="207336">
        <label>xAODMissingET/versions/MissingETComponentMap_v1.h</label>
        <link refid="dd/ddb/MissingETComponentMap__v1_8h_source"/>
        <childnode refid="207151" relation="include">
        </childnode>
        <childnode refid="207256" relation="include">
        </childnode>
        <childnode refid="207269" relation="include">
        </childnode>
        <childnode refid="207259" relation="include">
        </childnode>
        <childnode refid="207334" relation="include">
        </childnode>
        <childnode refid="207138" relation="include">
        </childnode>
        <childnode refid="207178" relation="include">
        </childnode>
        <childnode refid="207280" relation="include">
        </childnode>
        <childnode refid="207265" relation="include">
        </childnode>
      </node>
      <node id="207242">
        <label>boost/type_traits.hpp</label>
      </node>
      <node id="207164">
        <label>memory</label>
      </node>
      <node id="207312">
        <label>xAODTracking/NeutralParticleContainerFwd.h</label>
        <link refid="d2/db4/NeutralParticleContainerFwd_8h_source"/>
        <childnode refid="207151" relation="include">
        </childnode>
        <childnode refid="207150" relation="include">
        </childnode>
        <childnode refid="207313" relation="include">
        </childnode>
      </node>
      <node id="207335">
        <label>xAODMissingET/MissingETComponentMap.h</label>
        <link refid="d9/d23/MissingETComponentMap_8h_source"/>
        <childnode refid="207333" relation="include">
        </childnode>
        <childnode refid="207336" relation="include">
        </childnode>
        <childnode refid="207263" relation="include">
        </childnode>
      </node>
      <node id="207209">
        <label>AthContainers/tools/AuxTypeVectorFactory.h</label>
        <link refid="dc/d69/AuxTypeVectorFactory_8h"/>
        <childnode refid="207199" relation="include">
        </childnode>
        <childnode refid="207200" relation="include">
        </childnode>
        <childnode refid="207210" relation="include">
        </childnode>
      </node>
      <node id="207396">
        <label>xAODTruth/TruthParticleFwd.h</label>
        <link refid="de/d03/TruthParticleFwd_8h_source"/>
      </node>
      <node id="207220">
        <label>AthContainersInterfaces/AuxStore_traits.h</label>
        <link refid="dd/d70/AuxStore__traits_8h"/>
        <childnode refid="207216" relation="include">
        </childnode>
        <childnode refid="207213" relation="include">
        </childnode>
        <childnode refid="207173" relation="include">
        </childnode>
        <childnode refid="207206" relation="include">
        </childnode>
        <childnode refid="207221" relation="include">
        </childnode>
        <childnode refid="207222" relation="include">
        </childnode>
        <childnode refid="207138" relation="include">
        </childnode>
      </node>
      <node id="207315">
        <label>xAODBTagging/BTagVertexContainer.h</label>
        <link refid="d5/da2/BTagVertexContainer_8h_source"/>
        <childnode refid="207316" relation="include">
        </childnode>
        <childnode refid="207318" relation="include">
        </childnode>
        <childnode refid="207263" relation="include">
        </childnode>
      </node>
    </incdepgraph>
    <innernamespace refid="df/d0d/namespacemet">met</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"></codeline>
<codeline lineno="2"><highlight class="comment">//<sp/>METMaker.cxx</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Implementation<sp/>file<sp/>for<sp/>class<sp/>METMaker</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Author:<sp/>T.J.Khoo&lt;khoo@cern.ch&gt;</highlight></codeline>
<codeline lineno="6"><highlight class="comment"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="comment">//<sp/>METUtilities<sp/>includes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;METUtilities/METMaker.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="comment">//<sp/>MET<sp/>EDM</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;xAODMissingET/MissingETContainer.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;xAODMissingET/MissingETComposition.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;xAODMissingET/MissingETAuxContainer.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;xAODMissingET/MissingETAssociationMap.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Jet<sp/>EDM</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="d3/df8/JetAttributes_8h" kindref="compound">xAODJet/JetAttributes.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Tracking<sp/>EDM</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;xAODTracking/TrackParticle.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;xAODTracking/VertexContainer.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Shallow<sp/>copy</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;xAODCore/ShallowCopy.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Muon<sp/>EDM</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;xAODMuon/MuonContainer.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Electron<sp/>EDM</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;xAODEgamma/ElectronContainer.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;xAODEgamma/EgammaxAODHelpers.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal">met<sp/>{</highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/>std::vector;</highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/><ref refid="dd/d06/classxAOD_1_1MissingET__v1" kindref="compound" tooltip="Principal data object for Missing ET.">xAOD::MissingET</ref>;</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/><ref refid="d0/d90/classxAOD_1_1MissingETContainer__v1" kindref="compound" tooltip="Container for xAOD::MissingET_v1 objects.">xAOD::MissingETContainer</ref>;</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/><ref refid="d5/d15/classxAOD_1_1MissingETAssociation__v1" kindref="compound" tooltip="MET association descriptor contains object links and corresponding parameters.">xAOD::MissingETAssociation</ref>;</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/><ref refid="d5/d3a/classxAOD_1_1MissingETAssociationMap__v1" kindref="compound">xAOD::MissingETAssociationMap</ref>;</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/><ref refid="d9/dbe/classxAOD_1_1MissingETAuxContainer__v1" kindref="compound" tooltip="Auxiliary data store for xAOD::MissingETContainer.">xAOD::MissingETAuxContainer</ref>;</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/><ref refid="de/dc5/structxAOD_1_1MissingETComposition" kindref="compound" tooltip="Collection of functions managing the MET composition map and association map.">xAOD::MissingETComposition</ref>;</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/><ref refid="d5/d4c/classxAOD_1_1IParticle" kindref="compound">xAOD::IParticle</ref>;</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/><ref refid="d0/d4d/classDataVector" kindref="compound" tooltip="Derived DataVector&amp;lt;T&amp;gt;.">xAOD::IParticleContainer</ref>;</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/><ref refid="d0/d4d/classDataVector" kindref="compound" tooltip="Derived DataVector&amp;lt;T&amp;gt;.">xAOD::JetContainer</ref>;</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/><ref refid="d5/d83/classxAOD_1_1JetConstituentVector" kindref="compound" tooltip="A vector of jet constituents at the scale used during jet finding.">xAOD::JetConstituentVector</ref>;</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/><ref refid="d9/d1d/classxAOD_1_1TrackParticle__v1" kindref="compound">xAOD::TrackParticle</ref>;</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>using<sp/>xAOD::VertexContainer;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>using<sp/>xAOD::Vertex;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/><ref refid="d6/d6e/classElementLink" kindref="compound" tooltip="ElementLink implementation for ROOT usage.">ElementLink&lt;xAOD::IParticleContainer&gt;</ref><sp/>iplink_t;</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="dd/d86/classSG_1_1AuxElement_1_1ConstAccessor" kindref="compound" tooltip="Helper class to provide constant type-safe access to aux data.">SG::AuxElement::ConstAccessor&lt; iplink_t  &gt;</ref><sp/>acc_originalObject(</highlight><highlight class="stringliteral">&quot;originalObjectLink&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="dd/d86/classSG_1_1AuxElement_1_1ConstAccessor" kindref="compound" tooltip="Helper class to provide constant type-safe access to aux data.">SG::AuxElement::ConstAccessor&lt; std::vector&lt;iplink_t &gt;</ref><sp/>&gt;<sp/>acc_ghostMuons(</highlight><highlight class="stringliteral">&quot;GhostMuon&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="dd/d86/classSG_1_1AuxElement_1_1ConstAccessor" kindref="compound" tooltip="Helper class to provide constant type-safe access to aux data.">SG::AuxElement::ConstAccessor&lt; std::vector&lt;int&gt;</ref><sp/>&gt;<sp/>acc_trkN(</highlight><highlight class="stringliteral">&quot;NumTrkPt500&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="dd/d86/classSG_1_1AuxElement_1_1ConstAccessor" kindref="compound" tooltip="Helper class to provide constant type-safe access to aux data.">SG::AuxElement::ConstAccessor&lt; std::vector&lt;float&gt;</ref><sp/>&gt;<sp/>acc_trksumpt(</highlight><highlight class="stringliteral">&quot;SumPtTrkPt500&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="dd/d86/classSG_1_1AuxElement_1_1ConstAccessor" kindref="compound" tooltip="Helper class to provide constant type-safe access to aux data.">SG::AuxElement::ConstAccessor&lt; std::vector&lt;float&gt;</ref><sp/>&gt;<sp/>acc_sampleE(</highlight><highlight class="stringliteral">&quot;EnergyPerSampling&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="dd/d86/classSG_1_1AuxElement_1_1ConstAccessor" kindref="compound">SG::AuxElement::ConstAccessor&lt;float&gt;</ref><sp/>acc_emf(</highlight><highlight class="stringliteral">&quot;EMFrac&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="dd/d86/classSG_1_1AuxElement_1_1ConstAccessor" kindref="compound">SG::AuxElement::ConstAccessor&lt;float&gt;</ref><sp/>acc_width(</highlight><highlight class="stringliteral">&quot;Width&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="dd/d86/classSG_1_1AuxElement_1_1ConstAccessor" kindref="compound">SG::AuxElement::ConstAccessor&lt;float&gt;</ref><sp/>acc_Eloss(</highlight><highlight class="stringliteral">&quot;EnergyLoss&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d3/d59/classSG_1_1AuxElement_1_1Decorator" kindref="compound" tooltip="Helper class to provide type-safe access to aux data.">SG::AuxElement::Decorator&lt; std::vector&lt;iplink_t&gt;</ref><sp/>&gt;<sp/>dec_constitObjLinks(</highlight><highlight class="stringliteral">&quot;ConstitObjectLinks&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d3/d59/classSG_1_1AuxElement_1_1Decorator" kindref="compound" tooltip="Helper class to provide type-safe access to aux data.">SG::AuxElement::Decorator&lt; std::vector&lt;float&gt;</ref><sp/>&gt;<sp/>dec_constitObjWeights(</highlight><highlight class="stringliteral">&quot;ConstitObjectWeights&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Implement<sp/>dphi<sp/>as<sp/>well<sp/>if<sp/>we<sp/>start<sp/>correcting<sp/>the<sp/>jet<sp/>phi.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>static<sp/>const<sp/>SG::AuxElement::Decorator&lt;<sp/>std::vector&lt;float&gt;<sp/>&gt;<sp/>dec_constitObjDphis(&quot;ConstitObjectDphis&quot;);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="d2/d5b/namespaceMissingETBase_1_1Types_1afbe8719ef44dd43f994a3d5ea2823903" kindref="member" tooltip="Type for status word bit mask.">MissingETBase::Types::bitmask_t</ref><sp/>invisSource<sp/>=<sp/>0x100000;<sp/></highlight><highlight class="comment">//<sp/>doesn&apos;t<sp/>overlap<sp/>with<sp/>any<sp/>other</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Public<sp/>methods:</highlight></codeline>
<codeline lineno="76"><highlight class="comment"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Constructors</highlight></codeline>
<codeline lineno="79"><highlight class="comment"></highlight><highlight class="normal"><sp/><sp/>METMaker::METMaker(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>name)<sp/>:</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/>AsgTool(name),</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/>m_extraJetRejection(false),</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/>m_trkseltool(</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Property<sp/>declaration</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>declareProperty(&quot;VxColl&quot;,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_pvcoll<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>&quot;PrimaryVertices&quot;<sp/><sp/><sp/>);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/>declareProperty(</highlight><highlight class="stringliteral">&quot;JetJvtMomentName&quot;</highlight><highlight class="normal">,<sp/><sp/><sp/>m_jetJvtMomentName<sp/><sp/><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Jvt&quot;</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/>declareProperty(</highlight><highlight class="stringliteral">&quot;JetRejectionDec&quot;</highlight><highlight class="normal">,<sp/><sp/><sp/><sp/>m_jetRejectionDec<sp/><sp/><sp/><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/>declareProperty(</highlight><highlight class="stringliteral">&quot;JetMinEFrac&quot;</highlight><highlight class="normal">,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_jetMinEfrac<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>0.0<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/>declareProperty(</highlight><highlight class="stringliteral">&quot;JetMinWeightedPt&quot;</highlight><highlight class="normal">,<sp/><sp/><sp/>m_jetMinWeightedPt<sp/><sp/><sp/>=<sp/>20.0e3<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//declareProperty(&quot;JetConstitScaleMom&quot;,<sp/>m_jetConstitScaleMom<sp/>=<sp/>&quot;JetLCScaleMomentum&quot;);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/>declareProperty(</highlight><highlight class="stringliteral">&quot;JetConstitScaleMom&quot;</highlight><highlight class="normal">,<sp/>m_jetConstitScaleMom<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;JetConstitScaleMomentum&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/>declareProperty(</highlight><highlight class="stringliteral">&quot;CorrectJetPhi&quot;</highlight><highlight class="normal">,<sp/><sp/><sp/><sp/><sp/><sp/>m_jetCorrectPhi<sp/><sp/><sp/><sp/><sp/><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/>declareProperty(</highlight><highlight class="stringliteral">&quot;DoPFlow&quot;</highlight><highlight class="normal">,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_doPFlow<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/>declareProperty(</highlight><highlight class="stringliteral">&quot;DoSoftTruth&quot;</highlight><highlight class="normal">,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_doSoftTruth<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/>declareProperty(</highlight><highlight class="stringliteral">&quot;DoJetTruth&quot;</highlight><highlight class="normal">,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_doConstJet<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="100"><highlight class="normal"></highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/>declareProperty(</highlight><highlight class="stringliteral">&quot;JetSelection&quot;</highlight><highlight class="normal">,<sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_jetSelection<sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Default&quot;</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight><highlight class="comment">//Default,<sp/>Tight,<sp/>PFlow<sp/>or<sp/>Expert</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/>declareProperty(</highlight><highlight class="stringliteral">&quot;CustomCentralJetPt&quot;</highlight><highlight class="normal">,<sp/>m_customCenJetPtCut<sp/><sp/>=<sp/>20e3<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/>declareProperty(</highlight><highlight class="stringliteral">&quot;CustomForwardJetPt&quot;</highlight><highlight class="normal">,<sp/>m_customFwdJetPtCut<sp/><sp/>=<sp/>20e3<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/>declareProperty(</highlight><highlight class="stringliteral">&quot;CustomJetJvtCut&quot;</highlight><highlight class="normal">,<sp/><sp/><sp/><sp/>m_customJvtCut<sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>0.64<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/>declareProperty(</highlight><highlight class="stringliteral">&quot;CustomJetJvtPtMax&quot;</highlight><highlight class="normal">,<sp/><sp/>m_customJvtPtMax<sp/><sp/><sp/><sp/><sp/>=<sp/>50e3<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="106"><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/>declareProperty(</highlight><highlight class="stringliteral">&quot;DoMuonEloss&quot;</highlight><highlight class="normal">,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_muEloss<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/>declareProperty(</highlight><highlight class="stringliteral">&quot;DoIsolMuonEloss&quot;</highlight><highlight class="normal">,<sp/><sp/><sp/><sp/>m_muIsolEloss<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/>declareProperty(</highlight><highlight class="stringliteral">&quot;ORCaloTaggedMuons&quot;</highlight><highlight class="normal">,<sp/><sp/>m_orCaloTaggedMuon<sp/><sp/><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/>declareProperty(</highlight><highlight class="stringliteral">&quot;GreedyPhotons&quot;</highlight><highlight class="normal">,<sp/><sp/><sp/><sp/><sp/><sp/>m_greedyPhotons<sp/><sp/><sp/><sp/><sp/><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="111"><highlight class="normal"></highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/>declareProperty(</highlight><highlight class="stringliteral">&quot;DoRemoveMuonJets&quot;</highlight><highlight class="normal">,<sp/><sp/><sp/>m_doRemoveMuonJets<sp/><sp/><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/>declareProperty(</highlight><highlight class="stringliteral">&quot;DoRemoveElecTrks&quot;</highlight><highlight class="normal">,<sp/><sp/><sp/>m_doRemoveElecTrks<sp/><sp/><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/>declareProperty(</highlight><highlight class="stringliteral">&quot;DoRemoveElecTrksEM&quot;</highlight><highlight class="normal">,<sp/>m_doRemoveElecTrksEM<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/>declareProperty(</highlight><highlight class="stringliteral">&quot;DoSetMuonJetEMScale&quot;</highlight><highlight class="normal">,<sp/>m_doSetMuonJetEMScale<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="116"><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/>declareProperty(</highlight><highlight class="stringliteral">&quot;DoExtraCleaning&quot;</highlight><highlight class="normal">,<sp/><sp/><sp/><sp/>m_doExtraCleaning<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/>declareProperty(</highlight><highlight class="stringliteral">&quot;MinimumImbalance&quot;</highlight><highlight class="normal">,<sp/><sp/><sp/>m_minimumImbalance<sp/>=<sp/>0<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="119"><highlight class="normal"></highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/>declareProperty(</highlight><highlight class="stringliteral">&quot;PFInsurance&quot;</highlight><highlight class="normal">,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_pfInsurance<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="121"><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/>declareProperty(</highlight><highlight class="stringliteral">&quot;TrackSelectorTool&quot;</highlight><highlight class="normal">,<sp/><sp/>m_trkseltool<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="124"><highlight class="normal"></highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Destructor</highlight></codeline>
<codeline lineno="127"><highlight class="comment"></highlight><highlight class="normal"><sp/><sp/><ref refid="dc/d1f/classmet_1_1METMaker_1ae6e0f7d263f7452d9a5b0ed3d2c386da" kindref="member" tooltip="Destructor:.">METMaker::~METMaker</ref>()</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/>{}</highlight></codeline>
<codeline lineno="129"><highlight class="normal"></highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Athena<sp/>algtool&apos;s<sp/>Hooks</highlight></codeline>
<codeline lineno="132"><highlight class="comment"></highlight><highlight class="normal"><sp/><sp/>StatusCode<sp/><ref refid="dc/d1f/classmet_1_1METMaker_1ae88031d0ebc2b109b821f334c0c1896f" kindref="member">METMaker::initialize</ref>()</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_INFO<sp/>(</highlight><highlight class="stringliteral">&quot;Initializing<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>name()<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;...&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//default<sp/>jet<sp/>selection<sp/>i.e.<sp/>pre-recommendation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Use<sp/>jet<sp/>selection<sp/>criterion:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>m_jetSelection);</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_jetSelection<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;Default&quot;</highlight><highlight class="normal">)<sp/><sp/><sp/><sp/><sp/>{<sp/>m_CenJetPtCut<sp/>=<sp/>20e3;<sp/>m_FwdJetPtCut<sp/>=<sp/>20e3;<sp/>m_JvtCut<sp/>=<sp/>0.59;<sp/>m_JvtPtMax<sp/>=<sp/>60e3;}</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_jetSelection<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;PFlow&quot;</highlight><highlight class="normal">)<sp/><sp/>{<sp/>m_CenJetPtCut<sp/>=<sp/>20e3;<sp/>m_FwdJetPtCut<sp/>=<sp/>20e3;<sp/>m_JvtCut<sp/>=<sp/>0.2;<sp/>m_JvtPtMax<sp/>=<sp/>60e3;}</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_jetSelection<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;Tight&quot;</highlight><highlight class="normal">)<sp/><sp/>{<sp/>m_CenJetPtCut<sp/>=<sp/>20e3;<sp/>m_FwdJetPtCut<sp/>=<sp/>30e3;<sp/>m_JvtCut<sp/>=<sp/>0.59;<sp/>m_JvtPtMax<sp/>=<sp/>60e3;}</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_jetSelection<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;Tier0&quot;</highlight><highlight class="normal">)<sp/><sp/>{<sp/>m_CenJetPtCut<sp/>=<sp/>0;<sp/><sp/><sp/><sp/>m_FwdJetPtCut<sp/>=<sp/>0;<sp/><sp/><sp/><sp/>m_JvtCut<sp/>=<sp/>-1;<sp/><sp/><sp/>m_JvtPtMax<sp/>=<sp/>0;}</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_jetSelection<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;Expert&quot;</highlight><highlight class="normal">)<sp/><sp/>{<sp/></highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_INFO(</highlight><highlight class="stringliteral">&quot;Custom<sp/>jet<sp/>selection<sp/>configured.<sp/>***<sp/>FOR<sp/>EXPERT<sp/>USE<sp/>ONLY<sp/>***&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>m_CenJetPtCut<sp/>=<sp/>m_customCenJetPtCut;</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>m_FwdJetPtCut<sp/>=<sp/>m_customFwdJetPtCut;</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>m_JvtCut<sp/>=<sp/>m_customJvtCut;</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>m_JvtPtMax<sp/>=<sp/>m_customJvtPtMax;<sp/></highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{<sp/>ATH_MSG_ERROR(<sp/></highlight><highlight class="stringliteral">&quot;Error:<sp/>No<sp/>available<sp/>jet<sp/>selection<sp/>found!<sp/>Choose<sp/>one:<sp/>Default,<sp/>Tight,<sp/>PFlow,<sp/>Expert&quot;</highlight><highlight class="normal"><sp/>);<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;<sp/>}</highlight></codeline>
<codeline lineno="150"><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!m_jetRejectionDec.empty())<sp/>m_extraJetRejection<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="152"><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!m_trkseltool.empty())<sp/>ATH_CHECK(<sp/>m_trkseltool.retrieve()<sp/>);</highlight></codeline>
<codeline lineno="154"><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(m_pfInsurance)<sp/>ATH_MSG_INFO(</highlight><highlight class="stringliteral">&quot;Inn<sp/>Sewer<sp/>Ants&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="156"><highlight class="normal"></highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(m_jetSelection==</highlight><highlight class="stringliteral">&quot;PFlow&quot;</highlight><highlight class="normal"><sp/>&amp;&amp;<sp/>!m_doPFlow)<sp/>{</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_ERROR(</highlight><highlight class="stringliteral">&quot;\&apos;PFlow\&apos;<sp/>jet<sp/>selection<sp/>needs<sp/>DoPFlow=true.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="161"><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::SUCCESS;</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="164"><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/>StatusCode<sp/>METMaker::finalize()</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_INFO<sp/>(</highlight><highlight class="stringliteral">&quot;Finalizing<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>name()<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;...&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="168"><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::SUCCESS;</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="171"><highlight class="normal"></highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>StatusCode<sp/>METMaker::execute()</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/>ATH_MSG_DEBUG<sp/>(<sp/>name()<sp/>&lt;&lt;<sp/>&quot;<sp/>in<sp/>execute...&quot;);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="175"><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/>return<sp/>StatusCode::SUCCESS;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="178"><highlight class="normal"></highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>****<sp/>Rebuild<sp/>generic<sp/>MET<sp/>term<sp/>****</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="180"><highlight class="normal"></highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/>StatusCode<sp/>METMaker::rebuildMET(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>metKey,</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="dd/dc8/namespacexAOD_1_1Type_1a96c48d2d85466ace623036af49f84434" kindref="member">xAOD::Type::ObjectType</ref><sp/>metType,</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d0/d90/classxAOD_1_1MissingETContainer__v1" kindref="compound" tooltip="Container for xAOD::MissingET_v1 objects.">xAOD::MissingETContainer</ref>*<sp/>metCont,</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d0/d4d/classDataVector" kindref="compound" tooltip="Derived DataVector&amp;lt;T&amp;gt;.">xAOD::IParticleContainer</ref>*<sp/>collection,</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d5/d3a/classxAOD_1_1MissingETAssociationMap__v1" kindref="compound">xAOD::MissingETAssociationMap</ref>*<sp/>map,</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="de/dd2/namespaceMissingETBase_1_1UsageHandler_1adc82230b57f6a7bcfbffe1e66c06130e" kindref="member" tooltip="Policies on usage checks.">MissingETBase::UsageHandler::Policy</ref><sp/>objScale)</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d2/d5b/namespaceMissingETBase_1_1Types_1afbe8719ef44dd43f994a3d5ea2823903" kindref="member" tooltip="Type for status word bit mask.">MissingETBase::Types::bitmask_t</ref><sp/>metSource;</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal">(metType)<sp/>{</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="dd/dc8/namespacexAOD_1_1Type_1a96c48d2d85466ace623036af49f84434a0199381ad718edc5748453cf69eb0fed" kindref="member" tooltip="The object is an electron.">xAOD::Type::Electron</ref>:</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>metSource<sp/>=<sp/><ref refid="d3/dee/structMissingETBase_1_1Source_1a54e69f5a8cc723e45602b7a4ae703c86" kindref="member" tooltip="Standard MET term from reconstructed electrons.">MissingETBase::Source::electron</ref>();</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="dd/dc8/namespacexAOD_1_1Type_1a96c48d2d85466ace623036af49f84434ab4340d8e5195d6c17d7f6147d8ce187f" kindref="member" tooltip="The object is a photon.">xAOD::Type::Photon</ref>:</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>metSource<sp/>=<sp/><ref refid="d3/dee/structMissingETBase_1_1Source_1a3c6ed3fd5aa53ada273df62b26c70f6c" kindref="member" tooltip="Standard MET term from reconstructed photons.">MissingETBase::Source::photon</ref>();</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="dd/dc8/namespacexAOD_1_1Type_1a96c48d2d85466ace623036af49f84434a0f85bdf366b6aa1f3c1308c12ddc5613" kindref="member" tooltip="The object is a tau (jet).">xAOD::Type::Tau</ref>:</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>metSource<sp/>=<sp/><ref refid="d3/dee/structMissingETBase_1_1Source_1a613cb6257533aae825ee7d7cfeefd8f6" kindref="member" tooltip="Standard MET term from reconstructed tau leptons.">MissingETBase::Source::tau</ref>();</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="dd/dc8/namespacexAOD_1_1Type_1a96c48d2d85466ace623036af49f84434af612e5722903badfe4fd0fd721fc4b13" kindref="member" tooltip="The object is a muon.">xAOD::Type::Muon</ref>:</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>metSource<sp/>=<sp/><ref refid="d3/dee/structMissingETBase_1_1Source_1ae7fbc76551db6980f695190685eb6cab" kindref="member" tooltip="Standard MET term from reconstructed muons.">MissingETBase::Source::muon</ref>();</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="dd/dc8/namespacexAOD_1_1Type_1a96c48d2d85466ace623036af49f84434a2c3009abc16936d9f1b2bdc544ebb926" kindref="member" tooltip="The object is a jet.">xAOD::Type::Jet</ref>:</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_WARNING(</highlight><highlight class="stringliteral">&quot;Incorrect<sp/>use<sp/>of<sp/>rebuildMET<sp/>--<sp/>use<sp/>rebuildJetMET<sp/>for<sp/>RefJet<sp/>term&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_WARNING(</highlight><highlight class="stringliteral">&quot;Invalid<sp/>object<sp/>type<sp/>provided:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>metType);</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="209"><highlight class="normal"></highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="dd/d44/namespacexAOD_1a3c42c356018f6111557bd691272349b7" kindref="member" tooltip="Version control by type defintion.">MissingET</ref>*<sp/>met<sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>fillMET(met,metCont,<sp/>metKey<sp/>,<sp/>metSource)<sp/>!=<sp/>StatusCode::SUCCESS)<sp/>{</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_ERROR(</highlight><highlight class="stringliteral">&quot;failed<sp/>to<sp/>fill<sp/>MET<sp/>term<sp/>\&quot;&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>metKey<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;\&quot;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="215"><highlight class="normal"></highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>muon<sp/>eloss<sp/>corrections<sp/>are<sp/>required,<sp/>create<sp/>a<sp/>new<sp/>term<sp/>to<sp/>hold<sp/>these<sp/>if<sp/>it<sp/>doesn&apos;t<sp/>already<sp/>exist</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(metType==<ref refid="dd/dc8/namespacexAOD_1_1Type_1a96c48d2d85466ace623036af49f84434af612e5722903badfe4fd0fd721fc4b13" kindref="member" tooltip="The object is a muon.">xAOD::Type::Muon</ref><sp/>&amp;&amp;<sp/>(m_muEloss<sp/>||<sp/>m_muIsolEloss<sp/>||<sp/>m_doSetMuonJetEMScale)<sp/>&amp;&amp;<sp/>!(*metCont)[</highlight><highlight class="stringliteral">&quot;MuonEloss&quot;</highlight><highlight class="normal">])<sp/>{</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="dd/d44/namespacexAOD_1a3c42c356018f6111557bd691272349b7" kindref="member" tooltip="Version control by type defintion.">MissingET</ref>*<sp/>met_muEloss<sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>fillMET(met_muEloss,metCont,</highlight><highlight class="stringliteral">&quot;MuonEloss&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d3/dee/structMissingETBase_1_1Source_1abcc9670db1b5dbb3f6fb623bfed77a39a3351bc3022fcfaaa1cd488fae40d4471" kindref="member" tooltip="Indicator for the MET term from reconstructed or MC truth muons.">MissingETBase::Source::Muon</ref><sp/>|<sp/><ref refid="d3/dee/structMissingETBase_1_1Source_1a683300f425ef8946f049ff78d96d64eba0f99729dff72b0a09fb967defa442b4c" kindref="member" tooltip="Indicator for MET terms reconstructed from calorimeter signals alone.">MissingETBase::Source::Calo</ref>)<sp/>!=<sp/>StatusCode::SUCCESS)<sp/>{</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_ERROR(</highlight><highlight class="stringliteral">&quot;failed<sp/>to<sp/>create<sp/>Muon<sp/>Eloss<sp/>MET<sp/>term&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="225"><highlight class="normal"></highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rebuildMET(met,collection,map,objScale);</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="228"><highlight class="normal"></highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/>StatusCode<sp/>METMaker::rebuildMET(<ref refid="dd/d06/classxAOD_1_1MissingET__v1" kindref="compound" tooltip="Principal data object for Missing ET.">xAOD::MissingET</ref>*<sp/>met,</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d0/d4d/classDataVector" kindref="compound" tooltip="Derived DataVector&amp;lt;T&amp;gt;.">xAOD::IParticleContainer</ref>*<sp/>collection,</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d5/d3a/classxAOD_1_1MissingETAssociationMap__v1" kindref="compound">xAOD::MissingETAssociationMap</ref>*<sp/>map,</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="de/dd2/namespaceMissingETBase_1_1UsageHandler_1adc82230b57f6a7bcfbffe1e66c06130e" kindref="member" tooltip="Policies on usage checks.">MissingETBase::UsageHandler::Policy</ref><sp/>objScale)</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="de/dd2/namespaceMissingETBase_1_1UsageHandler_1adc82230b57f6a7bcfbffe1e66c06130e" kindref="member" tooltip="Policies on usage checks.">MissingETBase::UsageHandler::Policy</ref><sp/>p<sp/>=<sp/><ref refid="de/dd2/namespaceMissingETBase_1_1UsageHandler_1adc82230b57f6a7bcfbffe1e66c06130ea578ac2c907e0c34b50fbf6e7220dd9a5" kindref="member" tooltip="CaloCluster based only.">MissingETBase::UsageHandler::OnlyCluster</ref>;</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>removeOverlap<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!collection-&gt;<ref refid="d0/d4d/classDataVector_1a85aede44dff3bf86318e9d7ee71f0de5" kindref="member" tooltip="Returns true if the collection is empty.">empty</ref>())<sp/>{</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>IParticle*<sp/>obj<sp/>=<sp/>collection-&gt;<ref refid="d0/d4d/classDataVector_1ad60c996521bcea5c5a57bc078b08b876" kindref="member" tooltip="Access the first element in the collection as an rvalue.">front</ref>();</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(obj-&gt;type()==<ref refid="dd/dc8/namespacexAOD_1_1Type_1a96c48d2d85466ace623036af49f84434af612e5722903badfe4fd0fd721fc4b13" kindref="member" tooltip="The object is a muon.">xAOD::Type::Muon</ref>)<sp/>{</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p<sp/>=<sp/><ref refid="de/dd2/namespaceMissingETBase_1_1UsageHandler_1adc82230b57f6a7bcfbffe1e66c06130ea54f9180e3289c67d6c196acbd530b23d" kindref="member" tooltip="Track based only.">MissingETBase::UsageHandler::OnlyTrack</ref>;</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>removeOverlap<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_doSoftTruth)<sp/>p<sp/>=<sp/><ref refid="de/dd2/namespaceMissingETBase_1_1UsageHandler_1adc82230b57f6a7bcfbffe1e66c06130ea69a3df63c334debb0ca1f2facb0e0aea" kindref="member" tooltip="Truth particle based.">MissingETBase::UsageHandler::TruthParticle</ref>;</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_doPFlow)<sp/>p<sp/>=<sp/><ref refid="de/dd2/namespaceMissingETBase_1_1UsageHandler_1adc82230b57f6a7bcfbffe1e66c06130eac405ada7755ccacc4243723525c284f4" kindref="member" tooltip="Particle Flow Object based.">MissingETBase::UsageHandler::ParticleFlow</ref>;</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rebuildMET(met,collection,map,p,removeOverlap,objScale);</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="247"><highlight class="normal"></highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/>StatusCode<sp/>METMaker::rebuildMET(<ref refid="dd/d06/classxAOD_1_1MissingET__v1" kindref="compound" tooltip="Principal data object for Missing ET.">xAOD::MissingET</ref>*<sp/>met,</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d0/d4d/classDataVector" kindref="compound" tooltip="Derived DataVector&amp;lt;T&amp;gt;.">xAOD::IParticleContainer</ref>*<sp/>collection,</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d5/d3a/classxAOD_1_1MissingETAssociationMap__v1" kindref="compound">xAOD::MissingETAssociationMap</ref>*<sp/>map,</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="de/dd2/namespaceMissingETBase_1_1UsageHandler_1adc82230b57f6a7bcfbffe1e66c06130e" kindref="member" tooltip="Policies on usage checks.">MissingETBase::UsageHandler::Policy</ref><sp/>p,</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>removeOverlap,</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="de/dd2/namespaceMissingETBase_1_1UsageHandler_1adc82230b57f6a7bcfbffe1e66c06130e" kindref="member" tooltip="Policies on usage checks.">MissingETBase::UsageHandler::Policy</ref><sp/>objScale)<sp/>{</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!met<sp/>||<sp/>!collection<sp/>||<sp/>!map)<sp/>{</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_WARNING(</highlight><highlight class="stringliteral">&quot;Invalid<sp/>pointer<sp/>supplied<sp/>for<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;MET<sp/>(&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>met<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;),<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;collection<sp/>(&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>collection<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;),<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/>or<sp/>map<sp/>(&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>map<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;).&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::SUCCESS;</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(map-&gt;<ref refid="d0/d4d/classDataVector_1a85aede44dff3bf86318e9d7ee71f0de5" kindref="member" tooltip="Returns true if the collection is empty.">empty</ref>())<sp/>{</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_WARNING(</highlight><highlight class="stringliteral">&quot;Incomplete<sp/>association<sp/>map<sp/>received.<sp/>Cannot<sp/>rebuild<sp/>MET.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_WARNING(</highlight><highlight class="stringliteral">&quot;Note:<sp/>METMaker<sp/>should<sp/>only<sp/>be<sp/>run<sp/>on<sp/>events<sp/>containing<sp/>at<sp/>least<sp/>one<sp/>PV&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::SUCCESS;</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Building<sp/>MET<sp/>term<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>met-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1ae6b20c7d85d71e38ad573ae81d556615" kindref="member" tooltip="Identifier getters.">name</ref>());</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/>dec_constitObjLinks(*met)<sp/>=<sp/>vector&lt;iplink_t&gt;(0);</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/>dec_constitObjWeights(*met)<sp/>=<sp/>vector&lt;float&gt;(0);</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;iplink_t&gt;&amp;<sp/>uniqueLinks<sp/>=<sp/>dec_constitObjLinks(*met);</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;float&gt;&amp;<sp/>uniqueWeights<sp/>=<sp/>dec_constitObjWeights(*met);</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/>uniqueLinks.reserve(collection-&gt;<ref refid="d0/d4d/classDataVector_1aa4d259c267222003a6d2592fbe9809af" kindref="member" tooltip="Returns the number of elements in the collection.">size</ref>());</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/>uniqueWeights.reserve(collection-&gt;<ref refid="d0/d4d/classDataVector_1aa4d259c267222003a6d2592fbe9809af" kindref="member" tooltip="Returns the number of elements in the collection.">size</ref>());</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!collection-&gt;<ref refid="d0/d4d/classDataVector_1a85aede44dff3bf86318e9d7ee71f0de5" kindref="member" tooltip="Returns true if the collection is empty.">empty</ref>())<sp/>{</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>originalInputs<sp/>=<sp/>!acc_originalObject.isAvailable(*collection-&gt;<ref refid="d0/d4d/classDataVector_1ad60c996521bcea5c5a57bc078b08b876" kindref="member" tooltip="Access the first element in the collection as an rvalue.">front</ref>());</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>isShallowCopy<sp/>=<sp/></highlight><highlight class="keyword">dynamic_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="d5/df0/classxAOD_1_1ShallowAuxContainer" kindref="compound">xAOD::ShallowAuxContainer</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(collection-&gt;<ref refid="d0/d4d/classDataVector_1ad60c996521bcea5c5a57bc078b08b876" kindref="member" tooltip="Access the first element in the collection as an rvalue.">front</ref>()-&gt;container()-&gt;getConstStore());</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;const<sp/>store<sp/>=<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>collection-&gt;<ref refid="d0/d4d/classDataVector_1ad60c996521bcea5c5a57bc078b08b876" kindref="member" tooltip="Access the first element in the collection as an rvalue.">front</ref>()-&gt;container()-&gt;getConstStore());</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(isShallowCopy<sp/>&amp;&amp;<sp/>originalInputs)<sp/>{</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_WARNING(</highlight><highlight class="stringliteral">&quot;Shallow<sp/>copy<sp/>provided<sp/>without<sp/>\&quot;originalObjectLinks\&quot;<sp/>decoration!<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;Overlap<sp/>removal<sp/>cannot<sp/>be<sp/>done.<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;Will<sp/>not<sp/>compute<sp/>this<sp/>term.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_WARNING(</highlight><highlight class="stringliteral">&quot;Please<sp/>apply<sp/>xAOD::setOriginalObjectLinks()<sp/>from<sp/>xAODBase/IParticleHelpers.h&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::SUCCESS;</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Original<sp/>inputs?<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>originalInputs);</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>obj<sp/>:<sp/>*collection)<sp/>{</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>IParticle*<sp/>orig<sp/>=<sp/>obj;</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>selected<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!originalInputs)<sp/>{<sp/>orig<sp/>=<sp/>*acc_originalObject(*obj);<sp/>}</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;const<sp/>xAOD::MissingETAssociation*&gt;<sp/>assocs<sp/>=<sp/><ref refid="de/dc5/structxAOD_1_1MissingETComposition_1acf7fe92968659509aa2b0faed662548a" kindref="member" tooltip="Access non-modifiable contribution object.">xAOD::MissingETComposition::getAssociations</ref>(map,orig);</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Commented<sp/>out<sp/>because<sp/>including<sp/>these<sp/>for<sp/>20.7<sp/>didn&apos;t<sp/>quite<sp/>work.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>if(assocs.empty())<sp/>{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/>ATH_MSG_WARNING(&quot;Object<sp/>is<sp/>not<sp/>in<sp/>association<sp/>map.<sp/>Did<sp/>you<sp/>make<sp/>a<sp/>deep<sp/>copy<sp/>but<sp/>fail<sp/>to<sp/>set<sp/>the<sp/>\&quot;originalObjectLinks\&quot;<sp/>decoration?&quot;);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/>ATH_MSG_WARNING(&quot;If<sp/>not,<sp/>Please<sp/>apply<sp/>xAOD::setOriginalObjectLinks()<sp/>from<sp/>xAODBase/IParticleHelpers.h&quot;);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="296"><highlight class="normal"></highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>the<sp/>object<sp/>has<sp/>already<sp/>been<sp/>selected<sp/>and<sp/>processed,<sp/>ignore<sp/>it.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(MissingETComposition::objSelected(map,orig))<sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/>selected<sp/>=<sp/>MissingETComposition::selectIfNoOverlaps(map,orig,p);</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>if(!selected)<sp/>ATH_MSG_INFO(&quot;Unselected<sp/>object<sp/>--<sp/>&quot;<sp/>&lt;&lt;<sp/>assocs.size()<sp/>&lt;&lt;<sp/>&quot;<sp/>associations&quot;);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!selected<sp/>&amp;&amp;<sp/>m_pfInsurance<sp/>&amp;&amp;<sp/>assocs.size()&gt;0)<sp/>{</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>assoc<sp/>:<sp/>assocs)<sp/>{</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(assoc-&gt;isMisc())<sp/>{</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>switch<sp/>off<sp/>the<sp/>misc<sp/>assoc<sp/>contribution<sp/>for<sp/>this<sp/>object</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>apparently<sp/>it<sp/>is<sp/>also<sp/>in<sp/>a<sp/>jet.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_INFO(</highlight><highlight class="stringliteral">&quot;Found<sp/>a<sp/>misc<sp/>object<sp/>in<sp/>a<sp/>jet<sp/>with<sp/>trkpt<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>assoc-&gt;trkVec(orig).cpt()<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>cluspt<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>assoc-&gt;trkVec(orig).cpt());</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>trkpt<sp/>=<sp/>assoc-&gt;trkVec(orig).cpt();</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>calpt<sp/>=<sp/>assoc-&gt;calVec(orig).cpt();</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(trkpt&gt;30e3<sp/>&amp;&amp;<sp/>fabs(trkpt-calpt)&lt;1e-9)<sp/>{</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_INFO(</highlight><highlight class="stringliteral">&quot;VETO&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>assoc-&gt;setObjSelectionFlag(orig,</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/>selected<sp/>|=<sp/>!removeOverlap;</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(obj-&gt;type()<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/>(&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>orig<sp/>&lt;&lt;</highlight><highlight class="stringliteral">&quot;)<sp/>with<sp/>pt<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>obj-&gt;pt()</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/>is<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>(<sp/>selected<sp/>?<sp/></highlight><highlight class="stringliteral">&quot;non-&quot;</highlight><highlight class="normal"><sp/>:<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">)<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;overlapping&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(selected<sp/>&amp;&amp;<sp/>obj-&gt;type()<sp/>==<sp/><ref refid="dd/dc8/namespacexAOD_1_1Type_1a96c48d2d85466ace623036af49f84434ab4340d8e5195d6c17d7f6147d8ce187f" kindref="member" tooltip="The object is a photon.">xAOD::Type::Photon</ref><sp/>&amp;&amp;<sp/>m_greedyPhotons)<sp/>{</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>assocs.size();<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::vector&lt;size_t&gt;<sp/>ind<sp/>=<sp/>assocs[i]-&gt;overlapIndices(orig);</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::vector&lt;const<sp/>xAOD::IParticle*&gt;<sp/>allObjects<sp/>=<sp/>assocs[i]-&gt;objects();</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>indi<sp/>=<sp/>0;<sp/>indi<sp/>&lt;<sp/>ind.size();<sp/>indi++)<sp/>{</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(allObjects[ind[indi]]<sp/>&amp;&amp;<sp/>allObjects[ind[indi]]-&gt;type()==<ref refid="dd/dc8/namespacexAOD_1_1Type_1a96c48d2d85466ace623036af49f84434a0199381ad718edc5748453cf69eb0fed" kindref="member" tooltip="The object is an electron.">xAOD::Type::Electron</ref>)<sp/>assocs[i]-&gt;setObjSelectionFlag(allObjects[ind[indi]],</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="328"><highlight class="normal"></highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Do<sp/>special<sp/>overlap<sp/>removal<sp/>for<sp/>calo<sp/>tagged<sp/>muons</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(m_orCaloTaggedMuon<sp/>&amp;&amp;<sp/>!removeOverlap<sp/>&amp;&amp;<sp/>orig-&gt;type()==<ref refid="dd/dc8/namespacexAOD_1_1Type_1a96c48d2d85466ace623036af49f84434af612e5722903badfe4fd0fd721fc4b13" kindref="member" tooltip="The object is a muon.">xAOD::Type::Muon</ref><sp/>&amp;&amp;<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="d2/d30/classxAOD_1_1Muon__v1" kindref="compound">xAOD::Muon</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(orig)-&gt;muonType()==xAOD::Muon::CaloTagged)<sp/>{</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>assocs.size();<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::vector&lt;size_t&gt;<sp/>ind<sp/>=<sp/>assocs[i]-&gt;overlapIndices(orig);</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::vector&lt;const<sp/>xAOD::IParticle*&gt;<sp/>allObjects<sp/>=<sp/>assocs[i]-&gt;objects();</highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>indi<sp/>=<sp/>0;<sp/>indi<sp/>&lt;<sp/>ind.size();<sp/>indi++)<sp/>{</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(allObjects[ind[indi]]<sp/>&amp;&amp;<sp/>allObjects[ind[indi]]-&gt;type()==<ref refid="dd/dc8/namespacexAOD_1_1Type_1a96c48d2d85466ace623036af49f84434a0199381ad718edc5748453cf69eb0fed" kindref="member" tooltip="The object is an electron.">xAOD::Type::Electron</ref></highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;&amp;<sp/>assocs[i]-&gt;objSelected(ind[indi]))<sp/>{</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>selected<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Don&apos;t<sp/>overlap<sp/>remove<sp/>muons,<sp/>but<sp/>flag<sp/>the<sp/>non-overlapping<sp/>muons<sp/>to<sp/>take<sp/>out<sp/>their<sp/>tracks<sp/>from<sp/>jets</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(selected)<sp/>{</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(objScale==<ref refid="de/dd2/namespaceMissingETBase_1_1UsageHandler_1adc82230b57f6a7bcfbffe1e66c06130eaeb1607e7362104eae3082d4a54115369" kindref="member" tooltip="Physics object based.">MissingETBase::UsageHandler::PhysicsObject</ref>)<sp/>{</highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(m_muEloss<sp/>&amp;&amp;<sp/>MissingETBase::Source::isMuonTerm(met-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1aa4f9f5a81ce0f69045faf1099ceb9cf6" kindref="member" tooltip="MET object source tag.">source</ref>()))<sp/>{</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d2/d30/classxAOD_1_1Muon__v1" kindref="compound">xAOD::Muon</ref>*<sp/>muon<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="d2/d30/classxAOD_1_1Muon__v1" kindref="compound">xAOD::Muon</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(obj);</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>isolated<sp/>=<sp/>MissingETComposition::getRefJet(map,orig)==0;</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Muon<sp/>isolated?<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>isolated);</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>apply<sp/>Eloss<sp/>correction</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!isolated<sp/>||<sp/>m_muIsolEloss)<sp/>{</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>eloss<sp/>=<sp/>acc_Eloss(*muon);</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>eloss_corr<sp/>=<sp/>-1.<sp/>*<sp/>eloss<sp/>/<sp/>muon-&gt;<ref refid="d2/d30/classxAOD_1_1Muon__v1_1a6fefc26bacd64afd589d2f4b16b0f655" kindref="member" tooltip="The total energy of the particle.">e</ref>();</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Eloss:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>eloss<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>E:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>muon-&gt;<ref refid="d2/d30/classxAOD_1_1Muon__v1_1a6fefc26bacd64afd589d2f4b16b0f655" kindref="member" tooltip="The total energy of the particle.">e</ref>()<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>correction<sp/>factor:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>eloss_corr);</highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>eloss&gt;muon-&gt;<ref refid="d2/d30/classxAOD_1_1Muon__v1_1a6fefc26bacd64afd589d2f4b16b0f655" kindref="member" tooltip="The total energy of the particle.">e</ref>())<sp/>{ATH_MSG_WARNING(</highlight><highlight class="stringliteral">&quot;Muon<sp/>Eloss<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>eloss<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/>&gt;<sp/>muon<sp/>E<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>muon-&gt;<ref refid="d2/d30/classxAOD_1_1Muon__v1_1a6fefc26bacd64afd589d2f4b16b0f655" kindref="member" tooltip="The total energy of the particle.">e</ref>()<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;!&quot;</highlight><highlight class="normal">);<sp/>}</highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{<sp/></highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>met-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1ae690438a17de949bbf3ef2a5c137dc6f" kindref="member" tooltip="Add particle kinematics to MET.">add</ref>(muon);</highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MissingETContainer*<sp/>metCont<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal">MissingETContainer*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(met-&gt;<ref refid="dc/db0/classSG_1_1AuxElement_1a9004b51bd3619cab56c3d52e290c09b9" kindref="member" tooltip="Return the container holding this element.">container</ref>());</highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="dd/d44/namespacexAOD_1a3c42c356018f6111557bd691272349b7" kindref="member" tooltip="Version control by type defintion.">MissingET</ref>*<sp/>met_eloss<sp/>=<sp/>(*metCont)[</highlight><highlight class="stringliteral">&quot;MuonEloss&quot;</highlight><highlight class="normal">];</highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(met_eloss)<sp/>{</highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>met_eloss-&gt;add(muon,eloss_corr);</highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_WARNING(</highlight><highlight class="stringliteral">&quot;Attempted<sp/>to<sp/>apply<sp/>muon<sp/>Eloss<sp/>correction,<sp/>but<sp/>corresponding<sp/>MET<sp/>term<sp/>does<sp/>not<sp/>exist!&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;</highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>met-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1ae690438a17de949bbf3ef2a5c137dc6f" kindref="member" tooltip="Add particle kinematics to MET.">add</ref>(muon);<sp/></highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Add<sp/>object<sp/>with<sp/>pt<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>obj-&gt;pt());</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*met<sp/>+=<sp/>obj;</highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec" kindref="compound" tooltip="Vector sum of constituents for subtractive overlap removal.">MissingETBase::Types::constvec_t</ref><sp/>constvec<sp/>=<sp/>MissingETComposition::getConstVec(map,obj,objScale);</highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Add<sp/>truth<sp/>object<sp/>with<sp/>pt<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>constvec.<ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec_1a9dd8f0a708cb0c5e27e6acaa3f854c9c" kindref="member" tooltip="Returns .">cpt</ref>());</highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>met-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1ae690438a17de949bbf3ef2a5c137dc6f" kindref="member" tooltip="Add particle kinematics to MET.">add</ref>(constvec.<ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec_1a5818e9b9eb7ced53722e7b7c87ef69af" kindref="member" tooltip="Returns .">cpx</ref>(),constvec.<ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec_1a9dff41cc936ef9eceb322a3d6b4e71bf" kindref="member" tooltip="Returns .">cpy</ref>(),constvec.<ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec_1a9dd8f0a708cb0c5e27e6acaa3f854c9c" kindref="member" tooltip="Returns .">cpt</ref>());</highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((m_doRemoveMuonJets<sp/>||<sp/>m_doSetMuonJetEMScale)<sp/>&amp;&amp;<sp/>obj-&gt;type()==<ref refid="dd/dc8/namespacexAOD_1_1Type_1a96c48d2d85466ace623036af49f84434af612e5722903badfe4fd0fd721fc4b13" kindref="member" tooltip="The object is a muon.">xAOD::Type::Muon</ref>)<sp/>{</highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>use<sp/>this<sp/>as<sp/>backup<sp/>in<sp/>case<sp/>muon<sp/>is<sp/>non-associated</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;object<sp/>of<sp/>type<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>obj-&gt;type()<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/>selected,<sp/>index<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>obj-&gt;index());</highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(selected)<sp/>{</highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>uniqueLinks.emplace_back(<sp/>iplink_t(*static_cast&lt;const<sp/>IParticleContainer*&gt;(obj-&gt;container()),obj-&gt;index())<sp/>);</highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>uniqueWeights.emplace_back(<sp/>1.<sp/>);</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_DEBUG(</highlight><highlight class="stringliteral">&quot;Built<sp/>met<sp/>term<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>met-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1ae6b20c7d85d71e38ad573ae81d556615" kindref="member" tooltip="Identifier getters.">name</ref>()<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>with<sp/>magnitude<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>met-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1a626a6075dca3a5f4dcc0ab3c20409120" kindref="member" tooltip="Returns .">met</ref>());</highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::SUCCESS;</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="393"><highlight class="normal"></highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/>StatusCode<sp/>METMaker::rebuildJetMET(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>metJetKey,</highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>softKey,</highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d0/d90/classxAOD_1_1MissingETContainer__v1" kindref="compound" tooltip="Container for xAOD::MissingET_v1 objects.">xAOD::MissingETContainer</ref>*<sp/>metCont,</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d0/d4d/classDataVector" kindref="compound" tooltip="Derived DataVector&amp;lt;T&amp;gt;.">xAOD::JetContainer</ref>*<sp/>jets,</highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d0/d90/classxAOD_1_1MissingETContainer__v1" kindref="compound" tooltip="Container for xAOD::MissingET_v1 objects.">xAOD::MissingETContainer</ref>*<sp/>metCoreCont,</highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d5/d3a/classxAOD_1_1MissingETAssociationMap__v1" kindref="compound">xAOD::MissingETAssociationMap</ref>*<sp/>map,</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>doJetJVT)</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Rebuild<sp/>jet<sp/>term:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>metJetKey<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/>and<sp/>soft<sp/>term:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>softKey);</highlight></codeline>
<codeline lineno="403"><highlight class="normal"></highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="dd/d44/namespacexAOD_1a3c42c356018f6111557bd691272349b7" kindref="member" tooltip="Version control by type defintion.">MissingET</ref>*<sp/>metJet<sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>fillMET(metJet,metCont,<sp/>metJetKey,<sp/><ref refid="d3/dee/structMissingETBase_1_1Source_1a0c972a9cb37e75a68047e4c4b7d2106c" kindref="member" tooltip="Standard MET term from reconstructed jets.">MissingETBase::Source::jet</ref>())<sp/>!=<sp/>StatusCode::SUCCESS)<sp/>{</highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_ERROR(</highlight><highlight class="stringliteral">&quot;failed<sp/>to<sp/>fill<sp/>MET<sp/>term<sp/>\&quot;&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>metJetKey<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;\&quot;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="409"><highlight class="normal"></highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="dd/d44/namespacexAOD_1a3c42c356018f6111557bd691272349b7" kindref="member" tooltip="Version control by type defintion.">MissingET</ref><sp/>*coreSoftClus(0),<sp/>*coreSoftTrk(0);</highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="dd/d44/namespacexAOD_1a3c42c356018f6111557bd691272349b7" kindref="member" tooltip="Version control by type defintion.">MissingET</ref><sp/>*metSoftClus(0),<sp/>*metSoftTrk(0);</highlight></codeline>
<codeline lineno="412"><highlight class="normal"></highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="dd/d44/namespacexAOD_1a3c42c356018f6111557bd691272349b7" kindref="member" tooltip="Version control by type defintion.">MissingET</ref>*<sp/>coreSoft<sp/>=<sp/>(*metCoreCont)[softKey+</highlight><highlight class="stringliteral">&quot;Core&quot;</highlight><highlight class="normal">];</highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!coreSoft)<sp/>{</highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_WARNING(</highlight><highlight class="stringliteral">&quot;Invalid<sp/>soft<sp/>term<sp/>key<sp/>supplied:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>softKey);</highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;</highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(MissingETBase::Source::isTrackTerm(coreSoft-&gt;source()))<sp/>{</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>coreSoftTrk<sp/>=<sp/>coreSoft;</highlight></codeline>
<codeline lineno="420"><highlight class="normal"></highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>metSoftTrk<sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>fillMET(metSoftTrk,metCont,<sp/>softKey<sp/>,<sp/>coreSoftTrk-&gt;source()<sp/>)<sp/>!=<sp/>StatusCode::SUCCESS)<sp/>{</highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_ERROR(</highlight><highlight class="stringliteral">&quot;failed<sp/>to<sp/>fill<sp/>MET<sp/>term<sp/>\&quot;&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>softKey<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;\&quot;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>coreSoftClus<sp/>=<sp/>coreSoft;</highlight></codeline>
<codeline lineno="428"><highlight class="normal"></highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>metSoftClus<sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>fillMET(metSoftClus,<sp/>metCont,<sp/>softKey<sp/>,<sp/>coreSoftClus-&gt;source()<sp/>)<sp/>!=<sp/>StatusCode::SUCCESS)<sp/>{</highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_ERROR(</highlight><highlight class="stringliteral">&quot;failed<sp/>to<sp/>fill<sp/>MET<sp/>term<sp/>\&quot;&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>softKey<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;\&quot;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;</highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="435"><highlight class="normal"></highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rebuildJetMET(metJet,<sp/>jets,<sp/>map,</highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>metSoftClus,<sp/>coreSoftClus,</highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>metSoftTrk,<sp/><sp/>coreSoftTrk,</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>doJetJVT);</highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="441"><highlight class="normal"></highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/>StatusCode<sp/>METMaker::rebuildTrackMET(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>metJetKey,</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>softKey,</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d0/d90/classxAOD_1_1MissingETContainer__v1" kindref="compound" tooltip="Container for xAOD::MissingET_v1 objects.">xAOD::MissingETContainer</ref>*<sp/>metCont,</highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d0/d4d/classDataVector" kindref="compound" tooltip="Derived DataVector&amp;lt;T&amp;gt;.">xAOD::JetContainer</ref>*<sp/>jets,</highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d0/d90/classxAOD_1_1MissingETContainer__v1" kindref="compound" tooltip="Container for xAOD::MissingET_v1 objects.">xAOD::MissingETContainer</ref>*<sp/>metCoreCont,</highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d5/d3a/classxAOD_1_1MissingETAssociationMap__v1" kindref="compound">xAOD::MissingETAssociationMap</ref>*<sp/>map,</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>doJetJVT)</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Rebuild<sp/>jet<sp/>term:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>metJetKey<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/>and<sp/>soft<sp/>term:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>softKey);</highlight></codeline>
<codeline lineno="451"><highlight class="normal"></highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="dd/d44/namespacexAOD_1a3c42c356018f6111557bd691272349b7" kindref="member" tooltip="Version control by type defintion.">MissingET</ref>*<sp/>metJet<sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>fillMET(metJet<sp/>,<sp/>metCont,<sp/><sp/>metJetKey<sp/><sp/>,<sp/><ref refid="d3/dee/structMissingETBase_1_1Source_1a0c972a9cb37e75a68047e4c4b7d2106c" kindref="member" tooltip="Standard MET term from reconstructed jets.">MissingETBase::Source::jet</ref>()<sp/>|<sp/><ref refid="d3/dee/structMissingETBase_1_1Source_1ad350b9f44e6baed7225dd08522ab37b3" kindref="member" tooltip="Bit mask for MET term from Track signal objects.">MissingETBase::Source::track</ref>()<sp/>)<sp/>!=<sp/>StatusCode::SUCCESS)<sp/>{</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_ERROR(</highlight><highlight class="stringliteral">&quot;failed<sp/>to<sp/>fill<sp/>MET<sp/>term<sp/>\&quot;&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>metJetKey<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;\&quot;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;</highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="457"><highlight class="normal"></highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="dd/d44/namespacexAOD_1a3c42c356018f6111557bd691272349b7" kindref="member" tooltip="Version control by type defintion.">MissingET</ref><sp/>*coreSoftTrk(0);</highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="dd/d44/namespacexAOD_1a3c42c356018f6111557bd691272349b7" kindref="member" tooltip="Version control by type defintion.">MissingET</ref><sp/>*metSoftTrk(0);</highlight></codeline>
<codeline lineno="460"><highlight class="normal"></highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="dd/d44/namespacexAOD_1a3c42c356018f6111557bd691272349b7" kindref="member" tooltip="Version control by type defintion.">MissingET</ref>*<sp/>coreSoft<sp/>=<sp/>(*metCoreCont)[softKey+</highlight><highlight class="stringliteral">&quot;Core&quot;</highlight><highlight class="normal">];</highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!coreSoft)<sp/>{</highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_WARNING(</highlight><highlight class="stringliteral">&quot;Invalid<sp/>soft<sp/>term<sp/>key<sp/>supplied:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>softKey);</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;</highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/>coreSoftTrk<sp/>=<sp/>coreSoft;</highlight></codeline>
<codeline lineno="467"><highlight class="normal"></highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/><sp/><sp/>metSoftTrk<sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>fillMET(metSoftTrk<sp/>,<sp/>metCont,<sp/>softKey<sp/><sp/>,<sp/>coreSoftTrk-&gt;source())<sp/>!=<sp/>StatusCode::SUCCESS)<sp/>{</highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_ERROR(</highlight><highlight class="stringliteral">&quot;failed<sp/>to<sp/>fill<sp/>MET<sp/>term<sp/>\&quot;&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>softKey<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;\&quot;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="473"><highlight class="normal"></highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rebuildTrackMET(metJet,<sp/>jets,<sp/>map,</highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>metSoftTrk,<sp/><sp/>coreSoftTrk,</highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>doJetJVT);</highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="478"><highlight class="normal"></highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/>StatusCode<sp/>METMaker::rebuildJetMET(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>metJetKey,</highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>softClusKey,</highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>softTrkKey,</highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d0/d90/classxAOD_1_1MissingETContainer__v1" kindref="compound" tooltip="Container for xAOD::MissingET_v1 objects.">xAOD::MissingETContainer</ref>*<sp/>metCont,</highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d0/d4d/classDataVector" kindref="compound" tooltip="Derived DataVector&amp;lt;T&amp;gt;.">xAOD::JetContainer</ref>*<sp/>jets,</highlight></codeline>
<codeline lineno="484"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d0/d90/classxAOD_1_1MissingETContainer__v1" kindref="compound" tooltip="Container for xAOD::MissingET_v1 objects.">xAOD::MissingETContainer</ref>*<sp/>metCoreCont,</highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d5/d3a/classxAOD_1_1MissingETAssociationMap__v1" kindref="compound">xAOD::MissingETAssociationMap</ref>*<sp/>map,</highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>doJetJVT)</highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="488"><highlight class="normal"></highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Create<sp/>Jet<sp/>MET<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>metJetKey);</highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="dd/d44/namespacexAOD_1a3c42c356018f6111557bd691272349b7" kindref="member" tooltip="Version control by type defintion.">MissingET</ref>*<sp/>metJet<sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>fillMET(metJet<sp/>,<sp/>metCont<sp/>,metJetKey<sp/>,<sp/><ref refid="d3/dee/structMissingETBase_1_1Source_1a0c972a9cb37e75a68047e4c4b7d2106c" kindref="member" tooltip="Standard MET term from reconstructed jets.">MissingETBase::Source::jet</ref>())<sp/>!=<sp/>StatusCode::SUCCESS)<sp/>{</highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_ERROR(</highlight><highlight class="stringliteral">&quot;failed<sp/>to<sp/>fill<sp/>MET<sp/>term<sp/>\&quot;&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>metJetKey<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;\&quot;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;</highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Create<sp/>SoftClus<sp/>MET<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>softClusKey);</highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="dd/d44/namespacexAOD_1a3c42c356018f6111557bd691272349b7" kindref="member" tooltip="Version control by type defintion.">MissingET</ref>*<sp/>coreSoftClus<sp/>=<sp/>(*metCoreCont)[softClusKey+</highlight><highlight class="stringliteral">&quot;Core&quot;</highlight><highlight class="normal">];</highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Create<sp/>SoftTrk<sp/>MET<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>softTrkKey);</highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="dd/d44/namespacexAOD_1a3c42c356018f6111557bd691272349b7" kindref="member" tooltip="Version control by type defintion.">MissingET</ref>*<sp/>coreSoftTrk<sp/>=<sp/>(*metCoreCont)[softTrkKey+</highlight><highlight class="stringliteral">&quot;Core&quot;</highlight><highlight class="normal">];</highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!coreSoftClus)<sp/>{</highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_WARNING(</highlight><highlight class="stringliteral">&quot;Invalid<sp/>cluster<sp/>soft<sp/>term<sp/>key<sp/>supplied:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>softClusKey);</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;</highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!coreSoftTrk)<sp/>{</highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_WARNING(</highlight><highlight class="stringliteral">&quot;Invalid<sp/>track<sp/>soft<sp/>term<sp/>key<sp/>supplied:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>softTrkKey);</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;</highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="dd/d44/namespacexAOD_1a3c42c356018f6111557bd691272349b7" kindref="member" tooltip="Version control by type defintion.">MissingET</ref>*<sp/>metSoftClus<sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>fillMET(metSoftClus,<sp/>metCont,<sp/>softClusKey,<sp/><sp/>coreSoftClus-&gt;source())<sp/>!=<sp/>StatusCode::SUCCESS)<sp/>{</highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_ERROR(</highlight><highlight class="stringliteral">&quot;failed<sp/>to<sp/>fill<sp/>MET<sp/>term<sp/>\&quot;&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>softClusKey<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;\&quot;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;</highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="512"><highlight class="normal"></highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="dd/d44/namespacexAOD_1a3c42c356018f6111557bd691272349b7" kindref="member" tooltip="Version control by type defintion.">MissingET</ref>*<sp/>metSoftTrk<sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>fillMET(metSoftTrk,<sp/>metCont,<sp/>softTrkKey,<sp/><sp/>coreSoftTrk-&gt;source())<sp/>!=<sp/>StatusCode::SUCCESS)<sp/>{</highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_ERROR(</highlight><highlight class="stringliteral">&quot;failed<sp/>to<sp/>fill<sp/>MET<sp/>term<sp/>\&quot;&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>softTrkKey<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;\&quot;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;</highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="518"><highlight class="normal"></highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rebuildJetMET(metJet,<sp/>jets,<sp/>map,</highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>metSoftClus,<sp/>coreSoftClus,</highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>metSoftTrk,<sp/>coreSoftTrk,</highlight></codeline>
<codeline lineno="522"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>doJetJVT);</highlight></codeline>
<codeline lineno="523"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="524"><highlight class="normal"></highlight></codeline>
<codeline lineno="525"><highlight class="normal"><sp/><sp/>StatusCode<sp/>METMaker::rebuildJetMET(<ref refid="dd/d06/classxAOD_1_1MissingET__v1" kindref="compound" tooltip="Principal data object for Missing ET.">xAOD::MissingET</ref>*<sp/>metJet,</highlight></codeline>
<codeline lineno="526"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d0/d4d/classDataVector" kindref="compound" tooltip="Derived DataVector&amp;lt;T&amp;gt;.">xAOD::JetContainer</ref>*<sp/>jets,</highlight></codeline>
<codeline lineno="527"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d5/d3a/classxAOD_1_1MissingETAssociationMap__v1" kindref="compound">xAOD::MissingETAssociationMap</ref>*<sp/>map,</highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="dd/d06/classxAOD_1_1MissingET__v1" kindref="compound" tooltip="Principal data object for Missing ET.">xAOD::MissingET</ref>*<sp/>metSoftClus,</highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="dd/d06/classxAOD_1_1MissingET__v1" kindref="compound" tooltip="Principal data object for Missing ET.">xAOD::MissingET</ref>*<sp/>coreSoftClus,</highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="dd/d06/classxAOD_1_1MissingET__v1" kindref="compound" tooltip="Principal data object for Missing ET.">xAOD::MissingET</ref>*<sp/>metSoftTrk,</highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="dd/d06/classxAOD_1_1MissingET__v1" kindref="compound" tooltip="Principal data object for Missing ET.">xAOD::MissingET</ref>*<sp/>coreSoftTrk,</highlight></codeline>
<codeline lineno="532"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>doJetJVT,</highlight></codeline>
<codeline lineno="533"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>tracksForHardJets,</highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::vector&lt;const<sp/>xAOD::IParticle*&gt;*<sp/>softConst)<sp/>{</highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!metJet<sp/>||<sp/>!jets<sp/>||<sp/>!map)<sp/>{</highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_WARNING(<sp/></highlight><highlight class="stringliteral">&quot;Invalid<sp/>pointer<sp/>supplied<sp/>for<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;RefJet<sp/>term<sp/>(&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>metJet<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;),<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;jet<sp/>collection<sp/>(&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>jets<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;),<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/>or<sp/>map<sp/>(&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>map<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;).&quot;</highlight><highlight class="normal"><sp/>);</highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::SUCCESS;</highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(softConst<sp/>&amp;&amp;<sp/>m_trkseltool.empty()<sp/>&amp;&amp;<sp/>!m_doPFlow<sp/>&amp;&amp;<sp/>!m_doSoftTruth)<sp/>{</highlight></codeline>
<codeline lineno="543"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_WARNING(<sp/></highlight><highlight class="stringliteral">&quot;Requested<sp/>soft<sp/>track<sp/>element<sp/>links,<sp/>but<sp/>no<sp/>track<sp/>selection<sp/>tool<sp/>supplied.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="544"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="db/dd1/classxAOD_1_1Vertex__v1" kindref="compound">xAOD::Vertex</ref><sp/>*pv<sp/>=<sp/>softConst?getPV():0;</highlight></codeline>
<codeline lineno="546"><highlight class="normal"></highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(map-&gt;<ref refid="d0/d4d/classDataVector_1a85aede44dff3bf86318e9d7ee71f0de5" kindref="member" tooltip="Returns true if the collection is empty.">empty</ref>())<sp/>{</highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_WARNING(</highlight><highlight class="stringliteral">&quot;Incomplete<sp/>association<sp/>map<sp/>received.<sp/>Cannot<sp/>rebuild<sp/>MET.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="549"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_WARNING(</highlight><highlight class="stringliteral">&quot;Note:<sp/>METMaker<sp/>should<sp/>only<sp/>be<sp/>run<sp/>on<sp/>events<sp/>containing<sp/>at<sp/>least<sp/>one<sp/>PV&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="550"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::SUCCESS;</highlight></codeline>
<codeline lineno="551"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="552"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Building<sp/>MET<sp/>jet<sp/>term<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>metJet-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1ae6b20c7d85d71e38ad573ae81d556615" kindref="member" tooltip="Identifier getters.">name</ref>());</highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!metSoftClus<sp/>&amp;&amp;<sp/>!metSoftTrk)<sp/>{</highlight></codeline>
<codeline lineno="554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_WARNING(</highlight><highlight class="stringliteral">&quot;Neither<sp/>soft<sp/>cluster<sp/>nor<sp/>soft<sp/>track<sp/>term<sp/>has<sp/>been<sp/>supplied!&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="555"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::SUCCESS;</highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="dd/d86/classSG_1_1AuxElement_1_1ConstAccessor" kindref="compound" tooltip="Helper class to provide constant type-safe access to aux data.">SG::AuxElement::ConstAccessor&lt;std::vector&lt;ElementLink&lt;IParticleContainer&gt;</ref><sp/>&gt;<sp/>&gt;<sp/>acc_softConst(</highlight><highlight class="stringliteral">&quot;softConstituents&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(metSoftClus)<sp/>{</highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>dec_constitObjLinks(*metSoftClus)<sp/>=<sp/>vector&lt;iplink_t&gt;(0);</highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(coreSoftClus)<sp/>{</highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Building<sp/>MET<sp/>soft<sp/>cluster<sp/>term<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>metSoftClus-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1ae6b20c7d85d71e38ad573ae81d556615" kindref="member" tooltip="Identifier getters.">name</ref>());</highlight></codeline>
<codeline lineno="562"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Core<sp/>soft<sp/>cluster<sp/>mpx<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>coreSoftClus-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1aa098e7ecb13fd6547bb3e9f26aaf6e5a" kindref="member" tooltip="Returns .">mpx</ref>()</highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>mpy<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>coreSoftClus-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1ab2ec5bd42f6f8238455ddc7d1761bd99" kindref="member" tooltip="Returns .">mpy</ref>()</highlight></codeline>
<codeline lineno="564"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/>sumet<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>coreSoftClus-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1af3599113dcc06aabf7010c053057e488" kindref="member" tooltip="Returns.">sumet</ref>());</highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*metSoftClus<sp/>+=<sp/>*coreSoftClus;</highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="567"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_WARNING(</highlight><highlight class="stringliteral">&quot;Soft<sp/>cluster<sp/>term<sp/>provided<sp/>without<sp/>a<sp/>core<sp/>term!&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::SUCCESS;</highlight></codeline>
<codeline lineno="569"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="570"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Fill<sp/>a<sp/>vector<sp/>with<sp/>the<sp/>soft<sp/>constituents,<sp/>if<sp/>one<sp/>was<sp/>provided.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>For<sp/>now,<sp/>only<sp/>setting<sp/>up<sp/>to<sp/>work<sp/>with<sp/>those<sp/>corresponding<sp/>to<sp/>the<sp/>jet<sp/>constituents.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="572"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Can<sp/>expand<sp/>if<sp/>needed.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="573"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(softConst<sp/>&amp;&amp;<sp/>acc_softConst.isAvailable(*coreSoftClus))<sp/>{</highlight></codeline>
<codeline lineno="574"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>constit<sp/>:<sp/>acc_softConst(*coreSoftClus))<sp/>{</highlight></codeline>
<codeline lineno="575"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>softConst-&gt;push_back(*constit);</highlight></codeline>
<codeline lineno="576"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="577"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_DEBUG(softConst-&gt;size()<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/>soft<sp/>constituents<sp/>from<sp/>core<sp/>term&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="578"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="579"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="580"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(metSoftTrk)<sp/>{</highlight></codeline>
<codeline lineno="581"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>dec_constitObjLinks(*metSoftTrk)<sp/>=<sp/>vector&lt;iplink_t&gt;(0);</highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(coreSoftTrk)<sp/>{</highlight></codeline>
<codeline lineno="583"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Building<sp/>MET<sp/>soft<sp/>track<sp/>term<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>metSoftTrk-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1ae6b20c7d85d71e38ad573ae81d556615" kindref="member" tooltip="Identifier getters.">name</ref>());</highlight></codeline>
<codeline lineno="584"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Core<sp/>soft<sp/>track<sp/>mpx<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>coreSoftTrk-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1aa098e7ecb13fd6547bb3e9f26aaf6e5a" kindref="member" tooltip="Returns .">mpx</ref>()</highlight></codeline>
<codeline lineno="585"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>mpy<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>coreSoftTrk-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1ab2ec5bd42f6f8238455ddc7d1761bd99" kindref="member" tooltip="Returns .">mpy</ref>()</highlight></codeline>
<codeline lineno="586"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/>sumet<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>coreSoftTrk-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1af3599113dcc06aabf7010c053057e488" kindref="member" tooltip="Returns.">sumet</ref>());</highlight></codeline>
<codeline lineno="587"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*metSoftTrk<sp/>+=<sp/>*coreSoftTrk;</highlight></codeline>
<codeline lineno="588"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="589"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_WARNING(</highlight><highlight class="stringliteral">&quot;Soft<sp/>track<sp/>term<sp/>provided<sp/>without<sp/>a<sp/>core<sp/>term!&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="590"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::SUCCESS;</highlight></codeline>
<codeline lineno="591"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="592"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(softConst<sp/>&amp;&amp;<sp/>acc_softConst.isAvailable(*coreSoftTrk)<sp/>&amp;&amp;<sp/>!m_doPFlow<sp/>&amp;&amp;<sp/>!m_doSoftTruth)<sp/>{</highlight></codeline>
<codeline lineno="593"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>constit<sp/>:<sp/>acc_softConst(*coreSoftTrk))<sp/>{</highlight></codeline>
<codeline lineno="594"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>softConst-&gt;push_back(*constit);</highlight></codeline>
<codeline lineno="595"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="596"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_DEBUG(softConst-&gt;size()<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/>soft<sp/>constituents<sp/>from<sp/>trk<sp/>core<sp/>term&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="597"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="598"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="599"><highlight class="normal"></highlight></codeline>
<codeline lineno="600"><highlight class="normal"><sp/><sp/><sp/><sp/>dec_constitObjLinks(*metJet)<sp/>=<sp/>std::vector&lt;iplink_t&gt;(0);</highlight></codeline>
<codeline lineno="601"><highlight class="normal"><sp/><sp/><sp/><sp/>dec_constitObjWeights(*metJet)<sp/>=<sp/>std::vector&lt;float&gt;(0);</highlight></codeline>
<codeline lineno="602"><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;iplink_t&gt;&amp;<sp/>uniqueLinks<sp/>=<sp/>dec_constitObjLinks(*metJet);</highlight></codeline>
<codeline lineno="603"><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;float&gt;&amp;<sp/>uniqueWeights<sp/>=<sp/>dec_constitObjWeights(*metJet);</highlight></codeline>
<codeline lineno="604"><highlight class="normal"><sp/><sp/><sp/><sp/>uniqueLinks.reserve(jets-&gt;<ref refid="d0/d4d/classDataVector_1aa4d259c267222003a6d2592fbe9809af" kindref="member" tooltip="Returns the number of elements in the collection.">size</ref>());</highlight></codeline>
<codeline lineno="605"><highlight class="normal"><sp/><sp/><sp/><sp/>uniqueWeights.reserve(jets-&gt;<ref refid="d0/d4d/classDataVector_1aa4d259c267222003a6d2592fbe9809af" kindref="member" tooltip="Returns the number of elements in the collection.">size</ref>());</highlight></codeline>
<codeline lineno="606"><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;iplink_t&gt;<sp/>softJetLinks;</highlight></codeline>
<codeline lineno="607"><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;float&gt;<sp/>softJetWeights;</highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>originalInputs<sp/>=<sp/>jets-&gt;<ref refid="d0/d4d/classDataVector_1a85aede44dff3bf86318e9d7ee71f0de5" kindref="member" tooltip="Returns true if the collection is empty.">empty</ref>()<sp/>?<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal"><sp/>:<sp/>!acc_originalObject.isAvailable(*jets-&gt;<ref refid="d0/d4d/classDataVector_1ad60c996521bcea5c5a57bc078b08b876" kindref="member" tooltip="Access the first element in the collection as an rvalue.">front</ref>());</highlight></codeline>
<codeline lineno="609"><highlight class="normal"></highlight></codeline>
<codeline lineno="610"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>track<sp/>muon<sp/>selection<sp/>via<sp/>ElementLinks<sp/>from<sp/>term</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="611"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>needed<sp/>for<sp/>r20.7<sp/>due<sp/>to<sp/>objects<sp/>missing<sp/>from<sp/>map</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>MissingETContainer*<sp/>metCont<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal">MissingETContainer*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(metJet-&gt;<ref refid="dc/db0/classSG_1_1AuxElement_1a9004b51bd3619cab56c3d52e290c09b9" kindref="member" tooltip="Return the container holding this element.">container</ref>());</highlight></codeline>
<codeline lineno="613"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>search<sp/>with<sp/>&quot;find&quot;<sp/>because<sp/>we<sp/>removed<sp/>the<sp/>source<sp/>accessor</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d0/d4d/classDataVector_1a105a683f8b36d88454de49c757747fde" kindref="member" tooltip="Standard const_iterator.">MissingETContainer::const_iterator</ref><sp/>iMetMu<sp/>=<sp/>metCont-&gt;find(<ref refid="d3/dee/structMissingETBase_1_1Source_1ae7fbc76551db6980f695190685eb6cab" kindref="member" tooltip="Standard MET term from reconstructed muons.">MissingETBase::Source::muon</ref>());</highlight></codeline>
<codeline lineno="615"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>nMu<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;bool&gt;<sp/>muSelected(0);</highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(iMetMu!=metCont-&gt;end())<sp/>{</highlight></codeline>
<codeline lineno="618"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="dd/d44/namespacexAOD_1a3c42c356018f6111557bd691272349b7" kindref="member" tooltip="Version control by type defintion.">MissingET</ref>*<sp/>metMu<sp/>=<sp/>*iMetMu;</highlight></codeline>
<codeline lineno="619"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::vector&lt;iplink_t&gt;&amp;<sp/>mulinks<sp/>=<sp/>dec_constitObjLinks(*metMu);</highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>nMu<sp/>=<sp/>mulinks.empty()<sp/>?<sp/>0<sp/>:<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="d0/d4d/classDataVector" kindref="compound" tooltip="Derived DataVector&amp;lt;T&amp;gt;.">xAOD::MuonContainer</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">((*mulinks.front())-&gt;container())-&gt;size();</highlight></codeline>
<codeline lineno="621"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>muSelected.resize(nMu,</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="622"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>muLink<sp/>:<sp/>dec_constitObjLinks(*metMu))<sp/>{</highlight></codeline>
<codeline lineno="623"><highlight class="normal"><sp/><sp/><sp/><sp/>muSelected[(*muLink)-&gt;index()]<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="624"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="625"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="626"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>also<sp/>check<sp/>the<sp/>invisible<sp/>term</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="627"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d0/d4d/classDataVector_1a105a683f8b36d88454de49c757747fde" kindref="member" tooltip="Standard const_iterator.">MissingETContainer::const_iterator</ref><sp/>iMetInv<sp/>=<sp/>metCont-&gt;find(invisSource);</highlight></codeline>
<codeline lineno="628"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(iMetInv!=metCont-&gt;end())<sp/>{</highlight></codeline>
<codeline lineno="629"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="dd/d44/namespacexAOD_1a3c42c356018f6111557bd691272349b7" kindref="member" tooltip="Version control by type defintion.">MissingET</ref>*<sp/>metInv<sp/>=<sp/>*iMetInv;</highlight></codeline>
<codeline lineno="630"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::vector&lt;iplink_t&gt;&amp;<sp/>invislinks<sp/>=<sp/>dec_constitObjLinks(*metInv);</highlight></codeline>
<codeline lineno="631"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>invisLink<sp/>:<sp/>invislinks)<sp/>{</highlight></codeline>
<codeline lineno="632"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((*invisLink)-&gt;type()==<ref refid="dd/dc8/namespacexAOD_1_1Type_1a96c48d2d85466ace623036af49f84434af612e5722903badfe4fd0fd721fc4b13" kindref="member" tooltip="The object is a muon.">xAOD::Type::Muon</ref>)<sp/>{</highlight></codeline>
<codeline lineno="633"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d2/d30/classxAOD_1_1Muon__v1" kindref="compound">xAOD::Muon</ref><sp/>*invisMu<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="d2/d30/classxAOD_1_1Muon__v1" kindref="compound">xAOD::Muon</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(*invisLink);</highlight></codeline>
<codeline lineno="634"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(nMu==0)<sp/>{<sp/></highlight><highlight class="comment">//<sp/>if<sp/>this<sp/>wasn&apos;t<sp/>already<sp/>set,<sp/>we<sp/>need<sp/>to<sp/>set<sp/>up<sp/>the<sp/>vector</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nMu<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="d0/d4d/classDataVector" kindref="compound" tooltip="Derived DataVector&amp;lt;T&amp;gt;.">xAOD::MuonContainer</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(invisMu-&gt;<ref refid="dc/db0/classSG_1_1AuxElement_1a9004b51bd3619cab56c3d52e290c09b9" kindref="member" tooltip="Return the container holding this element.">container</ref>())-&gt;size();</highlight></codeline>
<codeline lineno="636"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>muSelected.resize(nMu,</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="637"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="638"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>muSelected[invisMu-&gt;<ref refid="dc/db0/classSG_1_1AuxElement_1aba555afb4547fbe96fbdc4b266f75f16" kindref="member" tooltip="Return the index of this element within its container.">index</ref>()]<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="639"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="comment">//<sp/>ignore<sp/>non-muons</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="640"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="comment">//<sp/>loop<sp/>on<sp/>invisible<sp/>objects</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="641"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="642"><highlight class="normal"></highlight></codeline>
<codeline lineno="643"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>jet<sp/>:<sp/>*jets)<sp/>{</highlight></codeline>
<codeline lineno="644"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="dd/d44/namespacexAOD_1a2dae48e7c6d11ace94ebdc92adc1c93d" kindref="member" tooltip="Version control by type definition.">MissingETAssociation</ref>*<sp/>assoc<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="645"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(originalInputs)<sp/>{</highlight></codeline>
<codeline lineno="646"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>assoc<sp/>=<sp/>MissingETComposition::getAssociation(map,jet);</highlight></codeline>
<codeline lineno="647"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="648"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>IParticle*<sp/>orig<sp/>=<sp/>*acc_originalObject(*jet);</highlight></codeline>
<codeline lineno="649"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>assoc<sp/>=<sp/>MissingETComposition::getAssociation(map,static_cast&lt;const<sp/>xAOD::Jet*&gt;(orig));</highlight></codeline>
<codeline lineno="650"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="651"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(assoc<sp/>&amp;&amp;<sp/>!assoc-&gt;isMisc())<sp/>{</highlight></codeline>
<codeline lineno="652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(<sp/></highlight><highlight class="stringliteral">&quot;Jet<sp/>calib<sp/>pt<sp/>=<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>jet-&gt;pt());</highlight></codeline>
<codeline lineno="653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>selected<sp/>=<sp/>(fabs(jet-&gt;eta())&lt;2.4<sp/>&amp;&amp;<sp/>jet-&gt;pt()&gt;m_CenJetPtCut)<sp/>||<sp/>(fabs(jet-&gt;eta())&gt;=2.4<sp/>&amp;&amp;<sp/>jet-&gt;pt()&gt;m_FwdJetPtCut<sp/>);</highlight><highlight class="comment">//jjj<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="654"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>JVT_reject(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="655"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>lostMuon(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="656"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>isMuFSRJet(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="657"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="658"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(doJetJVT)<sp/>{</highlight></codeline>
<codeline lineno="659"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(jet-&gt;pt()&lt;m_JvtPtMax<sp/>&amp;&amp;<sp/>fabs(jet-&gt;eta())&lt;2.4)<sp/>{</highlight></codeline>
<codeline lineno="660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>jvt;</highlight></codeline>
<codeline lineno="661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>gotJVT<sp/>=<sp/>jet-&gt;getAttribute&lt;</highlight><highlight class="keywordtype">float</highlight><highlight class="normal">&gt;(m_jetJvtMomentName,jvt);</highlight></codeline>
<codeline lineno="662"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(gotJVT)<sp/>{</highlight></codeline>
<codeline lineno="663"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>JVT_reject<sp/>=<sp/>jvt&lt;m_JvtCut;</highlight></codeline>
<codeline lineno="664"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Jet<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>(JVT_reject<sp/>?<sp/></highlight><highlight class="stringliteral">&quot;fails&quot;</highlight><highlight class="normal"><sp/>:<sp/></highlight><highlight class="stringliteral">&quot;passes&quot;</highlight><highlight class="normal">)<sp/>&lt;&lt;</highlight><highlight class="stringliteral">&quot;<sp/>JVT<sp/>selection&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="665"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>JVT_reject<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_WARNING(</highlight><highlight class="stringliteral">&quot;Tried<sp/>to<sp/>retrieve<sp/>JVT<sp/>but<sp/>this<sp/>was<sp/>not<sp/>set.<sp/>Failing<sp/>this<sp/>jet.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="669"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="670"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="671"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_extraJetRejection<sp/>&amp;&amp;<sp/>jet-&gt;auxdata&lt;</highlight><highlight class="keywordtype">char</highlight><highlight class="normal">&gt;(m_jetRejectionDec)==0)<sp/>JVT_reject<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="672"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>hardJet(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="673"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec" kindref="compound" tooltip="Vector sum of constituents for subtractive overlap removal.">MissingETBase::Types::constvec_t</ref><sp/>calvec<sp/>=<sp/>assoc-&gt;overlapCalVec();</highlight></codeline>
<codeline lineno="674"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>caloverlap<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="675"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>caloverlap<sp/>=<sp/>calvec.<ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec_1a100840928dd5eecfb308d45ee2b4db20" kindref="member" tooltip="Returns .">ce</ref>()&gt;0;</highlight></codeline>
<codeline lineno="676"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_DEBUG(</highlight><highlight class="stringliteral">&quot;Jet<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>jet-&gt;index()<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/>is<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>(<sp/>caloverlap<sp/>?<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal"><sp/>:<sp/></highlight><highlight class="stringliteral">&quot;non-&quot;</highlight><highlight class="normal">)<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;overlapping&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="677"><highlight class="normal"></highlight></codeline>
<codeline lineno="678"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="dd/d44/namespacexAOD_1afd4eec03bc44b101a3c8b2b1429f3072" kindref="member" tooltip="Base 4 Momentum type for Jet.">xAOD::JetFourMom_t</ref><sp/>constjet;</highlight></codeline>
<codeline lineno="679"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>constSF(1);</highlight></codeline>
<codeline lineno="680"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(m_jetConstitScaleMom.empty()<sp/>&amp;&amp;<sp/>assoc-&gt;hasAlternateConstVec()){</highlight></codeline>
<codeline lineno="681"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>constjet<sp/>=<sp/>assoc-&gt;getAlternateConstVec();</highlight></codeline>
<codeline lineno="682"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="683"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>constjet<sp/>=<sp/>jet-&gt;jetP4(m_jetConstitScaleMom);</highlight><highlight class="comment">//grab<sp/>a<sp/>constituent<sp/>scale<sp/>added<sp/>by<sp/>the<sp/>JetMomentTool/JetConstitFourMomTool.cxx</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="684"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>denom<sp/>=<sp/>(assoc-&gt;hasAlternateConstVec()<sp/>?<sp/>assoc-&gt;getAlternateConstVec()<sp/>:<sp/>jet-&gt;jetP4(</highlight><highlight class="stringliteral">&quot;JetConstitScaleMomentum&quot;</highlight><highlight class="normal">)).E();</highlight></codeline>
<codeline lineno="685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>constSF<sp/>=<sp/>denom&gt;1e-9<sp/>?<sp/>constjet.E()/denom<sp/>:<sp/>0.;</highlight></codeline>
<codeline lineno="686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Scale<sp/>const<sp/>jet<sp/>by<sp/>factor<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>constSF);</highlight></codeline>
<codeline lineno="687"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>calvec<sp/>*=<sp/>constSF;</highlight></codeline>
<codeline lineno="688"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="689"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>jpx<sp/>=<sp/>constjet.Px();</highlight></codeline>
<codeline lineno="690"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>jpy<sp/>=<sp/>constjet.Py();</highlight></codeline>
<codeline lineno="691"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>jpt<sp/>=<sp/>constjet.Pt();</highlight></codeline>
<codeline lineno="692"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>opx<sp/>=<sp/>jpx<sp/>-<sp/>calvec.<ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec_1a5818e9b9eb7ced53722e7b7c87ef69af" kindref="member" tooltip="Returns .">cpx</ref>();</highlight></codeline>
<codeline lineno="693"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>opy<sp/>=<sp/>jpy<sp/>-<sp/>calvec.<ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec_1a9dff41cc936ef9eceb322a3d6b4e71bf" kindref="member" tooltip="Returns .">cpy</ref>();</highlight></codeline>
<codeline lineno="694"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>opt<sp/>=<sp/>sqrt(<sp/>opx*opx+opy*opy<sp/>);</highlight></codeline>
<codeline lineno="695"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>uniquefrac<sp/>=<sp/>1.<sp/>-<sp/>(calvec.<ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec_1a100840928dd5eecfb308d45ee2b4db20" kindref="member" tooltip="Returns .">ce</ref>()<sp/>/<sp/>constjet.E());</highlight></codeline>
<codeline lineno="696"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(<sp/></highlight><highlight class="stringliteral">&quot;Jet<sp/>constscale<sp/>px,<sp/>py,<sp/>pt,<sp/>E<sp/>=<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>jpx<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>jpy<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>jpt<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>constjet.E()<sp/>);</highlight></codeline>
<codeline lineno="697"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(<sp/></highlight><highlight class="stringliteral">&quot;Jet<sp/>overlap<sp/>E<sp/>=<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>calvec.<ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec_1a100840928dd5eecfb308d45ee2b4db20" kindref="member" tooltip="Returns .">ce</ref>()<sp/>);</highlight></codeline>
<codeline lineno="698"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(<sp/></highlight><highlight class="stringliteral">&quot;Jet<sp/>OR<sp/>px,<sp/>py,<sp/>pt,<sp/>E<sp/>=<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>opx<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>opy<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>opt<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>constjet.E()<sp/>-<sp/>calvec.<ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec_1a100840928dd5eecfb308d45ee2b4db20" kindref="member" tooltip="Returns .">ce</ref>()<sp/>);</highlight></codeline>
<codeline lineno="699"><highlight class="normal"></highlight></codeline>
<codeline lineno="700"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>tracks<sp/>near<sp/>electrons.<sp/>If<sp/>the<sp/>pT<sp/>is<sp/>large,<sp/>then<sp/>use<sp/>the<sp/>jet<sp/>pT</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="701"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>passJetForEl=</highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="702"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(m_doRemoveElecTrks)<sp/>{</highlight></codeline>
<codeline lineno="703"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>jet_ORtrk_pt<sp/>=<sp/>assoc-&gt;overlapTrkVec().sumpt();</highlight></codeline>
<codeline lineno="704"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>usedAnElectron=</highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="705"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>obj<sp/>:<sp/>assoc-&gt;objects())<sp/>{</highlight></codeline>
<codeline lineno="706"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!obj)<sp/>{<sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;<sp/>}</highlight></codeline>
<codeline lineno="707"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(obj-&gt;type()==<ref refid="dd/dc8/namespacexAOD_1_1Type_1a96c48d2d85466ace623036af49f84434a0199381ad718edc5748453cf69eb0fed" kindref="member" tooltip="The object is an electron.">xAOD::Type::Electron</ref><sp/>&amp;&amp;<sp/>m_doRemoveElecTrks)<sp/>{</highlight></codeline>
<codeline lineno="708"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="dd/da6/classxAOD_1_1Electron" kindref="compound" tooltip="Class describing an electron.">xAOD::Electron</ref>*<sp/>el_test(static_cast&lt;const<sp/>xAOD::Electron*&gt;(obj));</highlight></codeline>
<codeline lineno="709"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Electron<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>el_test-&gt;index()<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/>found<sp/>in<sp/>jet<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>jet-&gt;index());</highlight></codeline>
<codeline lineno="710"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(acc_originalObject.isAvailable(*el_test))<sp/>el_test<sp/>=<sp/>static_cast&lt;const<sp/>xAOD::Electron*&gt;(*acc_originalObject(*el_test));</highlight></codeline>
<codeline lineno="711"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(assoc-&gt;objSelected(el_test)){</highlight></codeline>
<codeline lineno="712"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(el_test-&gt;pt()&gt;90.0e3)<sp/>{<sp/></highlight><highlight class="comment">//<sp/>only<sp/>worry<sp/>about<sp/>high-pt<sp/>electrons?</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="713"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>usedAnElectron<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="714"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;High-pt<sp/>electron<sp/>is<sp/>selected<sp/>by<sp/>MET.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="715"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="716"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="717"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="718"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="719"><highlight class="normal"></highlight></codeline>
<codeline lineno="720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec" kindref="compound" tooltip="Vector sum of constituents for subtractive overlap removal.">MissingETBase::Types::constvec_t</ref><sp/>initialTrkMom<sp/>=<sp/>assoc-&gt;jetTrkVec();</highlight></codeline>
<codeline lineno="721"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>jet_all_trk_pt<sp/>=<sp/><sp/>initialTrkMom.<ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec_1a7113d6c885e9e0d1bdebb1fc234b6357" kindref="member" tooltip="Returns sum of component pt.">sumpt</ref>();</highlight></codeline>
<codeline lineno="722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>want<sp/>to<sp/>use<sp/>the<sp/>jet<sp/>in<sp/>this<sp/>case</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="723"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(usedAnElectron<sp/>&amp;&amp;<sp/>(jet_all_trk_pt<sp/>-<sp/>jet_ORtrk_pt)&gt;10.0e3)<sp/>passJetForEl=</highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="724"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="comment">//<sp/>end<sp/>ele-track<sp/>removal</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="725"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="726"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((m_doRemoveMuonJets<sp/>||<sp/>m_doSetMuonJetEMScale)<sp/>&amp;&amp;<sp/>acc_ghostMuons.isAvailable(*jet))<sp/>{</highlight></codeline>
<codeline lineno="727"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d2/d30/classxAOD_1_1Muon__v1" kindref="compound">xAOD::Muon</ref>*<sp/>mu_in_jet(0);</highlight></codeline>
<codeline lineno="728"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>el<sp/>:<sp/>acc_ghostMuons(*jet))<sp/>{</highlight></codeline>
<codeline lineno="729"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d2/d30/classxAOD_1_1Muon__v1" kindref="compound">xAOD::Muon</ref>*<sp/>mu_test(0);</highlight></codeline>
<codeline lineno="730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(el.isValid())<sp/>{</highlight></codeline>
<codeline lineno="731"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mu_test<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="d2/d30/classxAOD_1_1Muon__v1" kindref="compound">xAOD::Muon</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(*el);</highlight></codeline>
<codeline lineno="732"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Ghost<sp/>muon<sp/>found.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="733"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(acc_originalObject.isAvailable(*mu_test))<sp/>mu_test<sp/>=<sp/>static_cast&lt;const<sp/>xAOD::Muon*&gt;(*acc_originalObject(*mu_test));</highlight></codeline>
<codeline lineno="734"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>wasSelected<sp/>=<sp/>muSelected.empty()<sp/>?<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal"><sp/>:<sp/>muSelected[mu_test-&gt;index()];</highlight></codeline>
<codeline lineno="735"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;This<sp/>muon<sp/>(&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>mu_test-&gt;index()<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;)<sp/>selected?<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>wasSelected);</highlight></codeline>
<codeline lineno="736"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(MissingETComposition::objSelected(map,mu_test)<sp/>||<sp/>wasSelected)<sp/>{<sp/></highlight><highlight class="comment">//<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="737"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mu_in_jet<sp/>=<sp/>mu_test;</highlight></codeline>
<codeline lineno="738"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Ghost<sp/>muon<sp/>is<sp/>selected<sp/>by<sp/>MET.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="739"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="740"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="741"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="742"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="743"><highlight class="normal"></highlight></codeline>
<codeline lineno="744"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!JVT_reject<sp/>&amp;&amp;<sp/>mu_in_jet)<sp/>{</highlight></codeline>
<codeline lineno="745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_doRemoveMuonJets)<sp/>{</highlight></codeline>
<codeline lineno="746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>mu_id_pt<sp/>=<sp/>mu_in_jet-&gt;trackParticle(xAOD::Muon::InnerDetectorTrackParticle)<sp/>?<sp/>mu_in_jet-&gt;trackParticle(xAOD::Muon::InnerDetectorTrackParticle)-&gt;pt()<sp/>:<sp/>0.;</highlight></codeline>
<codeline lineno="747"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>mu_id_eta<sp/>=<sp/>mu_in_jet-&gt;trackParticle(xAOD::Muon::InnerDetectorTrackParticle)<sp/>?<sp/>mu_in_jet-&gt;trackParticle(xAOD::Muon::InnerDetectorTrackParticle)-&gt;eta()<sp/>:<sp/>0.;</highlight></codeline>
<codeline lineno="748"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>jet_trk_sumpt<sp/>=<sp/>acc_trksumpt.<ref refid="dd/d86/classSG_1_1AuxElement_1_1ConstAccessor_1ae085d8a369304f86be998575cbe94998" kindref="member" tooltip="Test to see if this variable exists in the store.">isAvailable</ref>(*jet)<sp/>&amp;&amp;<sp/>this-&gt;getPV()<sp/>?<sp/>acc_trksumpt(*jet)[this-&gt;getPV()-&gt;index()]<sp/>:<sp/>0.;</highlight></codeline>
<codeline lineno="749"><highlight class="normal"></highlight></codeline>
<codeline lineno="750"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>IParticle*<sp/>origMu<sp/>=<sp/>mu_in_jet;</highlight></codeline>
<codeline lineno="751"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>originalInputsMu<sp/>=<sp/>!acc_originalObject.isAvailable(*mu_in_jet);</highlight></codeline>
<codeline lineno="752"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!originalInputsMu)<sp/>{<sp/>origMu<sp/>=<sp/>*acc_originalObject(*mu_in_jet);<sp/>}</highlight></codeline>
<codeline lineno="753"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lostMuon<sp/>=<sp/>!<ref refid="de/dc5/structxAOD_1_1MissingETComposition_1acf7fe92968659509aa2b0faed662548a" kindref="member" tooltip="Access non-modifiable contribution object.">xAOD::MissingETComposition::getAssociations</ref>(map,origMu).size()<sp/>&amp;&amp;<sp/>((mu_id_pt&gt;120e3<sp/>&amp;&amp;<sp/>fabs(mu_id_eta)&gt;=1.5)<sp/>||<sp/>(mu_id_pt&gt;200e3<sp/>&amp;&amp;<sp/>fabs(mu_id_eta)&lt;1.5));</highlight></codeline>
<codeline lineno="754"><highlight class="normal"></highlight></codeline>
<codeline lineno="755"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>missed<sp/>the<sp/>muon,<sp/>so<sp/>we<sp/>should<sp/>add<sp/>it<sp/>back</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="756"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(0.9999*mu_id_pt&gt;jet_trk_sumpt)</highlight></codeline>
<codeline lineno="757"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>jet_trk_sumpt+=mu_id_pt;</highlight></codeline>
<codeline lineno="758"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>jet_trk_N<sp/>=<sp/>acc_trkN.isAvailable(*jet)<sp/>&amp;&amp;<sp/>this-&gt;getPV()<sp/>?<sp/>acc_trkN(*jet)[this-&gt;getPV()-&gt;index()]<sp/>:<sp/>0.;</highlight></codeline>
<codeline lineno="759"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Muon<sp/>has<sp/>ID<sp/>pt<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>mu_id_pt);</highlight></codeline>
<codeline lineno="760"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Jet<sp/>has<sp/>pt<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>jet-&gt;pt()<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>trk<sp/>sumpt<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>jet_trk_sumpt<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>trk<sp/>N<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>jet_trk_N);</highlight></codeline>
<codeline lineno="761"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>jet_from_muon<sp/>=<sp/>mu_id_pt&gt;1e-9<sp/>&amp;&amp;<sp/>jet_trk_sumpt&gt;1e-9<sp/>&amp;&amp;<sp/>(jet-&gt;pt()/mu_id_pt<sp/>&lt;<sp/>2<sp/>&amp;&amp;<sp/>mu_id_pt/jet_trk_sumpt&gt;0.8)<sp/>&amp;&amp;<sp/>jet_trk_N&lt;5;</highlight></codeline>
<codeline lineno="762"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(jet_from_muon)<sp/>{</highlight></codeline>
<codeline lineno="763"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Jet<sp/>is<sp/>from<sp/>muon<sp/>--<sp/>remove.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="764"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>JVT_reject<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="765"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="766"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="767"><highlight class="normal"></highlight></codeline>
<codeline lineno="768"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_doSetMuonJetEMScale)<sp/>{</highlight></codeline>
<codeline lineno="769"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>mu_id_pt<sp/>=<sp/>mu_in_jet-&gt;trackParticle(xAOD::Muon::InnerDetectorTrackParticle)<sp/>?<sp/>mu_in_jet-&gt;trackParticle(xAOD::Muon::InnerDetectorTrackParticle)-&gt;pt()<sp/>:<sp/>0.;</highlight></codeline>
<codeline lineno="770"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>jet_trk_sumpt<sp/>=<sp/>acc_trksumpt.<ref refid="dd/d86/classSG_1_1AuxElement_1_1ConstAccessor_1ae085d8a369304f86be998575cbe94998" kindref="member" tooltip="Test to see if this variable exists in the store.">isAvailable</ref>(*jet)<sp/>&amp;&amp;<sp/>this-&gt;getPV()<sp/>?<sp/>acc_trksumpt(*jet)[this-&gt;getPV()-&gt;index()]<sp/>:<sp/>0.;</highlight></codeline>
<codeline lineno="771"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>missed<sp/>the<sp/>muon,<sp/>so<sp/>we<sp/>should<sp/>add<sp/>it<sp/>back</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="772"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(0.9999*mu_id_pt&gt;jet_trk_sumpt)</highlight></codeline>
<codeline lineno="773"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>jet_trk_sumpt+=mu_id_pt;</highlight></codeline>
<codeline lineno="774"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>jet_trk_N<sp/>=<sp/>acc_trkN.isAvailable(*jet)<sp/>&amp;&amp;<sp/>this-&gt;getPV()<sp/>?<sp/>acc_trkN(*jet)[this-&gt;getPV()-&gt;index()]<sp/>:<sp/>0.;</highlight></codeline>
<codeline lineno="775"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>jet_psE<sp/>=<sp/>acc_sampleE(*jet)[0]<sp/>+<sp/>acc_sampleE(*jet)[4];</highlight></codeline>
<codeline lineno="776"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>jet_from_muon<sp/>=<sp/>jet_trk_sumpt&gt;1e-9<sp/>&amp;&amp;<sp/>jet_trk_N&lt;3<sp/>&amp;&amp;<sp/>mu_id_pt<sp/>/<sp/>jet_trk_sumpt<sp/>&gt;<sp/>0.8<sp/>&amp;&amp;<sp/>acc_emf(*jet)&gt;0.9<sp/>&amp;&amp;<sp/>acc_width(*jet)&lt;0.1<sp/>&amp;&amp;<sp/>jet_psE&gt;2500;</highlight></codeline>
<codeline lineno="777"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Muon<sp/>has<sp/>ID<sp/>pt<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>mu_id_pt);</highlight></codeline>
<codeline lineno="778"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Jet<sp/>has<sp/>trk<sp/>sumpt<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>jet_trk_sumpt<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>trk<sp/>N<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>jet_trk_N<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>PS<sp/>E<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>jet_psE<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>width<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>acc_width(*jet)<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>emfrac<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>acc_emf(*jet));</highlight></codeline>
<codeline lineno="779"><highlight class="normal"></highlight></codeline>
<codeline lineno="780"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>mu_Eloss<sp/>=<sp/>acc_Eloss(*mu_in_jet);</highlight></codeline>
<codeline lineno="781"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(jet_from_muon)<sp/>{</highlight></codeline>
<codeline lineno="782"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Jet<sp/>is<sp/>from<sp/>muon<sp/>--<sp/>set<sp/>to<sp/>EM<sp/>scale<sp/>and<sp/>subtract<sp/>Eloss.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="783"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Using<sp/>constjet<sp/>now<sp/>because<sp/>we<sp/>focus<sp/>on<sp/>AntiKt4EMTopo.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="784"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Probably<sp/>not<sp/>a<sp/>massive<sp/>difference<sp/>to<sp/>LC,<sp/>but<sp/>PF<sp/>needs<sp/>some<sp/>consideration</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="785"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Jet<sp/>e:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>constjet.E()<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>mu<sp/>Eloss:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>mu_Eloss);</highlight></codeline>
<codeline lineno="786"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>elosscorr<sp/>=<sp/>mu_Eloss<sp/>&gt;=<sp/>constjet.e()<sp/>?<sp/>0.<sp/>:<sp/>1.-mu_Eloss/constjet.e();</highlight></codeline>
<codeline lineno="787"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Effectively,<sp/>take<sp/>the<sp/>unique<sp/>fraction<sp/>of<sp/>the<sp/>jet<sp/>times<sp/>the<sp/>eloss-corrected<sp/>fraction</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="788"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>might<sp/>in<sp/>some<sp/>cases<sp/>oversubtract,<sp/>but<sp/>should<sp/>err<sp/>on<sp/>the<sp/>side<sp/>of<sp/>undercounting<sp/>the<sp/>jet<sp/>contribution</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="789"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>opx<sp/>*=<sp/>elosscorr;</highlight></codeline>
<codeline lineno="790"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>opy<sp/>*=<sp/>elosscorr;</highlight></codeline>
<codeline lineno="791"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>opt<sp/>*=<sp/>elosscorr;</highlight></codeline>
<codeline lineno="792"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Don&apos;t<sp/>treat<sp/>this<sp/>jet<sp/>normally.<sp/>Instead,<sp/>just<sp/>add<sp/>to<sp/>the<sp/>Eloss<sp/>term</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="793"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>isMuFSRJet<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="794"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MissingETContainer*<sp/>metCont<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal">MissingETContainer*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(metJet-&gt;<ref refid="dc/db0/classSG_1_1AuxElement_1a9004b51bd3619cab56c3d52e290c09b9" kindref="member" tooltip="Return the container holding this element.">container</ref>());</highlight></codeline>
<codeline lineno="795"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="dd/d44/namespacexAOD_1a3c42c356018f6111557bd691272349b7" kindref="member" tooltip="Version control by type defintion.">MissingET</ref>*<sp/>met_eloss<sp/>=<sp/>(*metCont)[</highlight><highlight class="stringliteral">&quot;MuonEloss&quot;</highlight><highlight class="normal">];</highlight></codeline>
<codeline lineno="796"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(met_eloss)<sp/>{</highlight></codeline>
<codeline lineno="797"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>met_eloss-&gt;add(opx,opy,opt);</highlight></codeline>
<codeline lineno="798"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="799"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_WARNING(</highlight><highlight class="stringliteral">&quot;Attempted<sp/>to<sp/>apply<sp/>muon<sp/>Eloss<sp/>correction,<sp/>but<sp/>corresponding<sp/>MET<sp/>term<sp/>does<sp/>not<sp/>exist!&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="800"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;</highlight></codeline>
<codeline lineno="801"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="802"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="803"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Adding<sp/>jet<sp/>to<sp/>Eloss<sp/>term!!&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="804"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/>Jet<sp/>eloss<sp/>factor<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>elosscorr<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>final<sp/>pt:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>opt);</highlight></codeline>
<codeline lineno="805"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="806"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="807"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="808"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="809"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="810"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!isMuFSRJet)<sp/>{</highlight></codeline>
<codeline lineno="811"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(selected<sp/>&amp;&amp;<sp/>!JVT_reject)<sp/>{</highlight></codeline>
<codeline lineno="812"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!caloverlap)<sp/>{</highlight></codeline>
<codeline lineno="813"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>add<sp/>jet<sp/>full<sp/>four-vector</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="814"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hardJet<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="815"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!tracksForHardJets)<sp/>{</highlight></codeline>
<codeline lineno="816"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(m_doConstJet)<sp/>{</highlight></codeline>
<codeline lineno="817"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>metJet-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1ae690438a17de949bbf3ef2a5c137dc6f" kindref="member" tooltip="Add particle kinematics to MET.">add</ref>(jpx,jpy,jpt);</highlight></codeline>
<codeline lineno="818"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{*metJet<sp/>+=<sp/>jet;}</highlight></codeline>
<codeline lineno="819"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="820"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="821"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>check<sp/>unique<sp/>fraction</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="822"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((uniquefrac&gt;m_jetMinEfrac<sp/>||<sp/>passJetForEl)<sp/>&amp;&amp;<sp/>opt&gt;m_jetMinWeightedPt)<sp/>{</highlight></codeline>
<codeline lineno="823"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>add<sp/>jet<sp/>corrected<sp/>for<sp/>overlaps</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="824"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hardJet<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="825"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!tracksForHardJets)<sp/>{</highlight></codeline>
<codeline lineno="826"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(m_jetCorrectPhi)<sp/>{</highlight></codeline>
<codeline lineno="827"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_doConstJet)<sp/>metJet-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1ae690438a17de949bbf3ef2a5c137dc6f" kindref="member" tooltip="Add particle kinematics to MET.">add</ref>(opx,opy,opt);</highlight></codeline>
<codeline lineno="828"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="829"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>jesF<sp/>=<sp/>jet-&gt;pt()<sp/>/<sp/>jpt;</highlight></codeline>
<codeline lineno="830"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>metJet-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1ae690438a17de949bbf3ef2a5c137dc6f" kindref="member" tooltip="Add particle kinematics to MET.">add</ref>(opx*jesF,opy*jesF,opt*jesF);</highlight></codeline>
<codeline lineno="831"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="832"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="833"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_doConstJet){</highlight></codeline>
<codeline lineno="834"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>metJet-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1ae690438a17de949bbf3ef2a5c137dc6f" kindref="member" tooltip="Add particle kinematics to MET.">add</ref>(uniquefrac*jpx,uniquefrac*jpy,uniquefrac*jpt);</highlight></codeline>
<codeline lineno="835"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="836"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="837"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(passJetForEl){</highlight></codeline>
<codeline lineno="838"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(m_doRemoveElecTrksEM)<sp/>metJet-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1ae690438a17de949bbf3ef2a5c137dc6f" kindref="member" tooltip="Add particle kinematics to MET.">add</ref>(opx,opy,opt);</highlight></codeline>
<codeline lineno="839"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>metJet-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1ae690438a17de949bbf3ef2a5c137dc6f" kindref="member" tooltip="Add particle kinematics to MET.">add</ref>(uniquefrac*jet-&gt;px(),uniquefrac*jet-&gt;py(),uniquefrac*jet-&gt;pt());</highlight></codeline>
<codeline lineno="840"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="keywordflow">else</highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="841"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>metJet-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1ae690438a17de949bbf3ef2a5c137dc6f" kindref="member" tooltip="Add particle kinematics to MET.">add</ref>(uniquefrac*jet-&gt;px(),uniquefrac*jet-&gt;py(),uniquefrac*jet-&gt;pt());</highlight></codeline>
<codeline lineno="842"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="843"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="844"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="845"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="846"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="847"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="848"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/><sp/></highlight><highlight class="comment">//<sp/>hard<sp/>jet<sp/>selection</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="849"><highlight class="normal"></highlight></codeline>
<codeline lineno="850"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(hardJet){</highlight></codeline>
<codeline lineno="851"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Jet<sp/>added<sp/>at<sp/>full<sp/>scale&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="852"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uniqueLinks.emplace_back(<sp/>iplink_t(*static_cast&lt;const<sp/>IParticleContainer*&gt;(jet-&gt;container()),jet-&gt;index())<sp/>);</highlight></codeline>
<codeline lineno="853"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uniqueWeights.emplace_back(<sp/>uniquefrac<sp/>);</highlight></codeline>
<codeline lineno="854"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="855"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(metSoftClus<sp/>&amp;&amp;<sp/>!JVT_reject)<sp/>{</highlight></codeline>
<codeline lineno="856"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>add<sp/>fractional<sp/>contribution</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="857"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Jet<sp/>added<sp/>at<sp/>const<sp/>scale&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="858"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(fabs(jet-&gt;eta())&lt;2.5<sp/>||<sp/>!(coreSoftClus-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1aa4f9f5a81ce0f69045faf1099ceb9cf6" kindref="member" tooltip="MET object source tag.">source</ref>()&amp;<ref refid="d3/dee/structMissingETBase_1_1Source_1a94aefcec0a86daa7e00d40a96704ee7aa0c47deef86ed49124bc18862f5160d48" kindref="member" tooltip="Indicator for MET contribution from the central region.">MissingETBase::Source::Central</ref>))<sp/>{</highlight></codeline>
<codeline lineno="859"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>softJetLinks.emplace_back(<sp/>iplink_t(*static_cast&lt;const<sp/>xAOD::JetContainer*&gt;(jet-&gt;container()),jet-&gt;index())<sp/>);</highlight></codeline>
<codeline lineno="860"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>softJetWeights.emplace_back(<sp/>uniquefrac<sp/>);</highlight></codeline>
<codeline lineno="861"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>metSoftClus-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1ae690438a17de949bbf3ef2a5c137dc6f" kindref="member" tooltip="Add particle kinematics to MET.">add</ref>(opx,opy,opt);</highlight></codeline>
<codeline lineno="862"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="863"><highlight class="normal"></highlight></codeline>
<codeline lineno="864"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Fill<sp/>a<sp/>vector<sp/>with<sp/>the<sp/>soft<sp/>constituents,<sp/>if<sp/>one<sp/>was<sp/>provided.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="865"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>For<sp/>now,<sp/>only<sp/>setting<sp/>up<sp/>to<sp/>work<sp/>with<sp/>those<sp/>corresponding<sp/>to<sp/>the<sp/>jet<sp/>constituents.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="866"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Can<sp/>expand<sp/>if<sp/>needed.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="867"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>ignores<sp/>overlap<sp/>removal.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="868"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="869"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(softConst)<sp/>{</highlight></codeline>
<codeline lineno="870"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>iConst=0;<sp/>iConst&lt;jet-&gt;numConstituents();<sp/>++iConst)<sp/>{</highlight></codeline>
<codeline lineno="871"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>IParticle*<sp/>constit<sp/>=<sp/>jet-&gt;rawConstituent(iConst);</highlight></codeline>
<codeline lineno="872"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>softConst-&gt;push_back(constit);</highlight></codeline>
<codeline lineno="873"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="874"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="875"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="876"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="comment">//<sp/>hard<sp/>jet<sp/>or<sp/>CST</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="877"><highlight class="normal"></highlight></codeline>
<codeline lineno="878"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(metSoftTrk<sp/>&amp;&amp;<sp/>(!hardJet<sp/>||<sp/>tracksForHardJets))<sp/>{</highlight></codeline>
<codeline lineno="879"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>use<sp/>jet<sp/>tracks</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="880"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>remove<sp/>any<sp/>tracks<sp/>already<sp/>used<sp/>by<sp/>other<sp/>objects</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="881"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec" kindref="compound" tooltip="Vector sum of constituents for subtractive overlap removal.">MissingETBase::Types::constvec_t</ref><sp/>trkvec<sp/>=<sp/>assoc-&gt;overlapTrkVec();</highlight></codeline>
<codeline lineno="882"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec" kindref="compound" tooltip="Vector sum of constituents for subtractive overlap removal.">MissingETBase::Types::constvec_t</ref><sp/>jettrkvec<sp/>=<sp/>assoc-&gt;jetTrkVec();</highlight></codeline>
<codeline lineno="883"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec" kindref="compound" tooltip="Vector sum of constituents for subtractive overlap removal.">MissingETBase::Types::constvec_t</ref><sp/>initialTrkMom<sp/>=<sp/>assoc-&gt;jetTrkVec();</highlight></codeline>
<codeline lineno="884"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>momi<sp/>=<sp/>0;<sp/>momi<sp/>&lt;<sp/>assoc-&gt;sizeTrk();<sp/>momi++)<sp/>initialTrkMom<sp/>-=<sp/>assoc-&gt;trkVec(momi);</highlight></codeline>
<codeline lineno="885"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec" kindref="compound" tooltip="Vector sum of constituents for subtractive overlap removal.">MissingETBase::Types::constvec_t</ref><sp/>initialCalMom<sp/>=<sp/><ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec" kindref="compound" tooltip="Vector sum of constituents for subtractive overlap removal.">MissingETBase::Types::constvec_t</ref>(constjet.Px(),constjet.Py(),constjet.Pz(),constjet.E(),constjet.Pt());</highlight></codeline>
<codeline lineno="886"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>momi<sp/>=<sp/>0;<sp/>momi<sp/>&lt;<sp/>assoc-&gt;sizeCal();<sp/>momi++)<sp/>initialCalMom<sp/>-=<sp/>assoc-&gt;calVec(momi);</highlight></codeline>
<codeline lineno="887"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec" kindref="compound" tooltip="Vector sum of constituents for subtractive overlap removal.">MissingETBase::Types::constvec_t</ref><sp/>imbalance<sp/>=<sp/>initialTrkMom.<ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec_1a7113d6c885e9e0d1bdebb1fc234b6357" kindref="member" tooltip="Returns sum of component pt.">sumpt</ref>()&gt;=120e3<sp/>&amp;&amp;<sp/>m_doExtraCleaning<sp/>&amp;&amp;<sp/>initialTrkMom.<ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec_1a7113d6c885e9e0d1bdebb1fc234b6357" kindref="member" tooltip="Returns sum of component pt.">sumpt</ref>()-initialCalMom.<ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec_1a7113d6c885e9e0d1bdebb1fc234b6357" kindref="member" tooltip="Returns sum of component pt.">sumpt</ref>()&gt;m_minimumImbalance<sp/>&amp;&amp;<sp/>assoc-&gt;overlapCalVec().sumpt()&gt;1e-6<sp/>&amp;&amp;<sp/>assoc-&gt;overlapCalVec().sumpt()-trkvec.<ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec_1a7113d6c885e9e0d1bdebb1fc234b6357" kindref="member" tooltip="Returns sum of component pt.">sumpt</ref>()&gt;m_minimumImbalance<sp/>?<sp/>initialCalMom-initialTrkMom<sp/>:<sp/><ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec" kindref="compound" tooltip="Vector sum of constituents for subtractive overlap removal.">MissingETBase::Types::constvec_t</ref>(0,0,0,0,0);</highlight></codeline>
<codeline lineno="888"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(jettrkvec.<ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec_1a100840928dd5eecfb308d45ee2b4db20" kindref="member" tooltip="Returns .">ce</ref>()&gt;1e-9<sp/>&amp;&amp;<sp/>(!lostMuon<sp/>||<sp/>initialTrkMom.<ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec_1a7113d6c885e9e0d1bdebb1fc234b6357" kindref="member" tooltip="Returns sum of component pt.">sumpt</ref>()&lt;120e3<sp/>||<sp/>!m_doExtraCleaning))<sp/>{</highlight></codeline>
<codeline lineno="889"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>jpx<sp/>=<sp/>jettrkvec.<ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec_1a5818e9b9eb7ced53722e7b7c87ef69af" kindref="member" tooltip="Returns .">cpx</ref>()+imbalance.<ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec_1a5818e9b9eb7ced53722e7b7c87ef69af" kindref="member" tooltip="Returns .">cpx</ref>();</highlight></codeline>
<codeline lineno="890"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>jpy<sp/>=<sp/>jettrkvec.<ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec_1a9dff41cc936ef9eceb322a3d6b4e71bf" kindref="member" tooltip="Returns .">cpy</ref>()+imbalance.<ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec_1a9dff41cc936ef9eceb322a3d6b4e71bf" kindref="member" tooltip="Returns .">cpy</ref>();</highlight></codeline>
<codeline lineno="891"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>jpt<sp/>=<sp/>jettrkvec.<ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec_1a7113d6c885e9e0d1bdebb1fc234b6357" kindref="member" tooltip="Returns sum of component pt.">sumpt</ref>()+imbalance.<ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec_1a7113d6c885e9e0d1bdebb1fc234b6357" kindref="member" tooltip="Returns sum of component pt.">sumpt</ref>();</highlight></codeline>
<codeline lineno="892"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>jettrkvec<sp/>-=<sp/>trkvec;</highlight></codeline>
<codeline lineno="893"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>opx<sp/>=<sp/>jettrkvec.<ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec_1a5818e9b9eb7ced53722e7b7c87ef69af" kindref="member" tooltip="Returns .">cpx</ref>()+imbalance.<ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec_1a5818e9b9eb7ced53722e7b7c87ef69af" kindref="member" tooltip="Returns .">cpx</ref>();</highlight></codeline>
<codeline lineno="894"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>opy<sp/>=<sp/>jettrkvec.<ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec_1a9dff41cc936ef9eceb322a3d6b4e71bf" kindref="member" tooltip="Returns .">cpy</ref>()+imbalance.<ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec_1a9dff41cc936ef9eceb322a3d6b4e71bf" kindref="member" tooltip="Returns .">cpy</ref>();</highlight></codeline>
<codeline lineno="895"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>opt<sp/>=<sp/>jettrkvec.<ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec_1a7113d6c885e9e0d1bdebb1fc234b6357" kindref="member" tooltip="Returns sum of component pt.">sumpt</ref>()+imbalance.<ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec_1a7113d6c885e9e0d1bdebb1fc234b6357" kindref="member" tooltip="Returns sum of component pt.">sumpt</ref>();</highlight></codeline>
<codeline lineno="896"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(<sp/></highlight><highlight class="stringliteral">&quot;Jet<sp/>track<sp/>px,<sp/>py,<sp/>sumpt<sp/>=<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>jpx<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>jpy<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>jpt<sp/>);</highlight></codeline>
<codeline lineno="897"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(<sp/></highlight><highlight class="stringliteral">&quot;Jet<sp/>OR<sp/>px,<sp/>py,<sp/>sumpt<sp/>=<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>opx<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>opy<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>opt<sp/>);</highlight></codeline>
<codeline lineno="898"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="899"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>opx<sp/>=<sp/>opy<sp/>=<sp/>opt<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="900"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(<sp/></highlight><highlight class="stringliteral">&quot;This<sp/>jet<sp/>has<sp/>no<sp/>associated<sp/>tracks&quot;</highlight><highlight class="normal"><sp/>);</highlight></codeline>
<codeline lineno="901"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="902"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(hardJet)<sp/>metJet-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1ae690438a17de949bbf3ef2a5c137dc6f" kindref="member" tooltip="Add particle kinematics to MET.">add</ref>(opx,opy,opt);</highlight></codeline>
<codeline lineno="903"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(fabs(jet-&gt;eta())&lt;2.5<sp/>||<sp/>!(coreSoftTrk-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1aa4f9f5a81ce0f69045faf1099ceb9cf6" kindref="member" tooltip="MET object source tag.">source</ref>()&amp;<ref refid="d3/dee/structMissingETBase_1_1Source_1a94aefcec0a86daa7e00d40a96704ee7aa0c47deef86ed49124bc18862f5160d48" kindref="member" tooltip="Indicator for MET contribution from the central region.">MissingETBase::Source::Central</ref>))<sp/>{</highlight></codeline>
<codeline lineno="904"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>metSoftTrk-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1ae690438a17de949bbf3ef2a5c137dc6f" kindref="member" tooltip="Add particle kinematics to MET.">add</ref>(opx,opy,opt);</highlight></codeline>
<codeline lineno="905"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Don&apos;t<sp/>need<sp/>to<sp/>add<sp/>if<sp/>already<sp/>done<sp/>for<sp/>softclus.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="906"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!metSoftClus)<sp/>{</highlight></codeline>
<codeline lineno="907"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>softJetLinks.emplace_back(<sp/>iplink_t(*static_cast&lt;const<sp/>xAOD::JetContainer*&gt;(jet-&gt;container()),jet-&gt;index())<sp/>);</highlight></codeline>
<codeline lineno="908"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>softJetWeights.emplace_back(<sp/>uniquefrac<sp/>);</highlight></codeline>
<codeline lineno="909"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="910"><highlight class="normal"></highlight></codeline>
<codeline lineno="911"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Fill<sp/>a<sp/>vector<sp/>with<sp/>the<sp/>soft<sp/>constituents,<sp/>if<sp/>one<sp/>was<sp/>provided.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="912"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>For<sp/>now,<sp/>only<sp/>setting<sp/>up<sp/>to<sp/>work<sp/>with<sp/>those<sp/>corresponding<sp/>to<sp/>the<sp/>jet<sp/>constituents.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="913"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Can<sp/>expand<sp/>if<sp/>needed.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="914"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>ignores<sp/>overlap<sp/>removal.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="915"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="916"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(softConst<sp/>&amp;&amp;<sp/>!m_doPFlow<sp/>&amp;&amp;<sp/>!m_doSoftTruth)<sp/>{</highlight></codeline>
<codeline lineno="917"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::vector&lt;const<sp/>IParticle*&gt;<sp/>jettracks;</highlight></codeline>
<codeline lineno="918"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>jet-&gt;getAssociatedObjects&lt;IParticle&gt;(xAOD::JetAttribute::GhostTrack,jettracks);</highlight></codeline>
<codeline lineno="919"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>iConst=0;<sp/>iConst&lt;jettracks.size();<sp/>++iConst)<sp/>{</highlight></codeline>
<codeline lineno="920"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="dd/d44/namespacexAOD_1a795ac8d2e30fdc75f7c9266766629005" kindref="member" tooltip="Reference the current persistent version:.">TrackParticle</ref>*<sp/>pTrk<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="dd/d44/namespacexAOD_1a795ac8d2e30fdc75f7c9266766629005" kindref="member" tooltip="Reference the current persistent version:.">TrackParticle</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(jettracks[iConst]);</highlight></codeline>
<codeline lineno="921"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(acceptTrack(pTrk,pv))<sp/>softConst-&gt;push_back(pTrk);</highlight></codeline>
<codeline lineno="922"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="923"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="924"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="925"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="comment">//<sp/>soft<sp/>track</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="926"><highlight class="normal"></highlight></codeline>
<codeline lineno="927"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="comment">//<sp/>is<sp/>not<sp/>from<sp/>muon<sp/>FSR</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="928"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="comment">//<sp/>association<sp/>exists</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="929"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="930"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_WARNING(<sp/></highlight><highlight class="stringliteral">&quot;WARNING:<sp/>Jet<sp/>without<sp/>association<sp/>found!&quot;</highlight><highlight class="normal"><sp/>);</highlight></codeline>
<codeline lineno="931"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="932"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="comment">//<sp/>jet<sp/>loop</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="933"><highlight class="normal"></highlight></codeline>
<codeline lineno="934"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_DEBUG(</highlight><highlight class="stringliteral">&quot;Number<sp/>of<sp/>selected<sp/>jets:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>dec_constitObjLinks(*metJet).size());</highlight></codeline>
<codeline lineno="935"><highlight class="normal"></highlight></codeline>
<codeline lineno="936"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(metSoftTrk)<sp/>{</highlight></codeline>
<codeline lineno="937"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>dec_constitObjLinks(*metSoftTrk)<sp/>=<sp/>softJetLinks;</highlight></codeline>
<codeline lineno="938"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_DEBUG(</highlight><highlight class="stringliteral">&quot;Number<sp/>of<sp/>softtrk<sp/>jets:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>dec_constitObjLinks(*metSoftTrk).size());</highlight></codeline>
<codeline lineno="939"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="940"><highlight class="normal"></highlight></codeline>
<codeline lineno="941"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(metSoftClus)<sp/>{</highlight></codeline>
<codeline lineno="942"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>dec_constitObjLinks(*metSoftClus)<sp/>=<sp/>softJetLinks;</highlight></codeline>
<codeline lineno="943"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_DEBUG(</highlight><highlight class="stringliteral">&quot;Number<sp/>of<sp/>softclus<sp/>jets:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>dec_constitObjLinks(*metSoftClus).size());</highlight></codeline>
<codeline lineno="944"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="945"><highlight class="normal"></highlight></codeline>
<codeline lineno="946"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(softConst)<sp/>ATH_MSG_DEBUG(softConst-&gt;size()<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/>soft<sp/>constituents<sp/>from<sp/>core<sp/>term<sp/>+<sp/>jets&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="947"><highlight class="normal"></highlight></codeline>
<codeline lineno="948"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(metSoftTrk)<sp/>{</highlight></codeline>
<codeline lineno="949"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>supplement<sp/>track<sp/>term<sp/>with<sp/>any<sp/>tracks<sp/>associated<sp/>to<sp/>isolated<sp/>muons</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="950"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>these<sp/>are<sp/>recorded<sp/>in<sp/>the<sp/>misc<sp/>association</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="951"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="dd/d44/namespacexAOD_1a2dae48e7c6d11ace94ebdc92adc1c93d" kindref="member" tooltip="Version control by type definition.">MissingETAssociation</ref>*<sp/>assoc<sp/>=<sp/>map-&gt;<ref refid="d5/d3a/classxAOD_1_1MissingETAssociationMap__v1_1af0bd585916c70d0d231f1a3f9c5abc69" kindref="member" tooltip="Get an association for miscellaneous objects not associated to jets.">getMiscAssociation</ref>();</highlight></codeline>
<codeline lineno="952"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(assoc)<sp/>{</highlight></codeline>
<codeline lineno="953"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec" kindref="compound" tooltip="Vector sum of constituents for subtractive overlap removal.">MissingETBase::Types::constvec_t</ref><sp/>trkvec<sp/>=<sp/>assoc-&gt;overlapTrkVec();</highlight></codeline>
<codeline lineno="954"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>opx<sp/>=<sp/>trkvec.<ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec_1a5818e9b9eb7ced53722e7b7c87ef69af" kindref="member" tooltip="Returns .">cpx</ref>();</highlight></codeline>
<codeline lineno="955"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>opy<sp/>=<sp/>trkvec.<ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec_1a9dff41cc936ef9eceb322a3d6b4e71bf" kindref="member" tooltip="Returns .">cpy</ref>();</highlight></codeline>
<codeline lineno="956"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>osumpt<sp/>=<sp/>trkvec.<ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec_1a7113d6c885e9e0d1bdebb1fc234b6357" kindref="member" tooltip="Returns sum of component pt.">sumpt</ref>();;</highlight></codeline>
<codeline lineno="957"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(<sp/></highlight><highlight class="stringliteral">&quot;Misc<sp/>track<sp/>px,<sp/>py,<sp/>sumpt<sp/>=<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>opx<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>opy<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>osumpt<sp/>);</highlight></codeline>
<codeline lineno="958"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>metSoftTrk-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1ae690438a17de949bbf3ef2a5c137dc6f" kindref="member" tooltip="Add particle kinematics to MET.">add</ref>(opx,opy,osumpt);</highlight></codeline>
<codeline lineno="959"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Final<sp/>soft<sp/>track<sp/>mpx<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>metSoftTrk-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1aa098e7ecb13fd6547bb3e9f26aaf6e5a" kindref="member" tooltip="Returns .">mpx</ref>()</highlight></codeline>
<codeline lineno="960"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>mpy<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>metSoftTrk-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1ab2ec5bd42f6f8238455ddc7d1761bd99" kindref="member" tooltip="Returns .">mpy</ref>()</highlight></codeline>
<codeline lineno="961"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/>sumet<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>metSoftTrk-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1af3599113dcc06aabf7010c053057e488" kindref="member" tooltip="Returns.">sumet</ref>());</highlight></codeline>
<codeline lineno="962"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="963"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="964"><highlight class="normal"></highlight></codeline>
<codeline lineno="965"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(metSoftClus)<sp/>{</highlight></codeline>
<codeline lineno="966"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>supplement<sp/>cluster<sp/>term<sp/>with<sp/>any<sp/>clusters<sp/>associated<sp/>to<sp/>isolated<sp/>e/gamma</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="967"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>these<sp/>are<sp/>recorded<sp/>in<sp/>the<sp/>misc<sp/>association</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="968"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="dd/d44/namespacexAOD_1a2dae48e7c6d11ace94ebdc92adc1c93d" kindref="member" tooltip="Version control by type definition.">MissingETAssociation</ref>*<sp/>assoc<sp/>=<sp/>map-&gt;<ref refid="d5/d3a/classxAOD_1_1MissingETAssociationMap__v1_1af0bd585916c70d0d231f1a3f9c5abc69" kindref="member" tooltip="Get an association for miscellaneous objects not associated to jets.">getMiscAssociation</ref>();</highlight></codeline>
<codeline lineno="969"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(assoc)<sp/>{</highlight></codeline>
<codeline lineno="970"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec" kindref="compound" tooltip="Vector sum of constituents for subtractive overlap removal.">MissingETBase::Types::constvec_t</ref><sp/>calvec<sp/>=<sp/>assoc-&gt;overlapCalVec();</highlight></codeline>
<codeline lineno="971"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>opx<sp/>=<sp/>calvec.<ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec_1a5818e9b9eb7ced53722e7b7c87ef69af" kindref="member" tooltip="Returns .">cpx</ref>();</highlight></codeline>
<codeline lineno="972"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>opy<sp/>=<sp/>calvec.<ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec_1a9dff41cc936ef9eceb322a3d6b4e71bf" kindref="member" tooltip="Returns .">cpy</ref>();</highlight></codeline>
<codeline lineno="973"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>osumpt<sp/>=<sp/>calvec.<ref refid="d7/d7f/classxAOD_1_1MissingETAssociation__v1_1_1ConstVec_1a7113d6c885e9e0d1bdebb1fc234b6357" kindref="member" tooltip="Returns sum of component pt.">sumpt</ref>();</highlight></codeline>
<codeline lineno="974"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(<sp/></highlight><highlight class="stringliteral">&quot;Misc<sp/>cluster<sp/>px,<sp/>py,<sp/>sumpt<sp/>=<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>opx<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>opy<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>osumpt<sp/>);</highlight></codeline>
<codeline lineno="975"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>metSoftClus-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1ae690438a17de949bbf3ef2a5c137dc6f" kindref="member" tooltip="Add particle kinematics to MET.">add</ref>(opx,opy,osumpt);</highlight></codeline>
<codeline lineno="976"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Final<sp/>soft<sp/>cluster<sp/>mpx<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>metSoftClus-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1aa098e7ecb13fd6547bb3e9f26aaf6e5a" kindref="member" tooltip="Returns .">mpx</ref>()</highlight></codeline>
<codeline lineno="977"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>mpy<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>metSoftClus-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1ab2ec5bd42f6f8238455ddc7d1761bd99" kindref="member" tooltip="Returns .">mpy</ref>()</highlight></codeline>
<codeline lineno="978"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/>sumet<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>metSoftClus-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1af3599113dcc06aabf7010c053057e488" kindref="member" tooltip="Returns.">sumet</ref>());</highlight></codeline>
<codeline lineno="979"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="980"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="981"><highlight class="normal"></highlight></codeline>
<codeline lineno="982"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::SUCCESS;</highlight></codeline>
<codeline lineno="983"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="984"><highlight class="normal"></highlight></codeline>
<codeline lineno="985"><highlight class="normal"><sp/><sp/>StatusCode<sp/>METMaker::rebuildTrackMET(<ref refid="dd/d06/classxAOD_1_1MissingET__v1" kindref="compound" tooltip="Principal data object for Missing ET.">xAOD::MissingET</ref>*<sp/>metJet,</highlight></codeline>
<codeline lineno="986"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d0/d4d/classDataVector" kindref="compound" tooltip="Derived DataVector&amp;lt;T&amp;gt;.">xAOD::JetContainer</ref>*<sp/>jets,</highlight></codeline>
<codeline lineno="987"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d5/d3a/classxAOD_1_1MissingETAssociationMap__v1" kindref="compound">xAOD::MissingETAssociationMap</ref>*<sp/>map,</highlight></codeline>
<codeline lineno="988"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="dd/d06/classxAOD_1_1MissingET__v1" kindref="compound" tooltip="Principal data object for Missing ET.">xAOD::MissingET</ref>*<sp/>metSoftTrk,</highlight></codeline>
<codeline lineno="989"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="dd/d06/classxAOD_1_1MissingET__v1" kindref="compound" tooltip="Principal data object for Missing ET.">xAOD::MissingET</ref>*<sp/>coreSoftTrk,</highlight></codeline>
<codeline lineno="990"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>doJetJVT)<sp/>{</highlight></codeline>
<codeline lineno="991"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rebuildJetMET(metJet,jets,map,NULL,NULL,metSoftTrk,coreSoftTrk,doJetJVT,</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="992"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="993"><highlight class="normal"></highlight></codeline>
<codeline lineno="994"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>****<sp/>Remove<sp/>objects<sp/>and<sp/>any<sp/>overlaps<sp/>from<sp/>MET<sp/>calculation<sp/>****</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="995"><highlight class="normal"></highlight></codeline>
<codeline lineno="996"><highlight class="normal"><sp/><sp/>StatusCode<sp/>METMaker::markInvisible(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d0/d4d/classDataVector" kindref="compound" tooltip="Derived DataVector&amp;lt;T&amp;gt;.">xAOD::IParticleContainer</ref>*<sp/>collection,</highlight></codeline>
<codeline lineno="997"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d5/d3a/classxAOD_1_1MissingETAssociationMap__v1" kindref="compound">xAOD::MissingETAssociationMap</ref>*<sp/>map,</highlight></codeline>
<codeline lineno="998"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d0/d90/classxAOD_1_1MissingETContainer__v1" kindref="compound" tooltip="Container for xAOD::MissingET_v1 objects.">xAOD::MissingETContainer</ref>*<sp/>metCont)</highlight></codeline>
<codeline lineno="999"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="1000"><highlight class="normal"></highlight></codeline>
<codeline lineno="1001"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="dd/d44/namespacexAOD_1a3c42c356018f6111557bd691272349b7" kindref="member" tooltip="Version control by type defintion.">MissingET</ref>*<sp/>met<sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1002"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>fillMET(met,metCont,<sp/></highlight><highlight class="stringliteral">&quot;Invisibles&quot;</highlight><highlight class="normal"><sp/>,<sp/>invisSource)<sp/>!=<sp/>StatusCode::SUCCESS)<sp/>{</highlight></codeline>
<codeline lineno="1003"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_ERROR(</highlight><highlight class="stringliteral">&quot;failed<sp/>to<sp/>fill<sp/>MET<sp/>term<sp/>\&quot;Invisibles\&quot;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1004"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;</highlight></codeline>
<codeline lineno="1005"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1006"><highlight class="normal"></highlight></codeline>
<codeline lineno="1007"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rebuildMET(met,collection,map,<ref refid="de/dd2/namespaceMissingETBase_1_1UsageHandler_1adc82230b57f6a7bcfbffe1e66c06130eaeb1607e7362104eae3082d4a54115369" kindref="member" tooltip="Physics object based.">MissingETBase::UsageHandler::PhysicsObject</ref>);</highlight></codeline>
<codeline lineno="1008"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1009"><highlight class="normal"></highlight></codeline>
<codeline lineno="1010"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>****<sp/>Sum<sp/>up<sp/>MET<sp/>terms<sp/>****</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1011"><highlight class="normal"></highlight></codeline>
<codeline lineno="1012"><highlight class="normal"><sp/><sp/>StatusCode<sp/>METMaker::buildMETSum(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>totalName,</highlight></codeline>
<codeline lineno="1013"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d0/d90/classxAOD_1_1MissingETContainer__v1" kindref="compound" tooltip="Container for xAOD::MissingET_v1 objects.">xAOD::MissingETContainer</ref>*<sp/>metCont,</highlight></codeline>
<codeline lineno="1014"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d2/d5b/namespaceMissingETBase_1_1Types_1afbe8719ef44dd43f994a3d5ea2823903" kindref="member" tooltip="Type for status word bit mask.">MissingETBase::Types::bitmask_t</ref><sp/>softTermsSource)</highlight></codeline>
<codeline lineno="1015"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="1016"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_DEBUG(</highlight><highlight class="stringliteral">&quot;Build<sp/>MET<sp/>total:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>totalName);</highlight></codeline>
<codeline lineno="1017"><highlight class="normal"></highlight></codeline>
<codeline lineno="1018"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="dd/d44/namespacexAOD_1a3c42c356018f6111557bd691272349b7" kindref="member" tooltip="Version control by type defintion.">MissingET</ref>*<sp/>metFinal<sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1019"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>fillMET(metFinal,<sp/>metCont,<sp/>totalName,<sp/><ref refid="d3/dee/structMissingETBase_1_1Source_1a784efbb835d22ecb4e721f353dea4cf7" kindref="member" tooltip="Standard full reconstructed MET.">MissingETBase::Source::total</ref>())<sp/>!=<sp/>StatusCode::SUCCESS)<sp/>{</highlight></codeline>
<codeline lineno="1020"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_ERROR(</highlight><highlight class="stringliteral">&quot;failed<sp/>to<sp/>fill<sp/>MET<sp/>term<sp/>\&quot;&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>totalName<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;\&quot;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1021"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;</highlight></codeline>
<codeline lineno="1022"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1023"><highlight class="normal"></highlight></codeline>
<codeline lineno="1024"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>met<sp/>:<sp/>*metCont)<sp/>{</highlight></codeline>
<codeline lineno="1025"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(MissingETBase::Source::isTotalTerm(met-&gt;source()))<sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1026"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(met-&gt;source()==invisSource)<sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1027"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(softTermsSource<sp/>&amp;&amp;<sp/>MissingETBase::Source::isSoftTerm(met-&gt;source()))<sp/>{</highlight></codeline>
<codeline lineno="1028"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!<ref refid="d3/dee/structMissingETBase_1_1Source_1ae8200253f0f51817d8c90e984fff7d1d" kindref="member" tooltip="Generic check for given pattern.">MissingETBase::Source::hasPattern</ref>(met-&gt;source(),softTermsSource))<sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1029"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1030"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_VERBOSE(</highlight><highlight class="stringliteral">&quot;Add<sp/>MET<sp/>term<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>met-&gt;name()<sp/>);</highlight></codeline>
<codeline lineno="1031"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>*metFinal<sp/>+=<sp/>*met;</highlight></codeline>
<codeline lineno="1032"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1033"><highlight class="normal"></highlight></codeline>
<codeline lineno="1034"><highlight class="normal"><sp/><sp/><sp/><sp/>ATH_MSG_DEBUG(<sp/></highlight><highlight class="stringliteral">&quot;Rebuilt<sp/>MET<sp/>Final<sp/>--&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1035"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/>mpx:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>metFinal-&gt;mpx()</highlight></codeline>
<codeline lineno="1036"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/>mpy:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>metFinal-&gt;mpy()</highlight></codeline>
<codeline lineno="1037"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="1038"><highlight class="normal"></highlight></codeline>
<codeline lineno="1039"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::SUCCESS;</highlight></codeline>
<codeline lineno="1040"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1041"><highlight class="normal"></highlight></codeline>
<codeline lineno="1042"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//this<sp/>is<sp/>used<sp/>to<sp/>not<sp/>create<sp/>a<sp/>private<sp/>store</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1043"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//it<sp/>puts<sp/>the<sp/>given<sp/>new<sp/>MET<sp/>object<sp/>into<sp/>the<sp/>container</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1044"><highlight class="normal"><sp/><sp/>StatusCode<sp/>METMaker::fillMET(<ref refid="dd/d06/classxAOD_1_1MissingET__v1" kindref="compound" tooltip="Principal data object for Missing ET.">xAOD::MissingET</ref><sp/>*&amp;<sp/>met,</highlight></codeline>
<codeline lineno="1045"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d0/d90/classxAOD_1_1MissingETContainer__v1" kindref="compound" tooltip="Container for xAOD::MissingET_v1 objects.">xAOD::MissingETContainer</ref><sp/>*<sp/>metCont,</highlight></codeline>
<codeline lineno="1046"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>metKey,</highlight></codeline>
<codeline lineno="1047"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d2/d5b/namespaceMissingETBase_1_1Types_1afbe8719ef44dd43f994a3d5ea2823903" kindref="member" tooltip="Type for status word bit mask.">MissingETBase::Types::bitmask_t</ref><sp/>metSource){</highlight></codeline>
<codeline lineno="1048"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(met<sp/>!=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">){</highlight></codeline>
<codeline lineno="1049"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_ERROR(</highlight><highlight class="stringliteral">&quot;You<sp/>can&apos;t<sp/>fill<sp/>a<sp/>filled<sp/>MET<sp/>value&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1050"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::FAILURE;</highlight></codeline>
<codeline lineno="1051"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1052"><highlight class="normal"><sp/><sp/><sp/><sp/>metCont-&gt;<ref refid="d0/d4d/classDataVector_1a3827d1fa4f134ba36346893715dd5bc1" kindref="member" tooltip="Attempt to preallocate enough memory for a specified number of elements.">reserve</ref>(10);</highlight></codeline>
<codeline lineno="1053"><highlight class="normal"></highlight></codeline>
<codeline lineno="1054"><highlight class="normal"><sp/><sp/><sp/><sp/>met<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="dd/d06/classxAOD_1_1MissingET__v1" kindref="compound" tooltip="Principal data object for Missing ET.">xAOD::MissingET</ref>();</highlight></codeline>
<codeline lineno="1055"><highlight class="normal"><sp/><sp/><sp/><sp/>metCont-&gt;<ref refid="d0/d4d/classDataVector_1a486aeb4868e7c29331717adb06ea0df2" kindref="member" tooltip="Add an element to the end of the collection.">push_back</ref>(met);</highlight></codeline>
<codeline lineno="1056"><highlight class="normal"></highlight></codeline>
<codeline lineno="1057"><highlight class="normal"><sp/><sp/><sp/><sp/>met-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1af3785408201280f9d2c24f8ac1b37260" kindref="member" tooltip="Set the name of the MET object.">setName</ref><sp/><sp/>(metKey);</highlight></codeline>
<codeline lineno="1058"><highlight class="normal"><sp/><sp/><sp/><sp/>met-&gt;<ref refid="dd/d06/classxAOD_1_1MissingET__v1_1a5bc5e160ff911d218556b7ad4d4805ef" kindref="member" tooltip="Set the source of the MET object.">setSource</ref>(metSource);</highlight></codeline>
<codeline lineno="1059"><highlight class="normal"></highlight></codeline>
<codeline lineno="1060"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>StatusCode::SUCCESS;</highlight></codeline>
<codeline lineno="1061"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1062"><highlight class="normal"></highlight></codeline>
<codeline lineno="1063"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Accept<sp/>Track</highlight></codeline>
<codeline lineno="1065"><highlight class="comment"></highlight><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>METMaker::acceptTrack(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d9/d1d/classxAOD_1_1TrackParticle__v1" kindref="compound">xAOD::TrackParticle</ref>*<sp/>trk,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="db/dd1/classxAOD_1_1Vertex__v1" kindref="compound">xAOD::Vertex</ref>*<sp/>vx)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="1066"><highlight class="keyword"><sp/><sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="1067"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d0/d75/classRoot_1_1TAccept" kindref="compound">Root::TAccept</ref>&amp;<sp/>accept<sp/>=<sp/>m_trkseltool-&gt;accept(<sp/>*trk,<sp/>vx<sp/>);</highlight></codeline>
<codeline lineno="1068"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>accept;</highlight></codeline>
<codeline lineno="1069"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1070"><highlight class="normal"></highlight></codeline>
<codeline lineno="1071"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="db/dd1/classxAOD_1_1Vertex__v1" kindref="compound">xAOD::Vertex</ref>*<sp/>METMaker::getPV()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="1072"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d0/d4d/classDataVector" kindref="compound" tooltip="Derived DataVector&amp;lt;T&amp;gt;.">xAOD::VertexContainer</ref><sp/>*vxCont<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1073"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="db/dd1/classxAOD_1_1Vertex__v1" kindref="compound">xAOD::Vertex</ref><sp/>*pv<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1074"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>evtStore()-&gt;retrieve(vxCont,</highlight><highlight class="stringliteral">&quot;PrimaryVertices&quot;</highlight><highlight class="normal">).isFailure()<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="1075"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_WARNING(</highlight><highlight class="stringliteral">&quot;Unable<sp/>to<sp/>retrieve<sp/>primary<sp/>vertex<sp/>container<sp/>PrimaryVertices&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1076"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(vxCont-&gt;<ref refid="d0/d4d/classDataVector_1a85aede44dff3bf86318e9d7ee71f0de5" kindref="member" tooltip="Returns true if the collection is empty.">empty</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1077"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_WARNING(</highlight><highlight class="stringliteral">&quot;Event<sp/>has<sp/>no<sp/>primary<sp/>vertices!&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1078"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1079"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ATH_MSG_DEBUG(</highlight><highlight class="stringliteral">&quot;Successfully<sp/>retrieved<sp/>primary<sp/>vertex<sp/>container&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1080"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>vx<sp/>:<sp/>*vxCont)<sp/>{</highlight></codeline>
<codeline lineno="1081"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(vx-&gt;<ref refid="db/dd1/classxAOD_1_1Vertex__v1_1a34e99a6f8d2bdf2584bb9cd92d3c308a" kindref="member" tooltip="The type of the vertex.">vertexType</ref>()==<ref refid="d3/db2/namespacexAOD_1_1VxType_1a1d548d2beffc6a21d4162b4aa513afbaaa480b0462eea82edf429357e8a6f9c48" kindref="member" tooltip="Primary vertex.">xAOD::VxType::PriVtx</ref>)</highlight></codeline>
<codeline lineno="1082"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{pv<sp/>=<sp/>vx;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;}</highlight></codeline>
<codeline lineno="1083"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1084"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1085"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pv;</highlight></codeline>
<codeline lineno="1086"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1087"><highlight class="normal"></highlight></codeline>
<codeline lineno="1089"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Const<sp/>methods:</highlight></codeline>
<codeline lineno="1091"><highlight class="comment"></highlight></codeline>
<codeline lineno="1093"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Non-const<sp/>methods:</highlight></codeline>
<codeline lineno="1095"><highlight class="comment"></highlight></codeline>
<codeline lineno="1097"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Protected<sp/>methods:</highlight></codeline>
<codeline lineno="1099"><highlight class="comment"></highlight></codeline>
<codeline lineno="1101"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Const<sp/>methods:</highlight></codeline>
<codeline lineno="1103"><highlight class="comment"></highlight></codeline>
<codeline lineno="1105"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Non-const<sp/>methods:</highlight></codeline>
<codeline lineno="1107"><highlight class="comment"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1108"><highlight class="normal">}<sp/></highlight><highlight class="comment">//&gt;<sp/>end<sp/>namespace<sp/>met</highlight><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/METUtilities/Root/METMaker.cxx"/>
  </compounddef>
</doxygen>
