<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.6.1">
  <compounddef id="d3/d9f/classxAOD_1_1TFileAccessTracer" kind="class" prot="public">
    <compoundname>xAOD::TFileAccessTracer</compoundname>
    <includes refid="dc/d85/TFileAccessTracer_8h" local="no">TFileAccessTracer.h</includes>
    <innerclass refid="d3/d37/classxAOD_1_1TFileAccessTracer_1_1AccessedFile" prot="private">xAOD::TFileAccessTracer::AccessedFile</innerclass>
      <sectiondef kind="private-attrib">
      <memberdef kind="variable" id="d3/d9f/classxAOD_1_1TFileAccessTracer_1ad406141899c21ba5f27b228d9d0ad1b7" prot="private" static="no" mutable="no">
        <type>std::set&lt; AccessedFile &gt;</type>
        <definition>std::set&lt; AccessedFile &gt; xAOD::TFileAccessTracer::m_accessedFiles</definition>
        <argsstring></argsstring>
        <name>m_accessedFiles</name>
        <briefdescription>
<para>List of all the input files that were accessed in the job. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/xAODRootAccess/xAODRootAccess/tools/TFileAccessTracer.h" line="85" bodyfile="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/xAODRootAccess/xAODRootAccess/tools/TFileAccessTracer.h" bodystart="85" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="d3/d9f/classxAOD_1_1TFileAccessTracer_1ae8b149de94853185336167206ebda206" prot="private" static="no" mutable="no">
        <type>std::string</type>
        <definition>std::string xAOD::TFileAccessTracer::m_serverAddress</definition>
        <argsstring></argsstring>
        <name>m_serverAddress</name>
        <briefdescription>
<para>Address of the server to send monitoring information to. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/xAODRootAccess/xAODRootAccess/tools/TFileAccessTracer.h" line="88" bodyfile="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/xAODRootAccess/xAODRootAccess/tools/TFileAccessTracer.h" bodystart="88" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="d3/d9f/classxAOD_1_1TFileAccessTracer_1aa8fac13585d7a44d7224671e6855df41" prot="private" static="no" mutable="no">
        <type>::TInetAddress</type>
        <definition>::TInetAddress xAOD::TFileAccessTracer::m_serverInetAddress</definition>
        <argsstring></argsstring>
        <name>m_serverInetAddress</name>
        <briefdescription>
<para>Technical address of the server. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/xAODRootAccess/xAODRootAccess/tools/TFileAccessTracer.h" line="90" bodyfile="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/xAODRootAccess/xAODRootAccess/tools/TFileAccessTracer.h" bodystart="90" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="d3/d9f/classxAOD_1_1TFileAccessTracer_1a6e2892f5998eaa0aaf8e781ea538bf83" prot="private" static="no" mutable="no">
        <type>::Double_t</type>
        <definition>::Double_t xAOD::TFileAccessTracer::m_monitoredFraction</definition>
        <argsstring></argsstring>
        <name>m_monitoredFraction</name>
        <briefdescription>
<para>Fraction of jobs that should send monitoring information. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/xAODRootAccess/xAODRootAccess/tools/TFileAccessTracer.h" line="93" bodyfile="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/xAODRootAccess/xAODRootAccess/tools/TFileAccessTracer.h" bodystart="93" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="d3/d9f/classxAOD_1_1TFileAccessTracer_1a797e38b55c4cb2fe9dddff5d3660efd3" prot="private" static="no" mutable="no">
        <type><ref refid="de/daf/classxAOD_1_1ReadStats" kindref="compound">ReadStats</ref> *</type>
        <definition>ReadStats* xAOD::TFileAccessTracer::m_readStats</definition>
        <argsstring></argsstring>
        <name>m_readStats</name>
        <briefdescription>
<para>Object describing the job&apos;s <ref refid="dd/d44/namespacexAOD" kindref="compound">xAOD</ref> access statistics. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/xAODRootAccess/xAODRootAccess/tools/TFileAccessTracer.h" line="96" bodyfile="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/xAODRootAccess/xAODRootAccess/tools/TFileAccessTracer.h" bodystart="96" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="private-static-attrib">
      <memberdef kind="variable" id="d3/d9f/classxAOD_1_1TFileAccessTracer_1a2756b080ea06b0de610f745e94af58c8" prot="private" static="yes" mutable="no">
        <type>::Bool_t</type>
        <definition>Bool_t xAOD::TFileAccessTracer::m_enableDataSumbission</definition>
        <argsstring></argsstring>
        <name>m_enableDataSumbission</name>
        <initializer> kTRUE</initializer>
        <briefdescription>
<para>Global property for enabling data submission or not. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/xAODRootAccess/xAODRootAccess/tools/TFileAccessTracer.h" line="99" bodyfile="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/xAODRootAccess/xAODRootAccess/tools/TFileAccessTracer.h" bodystart="99" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="public-func">
      <memberdef kind="function" id="d3/d9f/classxAOD_1_1TFileAccessTracer_1aaea0382d31e268d07751e83e7785b8c1" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>xAOD::TFileAccessTracer::TFileAccessTracer</definition>
        <argsstring>()</argsstring>
        <name>TFileAccessTracer</name>
        <briefdescription>
<para>Default constructor. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/xAODRootAccess/xAODRootAccess/tools/TFileAccessTracer.h" line="50" bodyfile="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/xAODRootAccess/Root/TFileAccessTracer.cxx" bodystart="29" bodyend="40"/>
      </memberdef>
      <memberdef kind="function" id="d3/d9f/classxAOD_1_1TFileAccessTracer_1a74909672fd4163601d9506fae8eeb00f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>xAOD::TFileAccessTracer::~TFileAccessTracer</definition>
        <argsstring>()</argsstring>
        <name>~TFileAccessTracer</name>
        <briefdescription>
<para>Destructor. </para>        </briefdescription>
        <detaileddescription>
<para>The destructor of the class is the one doing most of the heavy lifting. If the $SEND_XAOD_FILE_ACCESS_STAT environment variable is set when the object gets deleted, it posts all the information it collected, to the address defined by <computeroutput>SERVER_ADDRESS</computeroutput>. By constructing an HTTP message from scratch. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/xAODRootAccess/xAODRootAccess/tools/TFileAccessTracer.h" line="52" bodyfile="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/xAODRootAccess/Root/TFileAccessTracer.cxx" bodystart="48" bodyend="216"/>
      </memberdef>
      <memberdef kind="function" id="d3/d9f/classxAOD_1_1TFileAccessTracer_1a32f872cebfa575219ad5835092877049" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void xAOD::TFileAccessTracer::add</definition>
        <argsstring>(const ::TFile &amp;file)</argsstring>
        <name>add</name>
        <param>
          <type>const ::TFile &amp;</type>
          <declname>file</declname>
        </param>
        <briefdescription>
<para>Add information about a new file that got accessed. </para>        </briefdescription>
        <detaileddescription>
<para>This function is called by <ref refid="de/d95/classxAOD_1_1TEvent" kindref="compound">TEvent</ref> to record which files were read from during the job.</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>file</parametername>
</parameternamelist>
<parameterdescription>
<para>The file object that is being read from </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/xAODRootAccess/xAODRootAccess/tools/TFileAccessTracer.h" line="55" bodyfile="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/xAODRootAccess/Root/TFileAccessTracer.cxx" bodystart="223" bodyend="232"/>
      </memberdef>
      <memberdef kind="function" id="d3/d9f/classxAOD_1_1TFileAccessTracer_1a6aafa0ab7c6c5f9486ed9dd02d6d2a46" prot="public" static="no" const="yes" explicit="no" inline="no" virt="non-virtual">
        <type>const std::string &amp;</type>
        <definition>const std::string &amp; xAOD::TFileAccessTracer::serverAddress</definition>
        <argsstring>() const </argsstring>
        <name>serverAddress</name>
        <briefdescription>
<para>The address of the server that information is sent to. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/xAODRootAccess/xAODRootAccess/tools/TFileAccessTracer.h" line="58" bodyfile="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/xAODRootAccess/Root/TFileAccessTracer.cxx" bodystart="234" bodyend="237"/>
      </memberdef>
      <memberdef kind="function" id="d3/d9f/classxAOD_1_1TFileAccessTracer_1aca155bcf023d5c70a85ebf7ea4c3777b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void xAOD::TFileAccessTracer::setServerAddress</definition>
        <argsstring>(const std::string &amp;addr)</argsstring>
        <name>setServerAddress</name>
        <param>
          <type>const std::string &amp;</type>
          <declname>addr</declname>
        </param>
        <briefdescription>
<para>Set the address of the server that information is sent to. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/xAODRootAccess/xAODRootAccess/tools/TFileAccessTracer.h" line="60" bodyfile="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/xAODRootAccess/Root/TFileAccessTracer.cxx" bodystart="239" bodyend="248"/>
      </memberdef>
      <memberdef kind="function" id="d3/d9f/classxAOD_1_1TFileAccessTracer_1ac9e65f41beed2d30ae4c3c525dc250b7" prot="public" static="no" const="yes" explicit="no" inline="no" virt="non-virtual">
        <type>::Double_t</type>
        <definition>Double_t xAOD::TFileAccessTracer::monitoredFraction</definition>
        <argsstring>() const </argsstring>
        <name>monitoredFraction</name>
        <briefdescription>
<para>Fraction of jobs that should send monitoring information. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/xAODRootAccess/xAODRootAccess/tools/TFileAccessTracer.h" line="63" bodyfile="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/xAODRootAccess/Root/TFileAccessTracer.cxx" bodystart="250" bodyend="253"/>
      </memberdef>
      <memberdef kind="function" id="d3/d9f/classxAOD_1_1TFileAccessTracer_1a5d444cd0cf697a59c4c06302affcef68" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void xAOD::TFileAccessTracer::setMonitoredFraction</definition>
        <argsstring>(::Double_t value)</argsstring>
        <name>setMonitoredFraction</name>
        <param>
          <type>::Double_t</type>
          <declname>value</declname>
        </param>
        <briefdescription>
<para>Set the fraction of jobs that should send monitoring information. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/xAODRootAccess/xAODRootAccess/tools/TFileAccessTracer.h" line="65" bodyfile="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/xAODRootAccess/Root/TFileAccessTracer.cxx" bodystart="255" bodyend="259"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="public-static-func">
      <memberdef kind="function" id="d3/d9f/classxAOD_1_1TFileAccessTracer_1aada06df6967ffcfc19bd3b26bf3de3da" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void xAOD::TFileAccessTracer::enableDataSubmission</definition>
        <argsstring>(::Bool_t value)</argsstring>
        <name>enableDataSubmission</name>
        <param>
          <type>::Bool_t</type>
          <declname>value</declname>
        </param>
        <briefdescription>
<para>Function for turning data submission on/off. </para>        </briefdescription>
        <detaileddescription>
<para>This function can be used by concerned users to turn off data collection and submission for their jobs completely.</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>value</parametername>
</parameternamelist>
<parameterdescription>
<para>Setting whether data submission should be enabled or not </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/xAODRootAccess/xAODRootAccess/tools/TFileAccessTracer.h" line="68" bodyfile="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/xAODRootAccess/Root/TFileAccessTracer.cxx" bodystart="266" bodyend="270"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
<para>Helper class keeping track of the files that got accessed</para><para>This class helps in keeping track of which files get accessed during a job. To be able to report about them to the DDM (Rucio) system in a way that doesn&apos;t rely on the grid middleware. (So backdoor access to files stored at data centres becomes visible to the DDM system.)</para><para>The class can also send information about which branches/variables got accessed in the job. This it simply gets from the xAODCore code.</para><para><ref refid="de/d95/classxAOD_1_1TEvent" kindref="compound">xAOD::TEvent</ref> uses this class to send information about <ref refid="dd/d44/namespacexAOD" kindref="compound">xAOD</ref> access to the central Rucio monitoring infrastructure. This default behaviour can be influenced in two ways:<itemizedlist>
<listitem><para>Use the TFileAccessTrancer::enableDataSubmission function to disable data submission from a particular application;</para></listitem><listitem><para>Set the environment variable &quot;XAOD_ACCESSTRACER_FRACTION&quot; to a floating point value, which is the fraction of jobs that should be monitored within that session. This is mostly for grid purposes...</para></listitem></itemizedlist>
</para><para><simplesect kind="author"><para>Attila Krasznahorkay &lt;<ulink url="mailto:Attila.Krasznahorkay@cern.ch">Attila.Krasznahorkay@cern.ch</ulink>&gt;</para></simplesect>
<simplesect kind="rcs"><title>Revision</title><para>781356 </para></simplesect>
<simplesect kind="rcs"><title>Date</title><para>2016-10-31 15:03:28 +0100 (Mon, 31 Oct 2016) </para></simplesect>
</para>    </detaileddescription>
    <collaborationgraph>
      <node id="19757">
        <label>string</label>
      </node>
      <node id="19756">
        <label>xAOD::ReadStats</label>
        <link refid="de/daf/classxAOD_1_1ReadStats"/>
      </node>
      <node id="19755">
        <label>xAOD::TFileAccessTracer</label>
        <link refid="d3/d9f/classxAOD_1_1TFileAccessTracer"/>
        <childnode refid="19756" relation="usage">
          <edgelabel>m_readStats</edgelabel>
        </childnode>
        <childnode refid="19757" relation="usage">
          <edgelabel>m_serverAddress</edgelabel>
        </childnode>
      </node>
    </collaborationgraph>
    <location file="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/xAODRootAccess/xAODRootAccess/tools/TFileAccessTracer.h" line="46" bodyfile="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/xAODRootAccess/xAODRootAccess/tools/TFileAccessTracer.h" bodystart="46" bodyend="101"/>
    <listofallmembers>
      <member refid="d3/d9f/classxAOD_1_1TFileAccessTracer_1a32f872cebfa575219ad5835092877049" prot="public" virt="non-virtual"><scope>xAOD::TFileAccessTracer</scope><name>add</name></member>
      <member refid="d3/d9f/classxAOD_1_1TFileAccessTracer_1aada06df6967ffcfc19bd3b26bf3de3da" prot="public" virt="non-virtual"><scope>xAOD::TFileAccessTracer</scope><name>enableDataSubmission</name></member>
      <member refid="d3/d9f/classxAOD_1_1TFileAccessTracer_1ad406141899c21ba5f27b228d9d0ad1b7" prot="private" virt="non-virtual"><scope>xAOD::TFileAccessTracer</scope><name>m_accessedFiles</name></member>
      <member refid="d3/d9f/classxAOD_1_1TFileAccessTracer_1a2756b080ea06b0de610f745e94af58c8" prot="private" virt="non-virtual"><scope>xAOD::TFileAccessTracer</scope><name>m_enableDataSumbission</name></member>
      <member refid="d3/d9f/classxAOD_1_1TFileAccessTracer_1a6e2892f5998eaa0aaf8e781ea538bf83" prot="private" virt="non-virtual"><scope>xAOD::TFileAccessTracer</scope><name>m_monitoredFraction</name></member>
      <member refid="d3/d9f/classxAOD_1_1TFileAccessTracer_1a797e38b55c4cb2fe9dddff5d3660efd3" prot="private" virt="non-virtual"><scope>xAOD::TFileAccessTracer</scope><name>m_readStats</name></member>
      <member refid="d3/d9f/classxAOD_1_1TFileAccessTracer_1ae8b149de94853185336167206ebda206" prot="private" virt="non-virtual"><scope>xAOD::TFileAccessTracer</scope><name>m_serverAddress</name></member>
      <member refid="d3/d9f/classxAOD_1_1TFileAccessTracer_1aa8fac13585d7a44d7224671e6855df41" prot="private" virt="non-virtual"><scope>xAOD::TFileAccessTracer</scope><name>m_serverInetAddress</name></member>
      <member refid="d3/d9f/classxAOD_1_1TFileAccessTracer_1ac9e65f41beed2d30ae4c3c525dc250b7" prot="public" virt="non-virtual"><scope>xAOD::TFileAccessTracer</scope><name>monitoredFraction</name></member>
      <member refid="d3/d9f/classxAOD_1_1TFileAccessTracer_1a6aafa0ab7c6c5f9486ed9dd02d6d2a46" prot="public" virt="non-virtual"><scope>xAOD::TFileAccessTracer</scope><name>serverAddress</name></member>
      <member refid="d3/d9f/classxAOD_1_1TFileAccessTracer_1a5d444cd0cf697a59c4c06302affcef68" prot="public" virt="non-virtual"><scope>xAOD::TFileAccessTracer</scope><name>setMonitoredFraction</name></member>
      <member refid="d3/d9f/classxAOD_1_1TFileAccessTracer_1aca155bcf023d5c70a85ebf7ea4c3777b" prot="public" virt="non-virtual"><scope>xAOD::TFileAccessTracer</scope><name>setServerAddress</name></member>
      <member refid="d3/d9f/classxAOD_1_1TFileAccessTracer_1aaea0382d31e268d07751e83e7785b8c1" prot="public" virt="non-virtual"><scope>xAOD::TFileAccessTracer</scope><name>TFileAccessTracer</name></member>
      <member refid="d3/d9f/classxAOD_1_1TFileAccessTracer_1a74909672fd4163601d9506fae8eeb00f" prot="public" virt="non-virtual"><scope>xAOD::TFileAccessTracer</scope><name>~TFileAccessTracer</name></member>
    </listofallmembers>
  </compounddef>
</doxygen>
