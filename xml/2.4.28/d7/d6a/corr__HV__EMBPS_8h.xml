<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.6.1">
  <compounddef id="d7/d6a/corr__HV__EMBPS_8h" kind="file">
    <compoundname>corr_HV_EMBPS.h</compoundname>
    <includes local="yes">TProfile2D.h</includes>
    <includes local="yes">TFile.h</includes>
    <includedby refid="d3/da0/egammaLayerRecalibTool_8h" local="yes">/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/egammaLayerRecalibTool/egammaLayerRecalibTool/egammaLayerRecalibTool.h</includedby>
    <includedby refid="d4/df3/corr__HV__EMBPS_8cxx" local="yes">/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/egammaLayerRecalibTool/Root/corr_HV_EMBPS.cxx</includedby>
    <incdepgraph>
      <node id="114863">
        <label>TProfile2D.h</label>
      </node>
      <node id="114864">
        <label>TFile.h</label>
      </node>
      <node id="114862">
        <label>/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/egammaLayerRecalibTool/egammaLayerRecalibTool/corr_HV_EMBPS.h</label>
        <link refid="corr_HV_EMBPS.h"/>
        <childnode refid="114863" relation="include">
        </childnode>
        <childnode refid="114864" relation="include">
        </childnode>
      </node>
    </incdepgraph>
    <invincdepgraph>
      <node id="114866">
        <label>/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/egammaLayerRecalibTool/egammaLayerRecalibTool/egammaLayerRecalibTool.h</label>
        <link refid="d3/da0/egammaLayerRecalibTool_8h_source"/>
        <childnode refid="114867" relation="include">
        </childnode>
      </node>
      <node id="114867">
        <label>/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/egammaLayerRecalibTool/egammaLayerRecalibTool/egammaLayerRecalibToolDict.h</label>
        <link refid="d4/d4e/egammaLayerRecalibToolDict_8h_source"/>
      </node>
      <node id="114865">
        <label>/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/egammaLayerRecalibTool/egammaLayerRecalibTool/corr_HV_EMBPS.h</label>
        <link refid="corr_HV_EMBPS.h"/>
        <childnode refid="114866" relation="include">
        </childnode>
      </node>
    </invincdepgraph>
    <innerclass refid="de/dc7/classcorr__HV__EMBPS" prot="public">corr_HV_EMBPS</innerclass>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#ifndef<sp/>CORR_HV_EMBPS_H</highlight></codeline>
<codeline lineno="2"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>CORR_HV_EMBPS_H</highlight></codeline>
<codeline lineno="3"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#include<sp/>&quot;TProfile2D.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;TFile.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight></codeline>
<codeline lineno="28" refid="de/dc7/classcorr__HV__EMBPS" refkind="compound"><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="de/dc7/classcorr__HV__EMBPS" kindref="compound" tooltip="Correction for time dependent HV effect in barrel presampler scale in 2012.">corr_HV_EMBPS</ref><sp/>{</highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><ref refid="de/dc7/classcorr__HV__EMBPS_1adfb71244c89b2ab6a616ba223ef662e3" kindref="member" tooltip="constructor (initialization done there reading a root file for the HV maps per period...">corr_HV_EMBPS</ref>();</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/>~<ref refid="de/dc7/classcorr__HV__EMBPS" kindref="compound" tooltip="Correction for time dependent HV effect in barrel presampler scale in 2012.">corr_HV_EMBPS</ref>();</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="de/dc7/classcorr__HV__EMBPS_1ac9533bd109740cf5fdc6008acc99167d" kindref="member" tooltip="get correction factor to apply to raw EMBPS energy : corrected raw EMBPS energy =...">getCorr</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>run,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>eta,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>phi)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>response<sp/>factor<sp/>as<sp/>computed<sp/>in<sp/>reconstruction</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/>(E<sp/>measured<sp/>=<sp/>E<sp/>nominalHV<sp/>*<sp/>response<sp/>factor(HV)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>getRecoCorrection(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>hv,</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>eta)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>functions<sp/>to<sp/>computed<sp/>scale<sp/>factor<sp/>as<sp/>in<sp/>reconstruction</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>Respo(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>e,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>e_nominal,</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>tempe)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>InvCharge(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>e)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>vdrift(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>e,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>tempe)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>extra<sp/>response<sp/>factor<sp/>derive<sp/>from<sp/>latest<sp/>data<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/>(E<sp/>measured<sp/>data)<sp/>=<sp/>(E<sp/>corrected<sp/>by<sp/>reconstruction)*<sp/>extra<sp/>response<sp/>factor<sp/>(HV)<sp/><sp/>for<sp/>run<sp/>&gt;=211670</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>getDataCorrection(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>hv,</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>eta)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>change<sp/>to<sp/>extra<sp/>response<sp/>factor<sp/>to<sp/>apply<sp/>to<sp/>data<sp/>before<sp/>run<sp/>211670<sp/>for<sp/>HV&lt;1600<sp/>to<sp/>account<sp/>for<sp/>the<sp/>fact<sp/>that</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>OFC<sp/>and<sp/>Mphys/Mcal<sp/>where<sp/>changed<sp/>at<sp/>run<sp/>211670<sp/>to<sp/>be<sp/>computed<sp/>with<sp/>HV=1200<sp/>instead<sp/>of<sp/>HV=2000</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>getExtraScaleFactor()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>store<sp/>HV<sp/>corrections<sp/>for<sp/>6<sp/>periods,<sp/>and<sp/>2<sp/>sides</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>each<sp/>histogram<sp/>has<sp/>8<sp/>bins<sp/>in<sp/>eta<sp/>(deltaEta=0.4)<sp/>and<sp/>32<sp/>bins<sp/>in<sp/>phi<sp/>(2pi/32)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/>TProfile2D*<sp/>hHV[6][2];</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/>TFile*<sp/>m_file;</highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal">};</highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
    </programlisting>
    <location file="/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/egammaLayerRecalibTool/egammaLayerRecalibTool/corr_HV_EMBPS.h"/>
  </compounddef>
</doxygen>
