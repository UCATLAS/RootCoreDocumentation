<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>RootCore Packages: Trig::BunchTrain Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="../../index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="../../search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="../../annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="../../d2/d87/namespaceTrig.html">Trig</a>::<a class="el" href="../../d2/d3e/classTrig_1_1BunchTrain.html">BunchTrain</a>
  </div>
</div>
<div class="contents">
<h1>Trig::BunchTrain Class Reference</h1><!-- doxytag: class="Trig::BunchTrain" -->
<p><a class="el" href="../../d4/dc4/structA.html">A</a> smart set of <a class="el" href="../../d6/db1/classTrig_1_1BunchCrossing.html" title="A smart integer class representing bunch crossings.">BunchCrossing</a> objects.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d5/d28/BunchTrain_8h_source.html">BunchTrain.h</a>&gt;</code></p>

<p><a href="../../da/dfc/classTrig_1_1BunchTrain-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d3e/classTrig_1_1BunchTrain.html#aa0398bd0bd49b9fd6bf10042a993f347">BunchTrain</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Default constructor.  <a href="#aa0398bd0bd49b9fd6bf10042a993f347"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d3e/classTrig_1_1BunchTrain.html#a9805f3c301c7a54e95ecc897c389adcc">BunchTrain</a> (const <a class="el" href="../../d2/d3e/classTrig_1_1BunchTrain.html">BunchTrain</a> &amp;parent)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Copy constructor.  <a href="#a9805f3c301c7a54e95ecc897c389adcc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a098d3dd896bdc5e0d1d9ecf864c9ff1c"></a><!-- doxytag: member="Trig::BunchTrain::operator=" ref="a098d3dd896bdc5e0d1d9ecf864c9ff1c" args="(const BunchTrain &amp;rhs)" -->
<a class="el" href="../../d2/d3e/classTrig_1_1BunchTrain.html">BunchTrain</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d3e/classTrig_1_1BunchTrain.html#a098d3dd896bdc5e0d1d9ecf864c9ff1c">operator=</a> (const <a class="el" href="../../d2/d3e/classTrig_1_1BunchTrain.html">BunchTrain</a> &amp;rhs)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Assignment operator. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d3e/classTrig_1_1BunchTrain.html#a2f9601b12403871a656ae66d494a25cc">spacing</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Spacing of the bunches in this train in nanoseconds.  <a href="#a2f9601b12403871a656ae66d494a25cc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d3e/classTrig_1_1BunchTrain.html#ad933be45cefbc7704911d70da5ba46c3">distance</a> (const <a class="el" href="../../d6/db1/classTrig_1_1BunchCrossing.html">BunchCrossing</a> &amp;bc) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">"Distance" of a bunch crossing from this bunch train  <a href="#ad933be45cefbc7704911d70da5ba46c3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d3e/classTrig_1_1BunchTrain.html#ae939259306168d71e1f3551e05b94fa7">isInside</a> (const <a class="el" href="../../d6/db1/classTrig_1_1BunchCrossing.html">BunchCrossing</a> &amp;bc) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check if a bunch crossing is inside this train.  <a href="#ae939259306168d71e1f3551e05b94fa7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const_iterator&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d3e/classTrig_1_1BunchTrain.html#ae950c4962b954b523b8f955952511030">train_front</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Iterator pointing to the first bunch in the train.  <a href="#ae950c4962b954b523b8f955952511030"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const_iterator&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d3e/classTrig_1_1BunchTrain.html#afb28d88f6f6dac720348b0e57199d2f0">train_back</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Iterator pointing to the last bunch in the train.  <a href="#afb28d88f6f6dac720348b0e57199d2f0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d3e/classTrig_1_1BunchTrain.html#a06595f15ff086dfed71affa6f73af68e">validate</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check the spacing of the bunches in the train.  <a href="#a06595f15ff086dfed71affa6f73af68e"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p><a class="el" href="../../d4/dc4/structA.html">A</a> smart set of <a class="el" href="../../d6/db1/classTrig_1_1BunchCrossing.html" title="A smart integer class representing bunch crossings.">BunchCrossing</a> objects. </p>
<p>This class is used internally to describe a bunch train. It's basically just a list of <a class="el" href="../../d6/db1/classTrig_1_1BunchCrossing.html" title="A smart integer class representing bunch crossings.">BunchCrossing</a> objects with a couple of convenience functions.</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Attila Krasznahorkay &lt;<a href="mailto:Attila.Krasznahorkay@cern.ch">Attila.Krasznahorkay@cern.ch</a>&gt;</dd></dl>
<dl class="rcs"><dt><b>Revision</b></dt><dd>618129 </dd></dl>
<dl class="rcs"><dt><b>Date</b></dt><dd>2014-09-23 13:37:00 +0200 (Tue, 23 Sep 2014) </dd></dl>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aa0398bd0bd49b9fd6bf10042a993f347"></a><!-- doxytag: member="Trig::BunchTrain::BunchTrain" ref="aa0398bd0bd49b9fd6bf10042a993f347" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Trig::BunchTrain::BunchTrain </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Default constructor. </p>
<p>Default constructor, creating an empty bunch train. </p>

</div>
</div>
<a class="anchor" id="a9805f3c301c7a54e95ecc897c389adcc"></a><!-- doxytag: member="Trig::BunchTrain::BunchTrain" ref="a9805f3c301c7a54e95ecc897c389adcc" args="(const BunchTrain &amp;parent)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Trig::BunchTrain::BunchTrain </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d2/d3e/classTrig_1_1BunchTrain.html">BunchTrain</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>parent</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Copy constructor. </p>
<p>The internal iterators don't remain valid if we just use the default copy constructor. Hence when the object is copied, the validation has to be run again.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>parent</em>&nbsp;</td><td>The original <a class="el" href="../../d2/d3e/classTrig_1_1BunchTrain.html" title="A smart set of BunchCrossing objects.">BunchTrain</a> object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ad933be45cefbc7704911d70da5ba46c3"></a><!-- doxytag: member="Trig::BunchTrain::distance" ref="ad933be45cefbc7704911d70da5ba46c3" args="(const BunchCrossing &amp;bc) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Trig::BunchTrain::distance </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/db1/classTrig_1_1BunchCrossing.html">BunchCrossing</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>bc</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>"Distance" of a bunch crossing from this bunch train </p>
<p>This function is used by the code to determine if a new bunch crossing should be merged into this bunch train or not. The calculation of the distance of a bunch crossing from a bunch train is pretty simple. If the train is empty, or the bunch crossing is already in it, the distance is 0. Otherwise the code calculates the distance of the reference bunch crossing from all the bunch crossings which are already in the train, and takes the smallest value. It's not the fastest method, but it's the only reliable method that I've found...</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>bc</em>&nbsp;</td><td>The reference bunch crossing </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The distance of the reference bunch crossing from this bunch train </dd></dl>

</div>
</div>
<a class="anchor" id="ae939259306168d71e1f3551e05b94fa7"></a><!-- doxytag: member="Trig::BunchTrain::isInside" ref="ae939259306168d71e1f3551e05b94fa7" args="(const BunchCrossing &amp;bc) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Trig::BunchTrain::isInside </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/db1/classTrig_1_1BunchCrossing.html">BunchCrossing</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>bc</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check if a bunch crossing is inside this train. </p>
<p>This function checks if the specified bunch crossing is "inside" this bunch train. This can mean two different things. Either the bunch crossing is a filled bunch crossing which is part of the train, or the bunch crossing is an empty bunch crossing which is between the front and the tail of this train.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>bc</em>&nbsp;</td><td>The reference bunch crossing </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>true</code> if the reference bunch crossing is "inside" the train, or <code>false</code> if it isn't </dd></dl>

</div>
</div>
<a class="anchor" id="a2f9601b12403871a656ae66d494a25cc"></a><!-- doxytag: member="Trig::BunchTrain::spacing" ref="a2f9601b12403871a656ae66d494a25cc" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Trig::BunchTrain::spacing </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Spacing of the bunches in this train in nanoseconds. </p>
<p>The spacing between the bunches in the train is calculated by the <a class="el" href="../../d2/d3e/classTrig_1_1BunchTrain.html#a06595f15ff086dfed71affa6f73af68e" title="Check the spacing of the bunches in the train.">BunchTrain::validate()</a> function, so you should only trust this value once the validation ran on this object.</p>
<p>The value is stored in nanoseconds to maybe make the meaning of the value a bit more obvious.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The bunch spacing in nanoseconds, or -1 if the object has not been validated yet </dd></dl>

</div>
</div>
<a class="anchor" id="afb28d88f6f6dac720348b0e57199d2f0"></a><!-- doxytag: member="Trig::BunchTrain::train_back" ref="afb28d88f6f6dac720348b0e57199d2f0" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BunchTrain::const_iterator Trig::BunchTrain::train_back </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Iterator pointing to the last bunch in the train. </p>
<p>The returned iterator always points to the last bunch of the train.</p>
<p>Note that it is a valid iterator, which actually points to the end of the train. So you shouldn't use it in for loops like end().</p>
<p>The rest of the logic is the same as with <a class="el" href="../../d2/d3e/classTrig_1_1BunchTrain.html#ae950c4962b954b523b8f955952511030" title="Iterator pointing to the first bunch in the train.">train_front()</a>.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="../../d2/d3e/classTrig_1_1BunchTrain.html#ae950c4962b954b523b8f955952511030" title="Iterator pointing to the first bunch in the train.">train_front</a> </dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The element that is logically at the back of the train </dd></dl>

</div>
</div>
<a class="anchor" id="ae950c4962b954b523b8f955952511030"></a><!-- doxytag: member="Trig::BunchTrain::train_front" ref="ae950c4962b954b523b8f955952511030" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BunchTrain::const_iterator Trig::BunchTrain::train_front </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Iterator pointing to the first bunch in the train. </p>
<p>The returned iterator always points to the first bunch of the train.</p>
<p>Note however, that can only be "logically" the first bunch of the train. When a train stretches over the "BCID turnover" region, the underlying <code>std::set</code> object will order the bunches like this:</p>
<p>0, 1, 2, 3562, 3563</p>
<p>In this case 3562 is the first bunch of the train, and this function will return an iterator pointing to that element.</p>
<p>This iterator is determined in the <a class="el" href="../../d2/d3e/classTrig_1_1BunchTrain.html#a06595f15ff086dfed71affa6f73af68e" title="Check the spacing of the bunches in the train.">validate()</a> function, so the code must always call <a class="el" href="../../d2/d3e/classTrig_1_1BunchTrain.html#a06595f15ff086dfed71affa6f73af68e" title="Check the spacing of the bunches in the train.">validate()</a> at least once before using this iterator.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The element that is logically the front of the train </dd></dl>

</div>
</div>
<a class="anchor" id="a06595f15ff086dfed71affa6f73af68e"></a><!-- doxytag: member="Trig::BunchTrain::validate" ref="a06595f15ff086dfed71affa6f73af68e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Trig::BunchTrain::validate </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check the spacing of the bunches in the train. </p>
<p>The function checks if the bunches in the train have equal spacing in between them. This should be the case if everything went correctly with the code...</p>
<p>It also checks whether the train stretches over the "BCID turnover" or not. If it does, it sets the m_front and m_back variables correctly. If it does not, then the train doesn't have to be treated in a special way.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>true</code> if the validation passes, <code>false</code> otherwise </dd></dl>

<p><p>Helper object to print logging messages: </p>
</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/TrigBunchCrossingTool/TrigBunchCrossingTool/<a class="el" href="../../d5/d28/BunchTrain_8h_source.html">BunchTrain.h</a></li>
<li>/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.28/TrigBunchCrossingTool/Root/BunchTrain.cxx</li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 14 Apr 2017 for RootCore Packages by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
