<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>RootCore Packages: Analysis::CalibrationDataInterfaceTool Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="../../index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="../../search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="../../annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><b>Analysis</b>::<a class="el" href="../../d6/d97/classAnalysis_1_1CalibrationDataInterfaceTool.html">CalibrationDataInterfaceTool</a>
  </div>
</div>
<div class="contents">
<h1>Analysis::CalibrationDataInterfaceTool Class Reference</h1><!-- doxytag: class="Analysis::CalibrationDataInterfaceTool" --><!-- doxytag: inherits="Analysis::ICalibrationDataInterfaceTool,Analysis::CalibrationDataInterfaceBase" -->
<p><code>#include &lt;<a class="el" href="../../d8/d17/CalibrationDataInterfaceROOT_8h_source.html">CalibrationDataInterfaceROOT.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Analysis::CalibrationDataInterfaceTool:</div>
<div class="dynsection">
 <div class="center">
  <img src="../../d6/d97/classAnalysis_1_1CalibrationDataInterfaceTool.gif" usemap="#Analysis::CalibrationDataInterfaceTool_map" alt=""/>
  <map id="Analysis::CalibrationDataInterfaceTool_map" name="Analysis::CalibrationDataInterfaceTool_map">
<area href="../../d5/d8a/classAnalysis_1_1ICalibrationDataInterfaceTool.html" alt="Analysis::ICalibrationDataInterfaceTool" shape="rect" coords="0,0,231,24"/>
<area href="../../d7/d79/classAnalysis_1_1CalibrationDataInterfaceBase.html" alt="Analysis::CalibrationDataInterfaceBase" shape="rect" coords="241,0,472,24"/>
</map>
 </div>
</div>

<p><a href="../../d6/d54/classAnalysis_1_1CalibrationDataInterfaceTool-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0e17a29da3d64afc3c13ac63a4e8bd0f"></a><!-- doxytag: member="Analysis::CalibrationDataInterfaceTool::CalibrationDataInterfaceTool" ref="a0e17a29da3d64afc3c13ac63a4e8bd0f" args="(const std::string &amp;, const std::string &amp;, const IInterface *)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>CalibrationDataInterfaceTool</b> (const std::string &amp;, const std::string &amp;, const IInterface *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d97/classAnalysis_1_1CalibrationDataInterfaceTool.html#ab1c26bb910c6db894e58991611b87e1e">~CalibrationDataInterfaceTool</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">StatusCode&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d97/classAnalysis_1_1CalibrationDataInterfaceTool.html#a2073c750abb54db0da1b4697fb70af7f">queryInterface</a> (const InterfaceID &amp;riid, void **ppvIf)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual StatusCode&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d97/classAnalysis_1_1CalibrationDataInterfaceTool.html#a95b6a751fb8345eb9b2ffa9f3fda89ba">initialize</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual StatusCode&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d97/classAnalysis_1_1CalibrationDataInterfaceTool.html#ad1fa60d95e6e0e096bb84fa2e2d7ac92">finalize</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CalibResult&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d97/classAnalysis_1_1CalibrationDataInterfaceTool.html#a9c1da19c5832baa9b9c96dce53fc99de">getEfficiency</a> (const Jet &amp;jet, const std::string &amp;label, const std::string &amp;OP, <a class="el" href="../../d5/d8a/classAnalysis_1_1ICalibrationDataInterfaceTool.html#aa20d1ba2acbc7774478f3aee87e41538">Uncertainty</a> unc=None) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CalibResult&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d97/classAnalysis_1_1CalibrationDataInterfaceTool.html#a2035ebb456b287cfb921409bc93119c4">getMCEfficiency</a> (const Jet &amp;jet, const std::string &amp;label, const std::string &amp;OP, <a class="el" href="../../d5/d8a/classAnalysis_1_1ICalibrationDataInterfaceTool.html#aa20d1ba2acbc7774478f3aee87e41538">Uncertainty</a> unc=None) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CalibResult&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d97/classAnalysis_1_1CalibrationDataInterfaceTool.html#ae0a110fbf9a8ad4959fefe1a2953442a">getScaleFactor</a> (const Jet &amp;jet, const std::string &amp;label, const std::string &amp;OP, <a class="el" href="../../d5/d8a/classAnalysis_1_1ICalibrationDataInterfaceTool.html#aa20d1ba2acbc7774478f3aee87e41538">Uncertainty</a> unc=None) const </td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>hold: in particular, "channel" (jet author) aliasing is possible. The difference is that run-time information is to be provided in a text file to be interpreted using ROOT's TEnv and</p>
<p>DB representation (all residing under a common root folder): .../&lt;jet author&gt;=""&gt;/&lt;tagger&gt;/&lt;operating point&gt;=""&gt;/&lt;flavour&gt;/&lt;object name&gt;=""&gt; where &lt;operating point&gt;=""&gt; can be a weight cut (represented as a string, with the period replaced with an underscore) or the string "Continuous" (for continuous calibration purposes).</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Frank Filthaut &lt;<a href="mailto:F.Filthaut@science.ru.nl">F.Filthaut@science.ru.nl</a>&gt;</dd></dl>
<p>This tool provides an interface to flavour tagging performance estimates.</p>
<p><a class="el" href="../../d4/dc4/structA.html">A</a> separate instance should be used for each different tagging algorithm. For each instance, all appropriate jet collections and tagger operating points need to be specified.</p>
<p>The model:</p>
<ul>
<li>b-jets: data-MC scale factor (factorised 2D function of eta, pt) MC reference the product is the data efficiency; alternatively, the scale factor may be used</li>
<li>c-jets: as for b-jets, but with a different MC reference</li>
<li>light-flavour jets: data-MC scale factor (factorised 2D function of eta, pt) MC reference Besides the results, it is also possible to retrieve associated uncertainties. This need not be configured, and a choice as to the uncertainty component can be made on a case-by-case basis.</li>
</ul>
<p>To retrieve results from COOL, a CalibrationBroker instance is used (a separate one from the one used for tagger weight distributions). This allows to use the CalibrationBroker's channel aliasing (although possibly with different aliases). Of course it is up to the user to verify that the aliasing is appropriate!</p>
<p>DB representation (all residing under a common root folder): .../&lt;jet author&gt;=""&gt;/&lt;tagger&gt;/&lt;operating point&gt;=""&gt;/&lt;flavour&gt;/&lt;object name&gt;=""&gt;</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Frank Filthaut &lt;<a href="mailto:F.Filthaut@science.ru.nl">F.Filthaut@science.ru.nl</a>&gt; </dd></dl>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab1c26bb910c6db894e58991611b87e1e"></a><!-- doxytag: member="Analysis::CalibrationDataInterfaceTool::~CalibrationDataInterfaceTool" ref="ab1c26bb910c6db894e58991611b87e1e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Analysis::CalibrationDataInterfaceTool::~CalibrationDataInterfaceTool </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>default destructor </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ad1fa60d95e6e0e096bb84fa2e2d7ac92"></a><!-- doxytag: member="Analysis::CalibrationDataInterfaceTool::finalize" ref="ad1fa60d95e6e0e096bb84fa2e2d7ac92" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StatusCode Analysis::CalibrationDataInterfaceTool::finalize </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>standard Athena-Algorithm method </p>

</div>
</div>
<a class="anchor" id="a9c1da19c5832baa9b9c96dce53fc99de"></a><!-- doxytag: member="Analysis::CalibrationDataInterfaceTool::getEfficiency" ref="a9c1da19c5832baa9b9c96dce53fc99de" args="(const Jet &amp;jet, const std::string &amp;label, const std::string &amp;OP, Uncertainty unc=None) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CalibResult Analysis::CalibrationDataInterfaceTool::getEfficiency </td>
          <td>(</td>
          <td class="paramtype">const Jet &amp;&nbsp;</td>
          <td class="paramname"> <em>jet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>label</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>OP</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d8a/classAnalysis_1_1ICalibrationDataInterfaceTool.html#aa20d1ba2acbc7774478f3aee87e41538">Uncertainty</a>&nbsp;</td>
          <td class="paramname"> <em>unc</em> = <code>None</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Main interface methods accessing the flavour tagging performance information. Note that for both of the following, the label is assumed to adhere to the TruthInfo conventions (see package PhysicsAnalysis/JetTagging/JetTagInfo). efficiency retrieval </p>

<p>Implements <a class="el" href="../../d5/d8a/classAnalysis_1_1ICalibrationDataInterfaceTool.html#a889cdb7d20dbd38a3e13627b6d4ee130">Analysis::ICalibrationDataInterfaceTool</a>.</p>

</div>
</div>
<a class="anchor" id="a2035ebb456b287cfb921409bc93119c4"></a><!-- doxytag: member="Analysis::CalibrationDataInterfaceTool::getMCEfficiency" ref="a2035ebb456b287cfb921409bc93119c4" args="(const Jet &amp;jet, const std::string &amp;label, const std::string &amp;OP, Uncertainty unc=None) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CalibResult Analysis::CalibrationDataInterfaceTool::getMCEfficiency </td>
          <td>(</td>
          <td class="paramtype">const Jet &amp;&nbsp;</td>
          <td class="paramname"> <em>jet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>label</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>OP</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d8a/classAnalysis_1_1ICalibrationDataInterfaceTool.html#aa20d1ba2acbc7774478f3aee87e41538">Uncertainty</a>&nbsp;</td>
          <td class="paramname"> <em>unc</em> = <code>None</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"MC" efficiency retrieval </p>

<p>Implements <a class="el" href="../../d5/d8a/classAnalysis_1_1ICalibrationDataInterfaceTool.html#afc78b1129c69fd3582d46692c66adb42">Analysis::ICalibrationDataInterfaceTool</a>.</p>

</div>
</div>
<a class="anchor" id="ae0a110fbf9a8ad4959fefe1a2953442a"></a><!-- doxytag: member="Analysis::CalibrationDataInterfaceTool::getScaleFactor" ref="ae0a110fbf9a8ad4959fefe1a2953442a" args="(const Jet &amp;jet, const std::string &amp;label, const std::string &amp;OP, Uncertainty unc=None) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CalibResult Analysis::CalibrationDataInterfaceTool::getScaleFactor </td>
          <td>(</td>
          <td class="paramtype">const Jet &amp;&nbsp;</td>
          <td class="paramname"> <em>jet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>label</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>OP</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d8a/classAnalysis_1_1ICalibrationDataInterfaceTool.html#aa20d1ba2acbc7774478f3aee87e41538">Uncertainty</a>&nbsp;</td>
          <td class="paramname"> <em>unc</em> = <code>None</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>efficiency scale factor retrieval </p>

<p>Implements <a class="el" href="../../d5/d8a/classAnalysis_1_1ICalibrationDataInterfaceTool.html#ade8ddfa58bc2b2a429778156be1971e3">Analysis::ICalibrationDataInterfaceTool</a>.</p>

</div>
</div>
<a class="anchor" id="a95b6a751fb8345eb9b2ffa9f3fda89ba"></a><!-- doxytag: member="Analysis::CalibrationDataInterfaceTool::initialize" ref="a95b6a751fb8345eb9b2ffa9f3fda89ba" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StatusCode Analysis::CalibrationDataInterfaceTool::initialize </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>standard Athena-Algorithm method </p>

</div>
</div>
<a class="anchor" id="a2073c750abb54db0da1b4697fb70af7f"></a><!-- doxytag: member="Analysis::CalibrationDataInterfaceTool::queryInterface" ref="a2073c750abb54db0da1b4697fb70af7f" args="(const InterfaceID &amp;riid, void **ppvIf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StatusCode Analysis::CalibrationDataInterfaceTool::queryInterface </td>
          <td>(</td>
          <td class="paramtype">const InterfaceID &amp;&nbsp;</td>
          <td class="paramname"> <em>riid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&nbsp;</td>
          <td class="paramname"> <em>ppvIf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>allow access to the <a class="el" href="../../d5/d8a/classAnalysis_1_1ICalibrationDataInterfaceTool.html">ICalibrationDataInterfaceTool</a> interface </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.30/CalibrationDataInterface/CalibrationDataInterface/<a class="el" href="../../d2/d29/CalibrationDataInterfaceTool_8h_source.html">CalibrationDataInterfaceTool.h</a></li>
<li>/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.30/CalibrationDataInterface/src/CalibrationDataInterfaceTool.cxx</li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 15 Apr 2017 for RootCore Packages by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
