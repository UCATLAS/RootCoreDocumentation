<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>RootCore Packages: CxxUtils::pointer_list_base Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="../../index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="../../search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="../../annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="../../de/d12/namespaceCxxUtils.html">CxxUtils</a>::<a class="el" href="../../d1/d6f/classCxxUtils_1_1pointer__list__base.html">pointer_list_base</a>
  </div>
</div>
<div class="contents">
<h1>CxxUtils::pointer_list_base Class Reference</h1><!-- doxytag: class="CxxUtils::pointer_list_base" -->
<p>A fast way to store a variable-sized collection of pointers.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../df/d5b/pointer__list_8h_source.html">pointer_list.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CxxUtils::pointer_list_base:</div>
<div class="dynsection">
 <div class="center">
  <img src="../../d1/d6f/classCxxUtils_1_1pointer__list__base.gif" usemap="#CxxUtils::pointer_list_base_map" alt=""/>
  <map id="CxxUtils::pointer_list_base_map" name="CxxUtils::pointer_list_base_map">
<area href="../../d1/d88/classCxxUtils_1_1pointer__list.html" alt="CxxUtils::pointer_list&lt; NELT &gt;" shape="rect" coords="0,56,178,80"/>
</map>
 </div>
</div>

<p><a href="../../d8/d74/classCxxUtils_1_1pointer__list__base-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d49/classCxxUtils_1_1pointer__list__base_1_1allocator.html">allocator</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Very simple <a class="el" href="../../d9/d49/classCxxUtils_1_1pointer__list__base_1_1allocator.html" title="Very simple allocator for use with pointer_list.">allocator</a> for use with <code><a class="el" href="../../d1/d88/classCxxUtils_1_1pointer__list.html" title="A fast way to store a variable-sized collection of pointers.">pointer_list</a></code>.  <a href="../../d9/d49/classCxxUtils_1_1pointer__list__base_1_1allocator.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d02/structCxxUtils_1_1pointer__list__base_1_1list__block.html">list_block</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A single block in the list.  <a href="../../d8/d02/structCxxUtils_1_1pointer__list__base_1_1list__block.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaef14c875027b24d7b0487afd154ac6c"></a><!-- doxytag: member="CxxUtils::pointer_list_base::pool_type" ref="aaef14c875027b24d7b0487afd154ac6c" args="" -->
typedef <a class="el" href="../../d9/d49/classCxxUtils_1_1pointer__list__base_1_1allocator.html">allocator</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6f/classCxxUtils_1_1pointer__list__base.html#aaef14c875027b24d7b0487afd154ac6c">pool_type</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Alias for <a class="el" href="../../d9/d49/classCxxUtils_1_1pointer__list__base_1_1allocator.html" title="Very simple allocator for use with pointer_list.">allocator</a>. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a05ce8c634f52db796a226f7d106d880d"></a><!-- doxytag: member="CxxUtils::pointer_list_base::value_type" ref="a05ce8c634f52db796a226f7d106d880d" args="" -->
typedef <a class="el" href="../../d8/d02/structCxxUtils_1_1pointer__list__base_1_1list__block.html#a9114d9d3599d90b47839cf4fe50d62b7">list_block::value_type</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6f/classCxxUtils_1_1pointer__list__base.html#a05ce8c634f52db796a226f7d106d880d">value_type</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The stored element type. <br/></td></tr>
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6f/classCxxUtils_1_1pointer__list__base.html#aa3ff405565087c57b138bc2c93b7d089">pointer_list_base</a> (<a class="el" href="../../d9/d49/classCxxUtils_1_1pointer__list__base_1_1allocator.html">pool_type</a> &amp;pool)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor. <code>pool</code> gives the <a class="el" href="../../d9/d49/classCxxUtils_1_1pointer__list__base_1_1allocator.html" title="Very simple allocator for use with pointer_list.">allocator</a> for this container.  <a href="#aa3ff405565087c57b138bc2c93b7d089"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0b50edbe29554cab55604475de9ba892"></a><!-- doxytag: member="CxxUtils::pointer_list_base::push_back" ref="a0b50edbe29554cab55604475de9ba892" args="(value_type p)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6f/classCxxUtils_1_1pointer__list__base.html#a0b50edbe29554cab55604475de9ba892">push_back</a> (<a class="el" href="../../d1/d6f/classCxxUtils_1_1pointer__list__base.html#a05ce8c634f52db796a226f7d106d880d">value_type</a> p)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a new element to the end of the container. O(1). <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad99ddada4b5778e2b1ed27dc66e9b412"></a><!-- doxytag: member="CxxUtils::pointer_list_base::size" ref="ad99ddada4b5778e2b1ed27dc66e9b412" args="() const " -->
size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6f/classCxxUtils_1_1pointer__list__base.html#ad99ddada4b5778e2b1ed27dc66e9b412">size</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The current size of the container. O(1). <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6f/classCxxUtils_1_1pointer__list__base.html#a576e42bb370de83f7c35adb55196ddba">clear</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aabc1382cca7d249203c993f1676690fc"></a><!-- doxytag: member="CxxUtils::pointer_list_base::empty" ref="aabc1382cca7d249203c993f1676690fc" args="() const " -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6f/classCxxUtils_1_1pointer__list__base.html#aabc1382cca7d249203c993f1676690fc">empty</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Test to see if the container is empty. <br/></td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a729fb5db811798fb3043eebe2ef04769"></a><!-- doxytag: member="CxxUtils::pointer_list_base::firstblock" ref="a729fb5db811798fb3043eebe2ef04769" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6f/classCxxUtils_1_1pointer__list__base.html#a729fb5db811798fb3043eebe2ef04769">firstblock</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allocate the first block of the list. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6f/classCxxUtils_1_1pointer__list__base.html#a3f02d69a29905525ae631cb382b9b275">nextblock</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad70f16a03ccd3148a7bc401cf25011e1"></a><!-- doxytag: member="CxxUtils::pointer_list_base::getblock" ref="ad70f16a03ccd3148a7bc401cf25011e1" args="()" -->
<a class="el" href="../../d8/d02/structCxxUtils_1_1pointer__list__base_1_1list__block.html">list_block</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6f/classCxxUtils_1_1pointer__list__base.html#ad70f16a03ccd3148a7bc401cf25011e1">getblock</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allocate a new block. <br/></td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a26839e41df177ff3adb6daa55b863bb7"></a><!-- doxytag: member="CxxUtils::pointer_list_base::m_head" ref="a26839e41df177ff3adb6daa55b863bb7" args="" -->
<a class="el" href="../../d8/d02/structCxxUtils_1_1pointer__list__base_1_1list__block.html">list_block</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6f/classCxxUtils_1_1pointer__list__base.html#a26839e41df177ff3adb6daa55b863bb7">m_head</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The first block in the list. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a41cb1b04f47a7bc8139085917f87e575"></a><!-- doxytag: member="CxxUtils::pointer_list_base::m_insert" ref="a41cb1b04f47a7bc8139085917f87e575" args="" -->
<a class="el" href="../../d1/d6f/classCxxUtils_1_1pointer__list__base.html#a05ce8c634f52db796a226f7d106d880d">value_type</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6f/classCxxUtils_1_1pointer__list__base.html#a41cb1b04f47a7bc8139085917f87e575">m_insert</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The current insertion point in the list. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a86eacb0b846710d79b15e8c731359bcc"></a><!-- doxytag: member="CxxUtils::pointer_list_base::m_size" ref="a86eacb0b846710d79b15e8c731359bcc" args="" -->
size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6f/classCxxUtils_1_1pointer__list__base.html#a86eacb0b846710d79b15e8c731359bcc">m_size</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The current list size. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abdf98cef31e29230e927bc54fa4b5568"></a><!-- doxytag: member="CxxUtils::pointer_list_base::m_pool" ref="abdf98cef31e29230e927bc54fa4b5568" args="" -->
<a class="el" href="../../d9/d49/classCxxUtils_1_1pointer__list__base_1_1allocator.html">allocator</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6f/classCxxUtils_1_1pointer__list__base.html#abdf98cef31e29230e927bc54fa4b5568">m_pool</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The list <a class="el" href="../../d9/d49/classCxxUtils_1_1pointer__list__base_1_1allocator.html" title="Very simple allocator for use with pointer_list.">allocator</a>. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>A fast way to store a variable-sized collection of pointers. </p>
<p>See <code><a class="el" href="../../d1/d88/classCxxUtils_1_1pointer__list.html" title="A fast way to store a variable-sized collection of pointers.">pointer_list</a></code> below for a summary.</p>
<p>Some extra <a class="el" href="../../dd/d39/namespacedetail.html">detail</a>: The list is a set of fixed-size blocks, each holding (by default) 15 pointers. At the end of each block is another pointer used to form a a linked list. We used to mark this last pointer by setting the low bit as a sentinel. But now that we control our own <a class="el" href="../../d9/d49/classCxxUtils_1_1pointer__list__base_1_1allocator.html" title="Very simple allocator for use with pointer_list.">allocator</a> we can instead just insist that the blocks have a size that's a power of 2 and are fully aligned. We can then test the low bits of the address to tell if we're looking at the last pointer of a block.</p>
<p>We then need to keep pointers to the head block, and to the current insertion position. To insert, we see if the insertion position is pointing at a block end. If so, we allocate another block, chain to it, and reset the insertion position to the beginning of the new block. Then store the pointer in the insertion position and bump it. Iterators are just pointers to the stored pointers. We use the end positions to tell when to chain to a new block. The insertion point gives the end iterator.</p>
<p><a class="el" href="../../d1/d88/classCxxUtils_1_1pointer__list.html" title="A fast way to store a variable-sized collection of pointers.">pointer_list</a> is templated on the number of pointers stored in each block. We put it as a template parameter so that it can be accessed from the iterator class without having to have a reference from the iterator back to the containing list. </p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aa3ff405565087c57b138bc2c93b7d089"></a><!-- doxytag: member="CxxUtils::pointer_list_base::pointer_list_base" ref="aa3ff405565087c57b138bc2c93b7d089" args="(pool_type &amp;pool)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CxxUtils::pointer_list_base::pointer_list_base </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d49/classCxxUtils_1_1pointer__list__base_1_1allocator.html">pool_type</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>pool</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor. <code>pool</code> gives the <a class="el" href="../../d9/d49/classCxxUtils_1_1pointer__list__base_1_1allocator.html" title="Very simple allocator for use with pointer_list.">allocator</a> for this container. </p>
<p>Constructor.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pool</em>&nbsp;</td><td>The <a class="el" href="../../d9/d49/classCxxUtils_1_1pointer__list__base_1_1allocator.html" title="Very simple allocator for use with pointer_list.">allocator</a> for this container. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a576e42bb370de83f7c35adb55196ddba"></a><!-- doxytag: member="CxxUtils::pointer_list_base::clear" ref="a576e42bb370de83f7c35adb55196ddba" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CxxUtils::pointer_list_base::clear </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Erase the container. O(1). Note: doesn't free memory. Memory currently in use will be reused when the container is filled again. </p>

</div>
</div>
<a class="anchor" id="a3f02d69a29905525ae631cb382b9b275"></a><!-- doxytag: member="CxxUtils::pointer_list_base::nextblock" ref="a3f02d69a29905525ae631cb382b9b275" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CxxUtils::pointer_list_base::nextblock </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Extend the list with another block. <code>m_insert</code> should be at the end of the last block. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.30/CxxUtils/CxxUtils/<a class="el" href="../../df/d5b/pointer__list_8h_source.html">pointer_list.h</a></li>
<li>/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.30/CxxUtils/CxxUtils/<a class="el" href="../../d1/d99/pointer__list_8icc.html">pointer_list.icc</a></li>
<li>/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.30/CxxUtils/Root/pointer_list.cxx</li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 15 Apr 2017 for RootCore Packages by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
