<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>RootCore Packages: xAOD::TSocket Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">RootCore Packages
   &#160;<span id="projectnumber">2.4.31</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dd/d44/namespacexAOD.html">xAOD</a></li><li class="navelem"><a class="el" href="../../d7/d11/classxAOD_1_1TSocket.html">TSocket</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../dd/d7a/classxAOD_1_1TSocket-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">xAOD::TSocket Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../d3/d40/TSocket_8h_source.html">TSocket.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8c38a7e113e6d90a577df6f11c56552f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8c38a7e113e6d90a577df6f11c56552f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d11/classxAOD_1_1TSocket.html#a8c38a7e113e6d90a577df6f11c56552f">TSocket</a> ()</td></tr>
<tr class="memdesc:a8c38a7e113e6d90a577df6f11c56552f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor with an address and a port. <br/></td></tr>
<tr class="separator:a8c38a7e113e6d90a577df6f11c56552f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdb782ad69a0af7eee391ea2f240e1f1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afdb782ad69a0af7eee391ea2f240e1f1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d11/classxAOD_1_1TSocket.html#afdb782ad69a0af7eee391ea2f240e1f1">~TSocket</a> ()</td></tr>
<tr class="memdesc:afdb782ad69a0af7eee391ea2f240e1f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br/></td></tr>
<tr class="separator:afdb782ad69a0af7eee391ea2f240e1f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94bc6ee554ef95945c4ec278c3adab2c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/da4/classxAOD_1_1TReturnCode.html">TReturnCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d11/classxAOD_1_1TSocket.html#a94bc6ee554ef95945c4ec278c3adab2c">connect</a> (const TInetAddress &amp;address, int port)</td></tr>
<tr class="memdesc:a94bc6ee554ef95945c4ec278c3adab2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function connecting to the specified address.  <a href="#a94bc6ee554ef95945c4ec278c3adab2c">More...</a><br/></td></tr>
<tr class="separator:a94bc6ee554ef95945c4ec278c3adab2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa4260fe0082f7278a3511facd271e59"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaa4260fe0082f7278a3511facd271e59"></a>
<a class="el" href="../../d1/da4/classxAOD_1_1TReturnCode.html">TReturnCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d11/classxAOD_1_1TSocket.html#aaa4260fe0082f7278a3511facd271e59">close</a> ()</td></tr>
<tr class="memdesc:aaa4260fe0082f7278a3511facd271e59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the current connection. <br/></td></tr>
<tr class="separator:aaa4260fe0082f7278a3511facd271e59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c7aa5e5f48178987f12e8a3b825a90e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4c7aa5e5f48178987f12e8a3b825a90e"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d11/classxAOD_1_1TSocket.html#a4c7aa5e5f48178987f12e8a3b825a90e">isConnected</a> () const </td></tr>
<tr class="memdesc:a4c7aa5e5f48178987f12e8a3b825a90e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the socket is connected to some address at the moment. <br/></td></tr>
<tr class="separator:a4c7aa5e5f48178987f12e8a3b825a90e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f7b437e94951ccbf776e40388221af6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/da4/classxAOD_1_1TReturnCode.html">TReturnCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d11/classxAOD_1_1TSocket.html#a2f7b437e94951ccbf776e40388221af6">send</a> (const TString &amp;payload)</td></tr>
<tr class="memdesc:a2f7b437e94951ccbf776e40388221af6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function sending a message to the connected address.  <a href="#a2f7b437e94951ccbf776e40388221af6">More...</a><br/></td></tr>
<tr class="separator:a2f7b437e94951ccbf776e40388221af6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Very simple wrapper around POSIX sockets</p>
<p>Since ROOT's <a class="el" href="../../d7/d11/classxAOD_1_1TSocket.html">TSocket</a> is not fit to be used in <a class="el" href="../../d3/d9f/classxAOD_1_1TFileAccessTracer.html">TFileAccessTracer</a>'s destructor (as some ROOT infrastructure may not be available by the time the destructor is called), we need our own simple implementation instead.</p>
<p>Most of the implementation is simply a copy of the code from TUnixSystem. Slightly simplified in some cases where we don't need the flexibility of the ROOT implementation.</p>
<dl class="section author"><dt>Author</dt><dd>Attila Krasznahorkay <a href="#" onclick="location.href='mai'+'lto:'+'Att'+'il'+'a.K'+'ra'+'szn'+'ah'+'ork'+'ay'+'@ce'+'rn'+'.ch'; return false;">Attil<span style="display: none;">.nosp@m.</span>a.Kr<span style="display: none;">.nosp@m.</span>aszna<span style="display: none;">.nosp@m.</span>hork<span style="display: none;">.nosp@m.</span>ay@ce<span style="display: none;">.nosp@m.</span>rn.c<span style="display: none;">.nosp@m.</span>h</a></dd></dl>
<dl class="section rcs"><dt>Revision:</dt><dd>781356 </dd></dl>
<dl class="section rcs"><dt>Date:</dt><dd>2016-10-31 15:03:28 +0100 (Mon, 31 Oct 2016) </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a94bc6ee554ef95945c4ec278c3adab2c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/da4/classxAOD_1_1TReturnCode.html">TReturnCode</a> xAOD::TSocket::connect </td>
          <td>(</td>
          <td class="paramtype">const TInetAddress &amp;&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function connecting to the specified address. </p>
<p>It turns out that translating a string address name into an integer address that the connect(...) function understands, is no easy feat. So instead we leave that up to ROOT. This translation just needs to be done "early enough" in the job when ROOT can still do it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>The address to send the data to </td></tr>
    <tr><td class="paramname">port</td><td>The port number to connect to #returns The usual return codes... </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2f7b437e94951ccbf776e40388221af6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/da4/classxAOD_1_1TReturnCode.html">TReturnCode</a> xAOD::TSocket::send </td>
          <td>(</td>
          <td class="paramtype">const TString &amp;&#160;</td>
          <td class="paramname"><em>payload</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function sending a message to the connected address. </p>
<p>This function is custom made for our use case. It sends HTML style information to the connected server.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">payload</td><td>The HTML style payload to send to the server </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The usual return codes... </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.31/xAODRootAccess/xAODRootAccess/tools/<a class="el" href="../../d3/d40/TSocket_8h_source.html">TSocket.h</a></li>
<li>/cvmfs/atlas.cern.ch/repo/sw/ASG/AnalysisBase/2.4.31/xAODRootAccess/Root/TSocket.cxx</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Dec 1 2017 11:09:14 for RootCore Packages by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
